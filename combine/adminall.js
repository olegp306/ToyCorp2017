function filterValidClass(n){return n?n.indexOf("valid-")!=-1:!1}function filterValidGroup(n,t){if(!n||!t)return!1;var i=/group-([\d\w]*)/g.exec(n);return i&&(i=i[1]),i==t}function initValidation(n,t){if($(n).length){var i=600;n.data("validLoad",!0),n.validate({showErrors:function(t,r){var f=this,u=n.data("validLoad");$.each(r,function(){var n=$(this.element),t,e,r,f;if(t=n.parent(".input-wrap").length>0?n.parent(".input-wrap"):n.parent(".textarea-wrap").length>0?n.parent(".textarea-wrap"):n,n.rules().required&&(e=t.nextAll(".error-icon"),e.removeClass("valid-success").addClass("valid-error")),u)return!0;r=t.nextAll(".error-message"),f=$("<div />",{html:this.message}).addClass("error-content"),r.empty().append(f),r.slideDown(i)}),$.each(f.successList,function(){var n=$(this),t,f,r,u;t=n.parent(".input-wrap").length>0?n.parent(".input-wrap"):n.parent(".textarea-wrap").length>0?n.parent(".textarea-wrap"):n,n.rules().required&&(f=t.nextAll(".error-icon"),f.removeClass("valid-error").addClass("valid-success")),r=t.nextAll(".error-message"),u=$("<div />",{html:this.message}).addClass("error-content"),r.slideUp(i,function(){r.empty().append(u)})})}}),validateControlsPos(n),n.valid(t),n.data("validLoad",!1)}}function validateControlsPos(n){var i=n!=null?$(n):$("form"),t;i.data("validator")&&(t=i.data("validator").elements(),t.each(function(){var n=$(this),r;r=n.parent(".input-wrap").length>0?n.parent(".input-wrap"):n.parent(".textarea-wrap").length>0?n.parent(".textarea-wrap"):n;var e=n.rules(),i=r.nextAll(".error-icon"),u=r.nextAll(".error-message"),t,f;t=n.is("[type=checkbox]")===!0||n.is("[type=radio]")===!0?$("label[for="+n.attr("id")+"]"):r,i.length===0&&(i=$("<span />",{"class":'error-icon"'}),t.after(i)),e.required&&i.addClass("error-icon valid-error"),u.length===0&&(u=$("<div />").addClass("error-message"),t.after(u)),f=t.position(),i.length&&i.css({top:f.top,left:t.outerWidth()+f.left}),u.css({width:t.outerWidth(),left:f.left}),u.hide()}))}function notify(n,t,i,r){function h(n){n.slideDown(e.speed),n.data("timer")&&clearTimeout(n.data("timer"));var t=setTimeout(function(){s(n)},e.timer);n.data("timer",t)}function s(n){n.data("timer")&&clearTimeout(n.data("timer")),n.slideUp(e.speed,function(){n.remove()})}var e={speed:700,timer:1e4,showContainer:!1},u,f,c,o;$.extend(e,r),u=$("#notify"),u.length||(u=$("<div>",{id:"notify"}),$("form").append(u)),f=$("<div>"),c=$("<div>").addClass("close"),n&&n.length&&(f.html(n),f.addClass("notify-item "+(t==notifyType.error?"type-error":"type-notice")),f.append(c),u.append(f),u.is(":hidden")&&u.show(),h(f)),i&&t==notifyType.error&&$.ajax({type:"POST",data:{message:n},dataType:"text",url:"httphandlers/debug/debugjs.ashx"}),$("div.notify-item",u).bind("mouseleave mouseenter",function(){h($(this))}),$("div.close",u).bind("click",function(){s($(this).closest("div.notify-item"))}),o=u.children("div.notify-item"),o.text().length&&e.showContainer&&(u.slideDown(e.speed),o.show().mouseenter())}function CheckOrder(n){var t;return $.ajax({async:!1,dataType:"json",cache:!1,url:"httphandlers/checkorder.ashx",data:{OrderNum:n},success:function(n){t=n},error:function(){t=null}}),t}function VoteRating(n,t){var i;return $.ajax({async:!1,dataType:"json",cache:!1,url:"httphandlers/addrating.ashx",data:{productId:n,rating:t},success:function(n){i=n},error:function(){i=null}}),i}function htmlEncode(n){return $("<div/>").text(n||"").html()}function htmlDecode(n){return $("<div/>").html(n||"").text()}function encodeFormData(){$(".toencode").each(function(){$(this).val(htmlEncode($(this).val()))})}function decodeFormData(){$(".toencode").each(function(){$(this).val(htmlDecode($(this).val()))})}function ApplyFilter(n,t,i,r){var u=window.location.href,v,y,f,e,o,h,s,a,l,c;u=ChangeQueryParam(u,"page",""),$("#filter-price .slider").length&&(v=$("div.slider").find(".min").val(),y=$("div.slider").find(".max").val(),(v!==$("div.slider").attr("data-current-min")||y!==$("div.slider").attr("data-current-max"))&&(u=ChangeQueryParam(u,"pricefrom",v),u=ChangeQueryParam(u,"priceto",y))),$("#property-filter").length&&($(".slider","#property-filter").each(function(){var i=$(this).find(".min").val(),t=$(this).find(".max").val(),n=$(this).parents(".content-price").attr("id").replace("filter-pricerange-","");(i!==$(this).attr("data-current-min")||t!==$(this).attr("data-current-max"))&&(u=ChangeQueryParam(u,"prop_"+n+"_min",i),u=ChangeQueryParam(u,"prop_"+n+"_max",t))}),f="",e="",$("input:checked","#property-filter").each(function(){e.length||(e=$(this).attr("name")),e!=$(this).attr("name")?(f=f.slice(0,-1),f+="-"+$(this).val()+",",e=$(this).attr("name")):f+=$(this).val()+","}),$("select","#property-filter").each(function(){$(this).val()!="0"&&(e.length||(e=$(this).attr("name")),e!=$(this).attr("name")?(f=f.slice(0,-1),f+="-"+$(this).val()+",",e=$(this).attr("name")):f+=$(this).val()+",")}),f.length&&(f=f.slice(0,-1)),u=ChangeQueryParam(u,"prop",f)),$("#brand-filter").length&&(o="",$("input:checked","#brand-filter").each(function(){o+=$(this).val()+","}),o.length&&(o=o.slice(0,-1)),u=ChangeQueryParam(u,"brand",o)),$("#size-filter").length&&(h="",$("input:checked","#size-filter").each(function(){h+=$(this).val()+","}),h.length&&(h=h.slice(0,-1)),u=ChangeQueryParam(u,"size",h)),$("#color-filter").length&&(s="",$("input:checked","#color-filter").each(function(){s+=$(this).val()+","}),s.length&&(s=s.slice(0,-1)),u=ChangeQueryParam(u,"color",s)),$("#ddlSort").length&&(a=$("#ddlSort").val(),u=ChangeQueryParam(u,"sort",a!="NoSorting"?a:null)),$("#ddlCategory").length&&(l=$("#ddlCategory").val(),u=ChangeQueryParam(u,"category",l!="0"?l:null)),$("#txtName").length&&(c=$("#txtName").val(),u=ChangeQueryParam(u,"name",c!=""?encodeURIComponent(c):null)),$("#cbAvailable").length&&(u=ChangeQueryParam(u,"available",$("#cbAvailable").is(":checked")?"1":"0")),$("#cbPreorder").length&&(u=ChangeQueryParam(u,"preorder",$("#cbPreorder").is(":checked")?"1":"0")),t?u.length&&(window.location=u):(u=ChangeQueryParam(u,"ajax","1"),$.ajax({dataType:"json",cache:!1,url:u,async:!1,success:function(t){var f;if(t.ProductsCount>0&&$("#filter-price .slider").each(function(){r&&$(this).data("prices",{from:t.AvaliblePriceFrom,to:t.AvaliblePriceTo}),makeMagic($(this))}),i){f=$("#productsFound"),f.length||(f=$("<div />",{id:"productsFound"}).addClass("producsFound"),$("body").append(f)),f.html(localize("catalogItemsFound")+' <span id="productsFoundCount">'+t.ProductsCount+"</span>"+(t.ProductsCount>0?"<div class='btn-wrap-products-found'><a id='aShowFilter' class='btn btn-buy btn-small' href='"+u+"'>"+localize("catalogShow")+"</a></div>":"")),$("#aShowFilter",f).attr("href",ChangeQueryParam(u,"ajax",null));var c=$(n).offset().top,h=$("#filter").outerWidth(),s=$("#filter").offset().left,o={width:f.outerWidth(!0),height:f.outerHeight()},e={};e.left=s>o.width?s-o.width:s+h,e.top=c-o.height/2,f.css(e),f.stop(!0,!0).fadeIn(500),timeout&&clearTimeout(timeout),timeout=setTimeout(function(){$(".producsFound").stop(!0,!0).fadeOut(500)},5e3)}},error:function(){notify("Error in filter",notifyType.error,!0)}}))}function makeMagic(n){var i=n.slider("option","min"),f=n.slider("option","max"),e=(n.slider("option","values")[0]-i)/((f-i)/100),u=(n.slider("option","values")[1]-i)/((f-i)/100),t=(n.data("prices").from-i)/f*100,r=(n.data("prices").to-i)/((f-i)/100)-t,h=t,c=e<t?0:e>t+r?t+r:e-t,o=u>t+r?t+r:u>t?u:t,s=u>t+r?0:t+r-(u>t?u:t);$(".sliderCustom").remove(),$(".ui-slider-range.ui-widget-header").after('<div class="sliderCustom color-background" style=\'left:'+h+"%; width:"+c+"%;'></div>"),$(".ui-slider-range.ui-widget-header").after('<div class="sliderCustom color-background" style=\'left:'+o+"%; width:"+s+"%;'></div>"),$(".ui-slider-range.ui-widget-header").after('<div class="sliderCustom color-background-selected" style=\'left:'+t+"%; width: "+r+"%;'></div>")}function ClearFilter(){window.location=window.location.href.split("?")[0]}function ApplySearch(){var n=window.location.href,t,f,e,o,i,r,u;n=ChangeQueryParam(n,"page",""),t=$("#filter-price .slider"),t.length&&(f=parseInt(t.find(".min").val()),e=parseInt(t.find(".max").val()),(f!==parseInt(t.attr("data-current-min"))||e!==parseInt(t.attr("data-current-max")))&&(n=ChangeQueryParam(n,"pricefrom",f),n=ChangeQueryParam(n,"priceto",e))),$("#ddlSort").length&&(o=$("#ddlSort").val(),n=ChangeQueryParam(n,"sort",o!="NoSorting"?o:null)),$("#txtName").length&&(i=$("#txtName").val(),n=ChangeQueryParam(n,"name",i!=""?encodeURIComponent(i):null)),$("#txtSKU").length&&(r=$("#txtSKU").val(),n=ChangeQueryParam(n,"sku",r!=""?encodeURIComponent(r):null)),$("#ddlCategory").length&&(u=$("#ddlCategory").val(),n=ChangeQueryParam(n,"category",u!="0"?u:null)),n.length&&(window.location=n)}function searchNow(){var n=$("#txtSearch").val(),t;n&&n!=$("#txtSearch").attr("placeholder")&&(t=String.Format("{0}search.aspx?name={1}",$("base").attr("href"),encodeURIComponent(n)),window.location.href=t)}function redirectBrandCountry(){window.location=$("#ddlCountry option:selected").val()!=0?String.Format("{0}manufacturers?country={1}",$("base").attr("href"),encodeURIComponent($("#ddlCountry option:selected").text())):String.Format("{0}manufacturers",$("base").attr("href"))}function ChangeQueryParam(n,t,i){var r;n=n.toString();var u={},e=n.indexOf("#"),f="";return(e!=-1&&(f=n.substring(e),n=n.replace(f,"")),r=n,r.replace(/(\w+)=(.+?)(&|$)/g,function(n,t,i){u[t]=i}),!u||!t.length)?!1:(i&&i.toString().length?u[t.toString()]=i:delete u[t.toString()],r="?",$.each(u,function(n,t){r+=n+"="+t+"&"}),r=r.slice(0,-1),n.split("?")[0]+r+f)}function ChangeCurrency(n){$.ajax({async:!1,dataType:"json",cache:!1,url:"httphandlers/shoppingcart/setcurrency.ashx",data:{ISO3:$(n).val()},success:function(){window.location.reload(!0)},error:function(){alert("Currency error")}})}function DisplayFilter(n,t){var o=$("<div>",{html:'<a class="link-nice" href="javascript:void(0)">'+localize("utilsShowAll")+"</a>"}).addClass("btn-all-look"),c=$(".propList, .brandList, .size-filter, .color-filter","#filter"),r,f,s,i,e;if(c.each(function(n){var r=$(this).children("div, label"),f=r.find("input"),e=f.filter(":checked:last"),i,u;e.length||n==0?(i=n==0?t:f.index(e)+1,$(this).closest(".content").show().prev(".expander-control").removeClass("expander-collapse").addClass("expander-expand")):i=t,r.length>i&&(u=$("<div>",{html:r.slice(i)}).addClass("prop-hidden"),$(this).append(u),$(this).append(o.clone()))}),r=$("#property-filter","#filter"),f=r.children("div"),f.length>n&&(s=$("<div>",{html:f.slice(n)}).addClass("prop-hidden"),r.append(s),r.append(o.clone())),$("#filter").click(function(n){var t=$(n.target),i;return t.is("a.link-nice")&&t.closest("div.btn-all-look").length?(i=t.closest("div.btn-all-look").prev("div.prop-hidden"),i.is(":visible")?i.slideUp("fast",function(){t.text(localize("utilsShowAll"))}):i.slideDown("fast",function(){t.text(localize("utilsHide"))}),!1):!0}),document.getElementById("color-filter")!=null){var h=$("#color-filter"),u=h.find(".filter-color"),l=u.find("input:checkbox");for(i=0,e=u.length;i<e;i+=1)l.eq(i).is(":checked")===!0&&u.eq(i).addClass("selected");h.on("click",{items:$("input:checkbox","#color-filter"),parents:$(".filter-color","#color-filter")},function(n){var r=$(n.target),t=n.data,i=t.items.index(r);i!=-1&&(r.is(":checked")===!0?t.parents.eq(i).addClass("selected"):t.parents.eq(i).removeClass("selected"))})}}function defaultButtonClick(n,t){var i=$("#"+n),r;(t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,i.length&&getKeyCode(t)==13)&&(i.trigger("focus"),i.trigger("click"),r=i.attr("href"),r.indexOf("doPostBack")!=-1&&(window.location=r))}function getKeyCode(n){var t=null;return window.event?t=window.event.keyCode:n&&(t=n.which),t}function enableButton(n,t){var i=$("#"+n);t?(i.removeClass("btn-disabled"),i.attr("onClickOld")?i.attr("onClick",i.attr("onClickOld")).removeAttr("onClickOld"):i.removeAttr("onClick")):(i.addClass("btn-disabled"),i.attr("onClick")?i.attr("onClickOld",i.attr("onClick")).attr("onClick","return false;"):i.attr("onClick","return false;"))}function open_printable_version(n){var i="menubar=no,location=no,resizable=yes,scrollbars=yes",t=window.open(n,"printableWin",i);t.focus()}function getStingPrice(n,t){$.ajax({type:"POST",async:!1,url:"httphandlers/getstringprice.ashx",data:{price:n},dataType:"html",success:function(n){return t&&t(n),n},error:function(n){notify(localize("giftcertificate")+" status text:"+n.statusText,notifyType.error,!0)}})}function validateFloat(n,t){t.IsValid=t.Value!=""&&parseFloat(t.Value)?!0:!1}function getMessage(n){$.ajax({dataType:"json",cache:!1,type:"POST",async:!1,data:{amId:htmlEncode(n)},url:"httphandlers/adminmessage/getadminmessage.ashx",success:function(t){if(t.result==="error"){$("#modalAdminMessage").html("error");return}new EJS({url:"js/jspage/adminmessages/templates/modal.tpl"}).update(document.getElementById("modalAdminMessage"),t),setViewedAdminMessage(n)},error:function(){$("#modalAdminMessage").html("error")}})}function setViewedAdminMessage(n){var t=[];t.push(n),$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{ids:t},url:"httphandlers/adminmessage/SetViewedAdminMessage.ashx",success:function(){$(".adminMessageCheckBox[data-amid="+n+"]").closest("tr").attr("class","adminMessageRowViewed")},error:function(){}})}function setViewedCheckedAdminMessages(){for(var r=$(".adminMessageCheckBox:checked"),t=[],n=0,i=r.length;n<i;n+=1)t.push(r.eq(n).attr("data-amid"));$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{ids:t},url:"httphandlers/adminmessage/setviewedadminmessage.ashx",success:function(){for(var n=0,i=t.length;n<i;n+=1)$(".adminMessageCheckBox[data-amid="+t[n]+"]").closest("tr").attr("class","adminMessageRowViewed");$(".adminMessageCheckBox").removeAttr("checked"),$("#checkAll").removeAttr("checked")},error:function(){}})}function setNotViewedCheckedAdminMessages(){for(var r=$(".adminMessageCheckBox:checked"),t=[],n=0,i=r.length;n<i;n+=1)t.push(r.eq(n).attr("data-amid"));$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{ids:t},url:"httphandlers/adminmessage/setnotviewedadminmessage.ashx",success:function(){for(var n=0,i=t.length;n<i;n+=1)$(".adminMessageCheckBox[data-amid="+t[n]+"]").closest("tr").attr("class","adminMessageRowNotViewed");$(".adminMessageCheckBox").removeAttr("checked"),$("#checkAll").removeAttr("checked")},error:function(){}})}function checkAllAdminMessages(n){$(".adminMessageCheckBox").attr("checked",$(n).is(":checked"))}function getCdekOrderPrintform(n){return window.location="httphandlers/order/cdekorderprintform.ashx?orderid="+n,!0}function getCdekOrderReportStatus(n){return window.location="httphandlers/order/cdekreportorderstatus.ashx?orderid="+n,!0}function getCdekOrderReportInfo(n){return window.location="httphandlers/order/cdekreportorderinfo.ashx?orderid="+n,!0}function setOrderPaid(n,t){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:t,paid:n},url:"httphandlers/order/setorderpaid.ashx",success:function(){$(".orders-list-name[data-current-order=1]").length&&(n==1?$(".orders-list-name[data-current-order=1]").removeClass("orders-list").addClass("orders-list-ok"):n==0&&$(".orders-list-name[data-current-order=1]").removeClass("orders-list-ok").addClass("orders-list")),notify(localize("Admin_ViewOrder_SaveOrderPayStatus"),notifyType.notify)},error:function(){notify(localize("Admin_ViewOrder_ErrorOnSaveOrderPayStatus"),notifyType.error)}})}function setOrderStatus(n,t){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:t,statusid:n},url:"httphandlers/order/setorderstatus.ashx",success:function(n){$(".order-main").length&&$(".order-main").first().css("border-left-color","#"+n.Color),$(".orders-list-row[data-current-order=1]").length&&$(".orders-list-row[data-current-order=1]").css("border-left-color","#"+n.Color),notify(localize("Admin_ViewOrder_SaveOrderStatus"),notifyType.notify),n.IsNotifyUser&&$("#lnkSendMail").show()},error:function(){notify(localize("Admin_ViewOrder_ErrorOnSaveOrderStatus"),notifyType.error)},complete:function(){}})}function updateOrderField(n,t,i){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:n,text:t,field:i},url:"httphandlers/order/updateorderfield.ashx",success:function(){notify(localize("Admin_ViewOrder_SaveComment"),notifyType.notify)},error:function(){notify(localize("Admin_ViewOrder_ErrorOnSaveComment"),notifyType.error)}})}function sendMailOrderStatus(n){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:n},url:"httphandlers/order/sendmailorderstatus.ashx",success:function(n){$(".order-main").length&&$(".order-main").first().css("border-left-color","#"+n.result),$(".orders-list-row[data-current-order=1]").length&&$(".orders-list-row[data-current-order=1]").css("border-left-color","#"+n.result),notify(localize("Admin_ViewOrder_SendMailStatusOrder"),notifyType.notify),$("#lnkSendMail").hide()},error:function(){notify(localize("Admin_ViewOrder_ErrorOnSendMailStatusOrder"),notifyType.error)},complete:function(){}})}function setModuleActive(n,t){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{moduleStringId:n,active:t},url:"httphandlers/modules/setmoduleactive.ashx",success:function(n){$(".lblIsActive").length&&($(".lblIsActive").text(n.state),$(".lblIsActive").css("color",n.active?"green":"red"))},error:function(){}})}function installModule(n,t,i){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{moduleStringId:n,moduleIdOnRemoteServer:t,moduleVersion:i},url:"httphandlers/modules/installmodule.ashx",success:function(n){n.result!="error"&&(window.location=n.result)},error:function(){var n=1}})}function clickButton(n,t){var r=n?n:window.event,i=document.getElementById(t);if(i&&r.keyCode==13)return i.click(),!1}function keyboard_navigation(n){var i,r,t;n=n||window.event,i=n.keyCode,n.ctrlKey&&(i==13,r=(n.target||n.srcElement).tagName,r!="INPUT"&&r!="TEXTAREA"&&(i==37&&(t=document.getElementById("prevpage")),i==39&&(t=document.getElementById("nextpage")),t&&t!=undefined&&t.href!=undefined&&(location.href=t.href),i==38&&B.text&&(B.text.focus(),B.text.select())))}function open_window(n,t,i){var u=screen.availWidth/2-t/2,r=screen.availHeight/2-i/2,f;u=u>0?u:0,r=r>0?r:0,f="width="+t+",height="+i+",menubar=no,location=no,resizable=yes,scrollbars=yes,left="+u+",top="+r,wishWin=window.open(n,"wishWin",f),wishWin.focus()}function open_printable_version(n){var t="menubar=no,location=no,resizable=yes,scrollbars=yes";newWin=window.open(n,"printableWin",t),newWin.focus()}function translite(n){var t="";return $.ajax({dataType:"json",cache:!1,type:"POST",async:!1,data:{source:n},url:"httphandlers/translit.ashx",success:function(n){t=n},error:function(){alert("can't translite '"+n+"'")}}),t}function showModalGroups(n){modalGroups==null?modalGroups=$.advModal({modalId:"change-group-modal",title:localize("ChangePropertyGroup"),htmlContent:$(".change-group-b").html(),buttons:[{textBtn:localize("Save"),isBtnClose:!1,classBtn:"btn-action change-group-lnk"},{textBtn:localize("Close"),isBtnClose:!0,classBtn:"btn-action"}]}):modalGroups.modalContent($(".change-group-b").html()),modalGroups.modalShow(),n.stopPropagation()}function tabInit(){$("#tabs").length&&($("#tabs").advTabs({headers:"#tabs-headers > li",contents:"#tabs-contents  div.tab-content"}),$("select, input, textarea","#tabs-contents").change(function(n){n=n||window.event;var u=$(n.target).closest("div.tab-content"),r=$("#tabs").data("tabs"),t=$(r.contents).index(u),i;t!=-1&&(i=$(r.headers[t]),i.find("img.floppy").fadeIn())}))}function isNumber(n){return n=n.replace(/,/,"."),!isNaN(parseFloat(n))&&isFinite(n)}function saveProperties(n){var r="",t,i;$(".propval-item input:checked").each(function(){r+=r==""?$(this).val():","+$(this).val()}),$(".hfpropresult").val(r),t=!1,i=[],$(".propval-newitem input").each(function(){$(this).removeClass("novalid");var n={PropertyId:$(this).parents(".property-item-values").attr("data-property"),Value:$(this).val().trim()};n.Value!=""&&$(this).attr("class")=="valtype-number"&&(isNumber(n.Value)||(t=!0,$(this).addClass("notvalid"))),t||n.Value==""||i.push(n)}),$(".hfnewpropresult").val(JSON.stringify(i)),t&&(alert(localize("PropertyValueNumberError")),n=n||window.event,n.preventDefault?n.preventDefault():n.returnValue=!1)}function SearchProduct(){$("input.autocompleteSearch").length&&$("input.autocompleteSearch").autocomplete("httphandlers/order/productssearch.ashx",{delay:15,minChars:1,matchSubset:1,autoFill:!1,matchContains:1,cacheLength:null,selectFirst:!1,maxItemsToShow:30,onItemSelect:function(n,t,i){if($(".acsearchhf").length>0){var u=n.innerHTML.indexOf("<span"),r=$(n).find("span").attr("data-offerid");r!=null&&$(".acsearchhf").val(r),i.val(n.innerHTML.substring(0,u))}}})}function rgb(n){var i,t;if(/#/.test(n))for(i=n.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g),t=0;t<3;t++)i[t]=parseInt(i[t],16);else if(/rgb/.test(n)){for(i=/(\d+), (\d+), (\d+)/.exec(n),t=0;t<3;t++)i[t]=Number(i[t+1]);i.pop()}return i}function mouseout(){}function initgrid(){$(".txttooltip").length>0&&$(".txttooltip").each(function(){$(this).tooltip({delay:10,showURL:!1,bodyHandler:function(){return $(this).attr("abbr")}})}),$("tr.row1").each(function(){$(this).find("td").not(":first").not(":last").click(function(){row_edit($(this).parent()),this.focus(),$(this).find("input").focus()})}),$("tr.row2").each(function(){$(this).find("td").not(":first").not(":last").click(function(){row_edit($(this).parent()),this.focus(),$(this).find("input").focus()})}),$(".readOnlyRowInInit").val()=="True"&&$("table.tableview > tbody > tr > td > input[type='text']:not(.add)").attr("readonly","readonly"),$("table.tableview > tbody > tr > td  input[type='checkbox']:not(.sel):not(.add):not(span.add > input)").attr("disabled","disabled"),$("table.tableview > tbody > tr > td > select:not(.sel):not(.add)").attr("disabled","disabled"),$("input.sel").click(chboxselect_click),$("td.checkboxcolumn").click(cellselect_click),$("input.sel:checked").each(function(n,t){doCheck(t)}),$(".readOnlyRowInInit").val()!="True"&&$("table.tableview > tbody > tr").removeClass("readonlyrow"),refreshCount()}function row_edit(n){var i,t;($(".readOnlyGrid").val().toLowerCase()=="false"&&$(n).find(".nonEditRow").length==0||$(n).attr("rowType")=="product")&&($(n).parent().find("tr:not(tr.readonlyrow)").each(function(){row_canceledit(this)}),$(n).find(".deletebtn").hide(),$(n).find(".editbtn").hide(),$(n).find(".cancelbtn").show(),$(n).find(".updatebtn").show(),$(n).find("td:not(:last)").unbind("click"),i=$(n).find("input[type='text']"),i.removeAttr("readonly"),$(n).find("input").keypress(function(t){if(!t)var t=window.event;if(t.keyCode==13)return $(this).parent().parent().find("input.updatebtn").click(),!1;t.keyCode==27&&(row_canceledit(n),$(this).parent().focus())}),$(".readOnlyRowInInit").val()=="True"&&$(n).removeClass("readonlyrow"),i.each(function(n){__OriginalTxtValues[n]=i[n].value}),t=$(n).find("td  input[type='checkbox']:not(.sel):not(.add):not(span.add > input)"),t.removeAttr("disabled"),$(n).find("td > select:not(.sel)").removeAttr("disabled"),t.each(function(n){__OriginalCheckBoxValues[n]=t[n].checked}))}function row_canceledit(n){var t,i;return $(n).find(".cancelbtn").hide(),$(n).find(".updatebtn").hide(),$(n).find(".deletebtn").show(),$(n).find(".editbtn").show(),$(n).find("td:not(:last)").click(function(){row_edit($(this).parent()),this.focus(),$(this).find("input").focus()}),$(".readOnlyRowInInit").val()=="True"&&$(n).addClass("readonlyrow"),t=$(n).find("input[type='text']"),t.attr("readonly","readonly"),$(".resetToDefaultValue").val()=="True"&&t.each(function(n){$(t[n]).hasClass("add")||(t[n].value=__OriginalTxtValues[n])}),i=$(n).find("td input[type='checkbox']:not(.sel):not(.add):not(span.add > input)"),i.attr("disabled","disabled"),$(n).find("td > select:not(.sel)").attr("disabled","disabled"),i.each(function(n){i[n].checked=__OriginalCheckBoxValues[n]}),!1}function refreshCount(){var i=$("#selectedIdsCount"),t,n,r;i.length>0&&$("#selectedIdsCount").length>0&&($.trim($("#SelectedIds").val())=="-1"?(t=0,$("span.foundrecords").each(function(){var n=parseFloat($(this).text());isNaN(n)||(t+=n)}),i.text(t)):(n=[],$.each($("#SelectedIds").val().split(" "),function(t,i){i&&i.length&&$.inArray(i,n)==-1&&n.push(i)}),r=n.length,i.text(r)))}function chboxselect_click(n){doCheck(this);var n=n||window.event;n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}function doCheck(n){var h,c,i,t,o,r,f,v,u,l,s,a,e;for(n.checked?$(n).parent().parent().addClass("selectedrow"):$(n).parent().parent().removeClass("selectedrow"),h=n.parentNode.childNodes,c=-1,i=0;i<h.length;i++)if(h[i].type=="hidden"){c=h[i].value;break}if(o=document.getElementById("SelectedIds"),o!=null){if(t=o.value.trim().split(" "),t==""&&(t=[]),r=$("span.checkboxcheckall input")[0],t[0]!="-1"&&n.checked==!0||t[0]=="-1"&&n.checked!=!0)t.push(c);else{for(f=0;f<t.length;f++)t[f]==c&&(t[f]="");r!=null&&(r.checked=!1)}for(v=0,o.value="",u=0;u<t.length;u++)t[u]!=""&&(t[u]!="-1"&&v++,o.value+=t[u]+" ");if($("#selectedIdsCount").length>0&&(t[0]!="-1"?$("#selectedIdsCount").text(v):(l=parseInt($("#selectedIdsCount").text()),$("#selectedIdsCount").text(n.checked?l+1:l-1))),s=!0,this.checked){for(a=$("table.tableview tbody tr"),i=0;i<a.length;i++)for(e=a[i].cells[0].childNodes,j=0;j<e.length;j++)if(e[j].type=="checkbox"&&e[j].id!=r.id&&e[j].checked==!1){s=!1;break}}else s=!1;r!=null&&(r.checked=s)}}function cellselect_click(){for(var i=this.childNodes,r=-1,t,n=0;n<i.length;n++)if(i[n].type=="hidden"){r=i[n].value;break}for(t=this.childNodes,n=0;n<t.length;n++)t[n].type=="checkbox"&&t[n].click()}function SelectVisible(n){var r=$("span.checkboxcheckall")[0],u,t;if(r!=undefined)r=r.firstChild;else return;for(u=$("table.tableview tbody  tr"),i=0;i<u.length;i++)for(t=u[i].cells[0].childNodes,j=0;j<t.length;j++)if(t[j].type=="checkbox"&&t[j].id!=r.id&&t[j].checked!=n){t[j].click();break}r.checked=n}function HighlightRows(){var t=$("span.checkboxcheckall input")[0],n;if(t!=undefined){for(ischeckedall=!0,n=$("td.checkboxcolumn input"),i=0;i<n.length;i++)n[i].type=="checkbox"&&n[i].id!=t.id&&(n[i].checked?HighlightRow(n[i]):ischeckedall=!1);t.checked=ischeckedall}}function SelectAll(n){if(SelectVisible(n),n){var t=0;$("span.foundrecords").each(function(){var n=parseFloat($(this).text());isNaN(n)||(t+=n)}),$("#selectedIdsCount").text(t),$("#SelectedIds").val("-1")}else $("#selectedIdsCount").text("0"),$("#SelectedIds").val("")}function ResetFilter(){var i,t,r,n;for(SelectAll(!1),document.getElementById("SelectedIds").value="",document.getElementById("selectedIdsCount").innerHTML="0",i=$("input.filtertxtbox"),t=0;t<i.length;t++)i[t].value="";for(r=$("select.dropdownselect"),n=0;n<r.length;n++)r[n].selectedIndex=0}function FilterClick(){$("select.dropdownselect")[0].selectedIndex==0&&SelectAll(!1)}var timeout,Advantshop,mpAdminMessage,mpListAdminMessages,modalGroups,__OriginalTxtValues,__OriginalCheckBoxValues;(function(n){n.extend(n.fn,{validate:function(t){var i,r;if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}return(i=n.data(this[0],"validator"),i)?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(r=this.find("input, button"),r.filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&r.filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function f(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}if(i.settings.debug&&t.preventDefault(),i.cancelSubmit)return i.cancelSubmit=!1,f();var u=n("*[name='"+n("#__EVENTTARGET").val()+"']").attr("class"),r;return u&&(r=u.indexOf("group-")!=-1?/group-([\d\w]*)/g.exec(u):null),r&&(r=r[1]),i.form(r)?i.pendingRequest?(i.formSubmitted=!0,!1):f():(i.focusInvalid(),!1)})),i)},valid:function(t){if(n(this[0]).is("form"))return this.validate().form(t);var i=!0,r=n(this[0].form).validate();return this.each(function(){i&=r.element(this)}),i},removeAttrs:function(t){var r={},i=this;return n.each(t.split(/\s/),function(n,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(t,i){var r=this[0],e,u,s;if(t){var o=n.data(r.form,"validator").settings,h=o.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),h[r.name]=f,i.messages&&(o.messages[r.name]=n.extend(o.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=f[t],delete f[t]}),e):(delete h[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(s=u.required,delete u.required,u=n.extend({required:s},u)),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,filterValidClass(n.className)&&this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){filterValidClass(n.className)&&!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyupDelay:1e3,onkeyup:function(t){var r=this,u;n.validator.defaults.onkeyupDelay!=null?(u=n(r).data("keyDelay"),u&&clearTimeout(u),u=setTimeout(function(){(filterValidClass(t.className)||t.name in r.submitted||t==r.lastElement)&&r.element(t)},n.validator.defaults.onkeyupDelay),n(r).data("keyDelay",u)):(filterValidClass(t.className)||t.name in r.submitted||t==r.lastElement)&&r.element(t)},onclick:function(n){n.name in this.submitted&&filterValidClass(n.className)?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:localize("validRequired"),remote:localize("validRemote"),email:localize("validEmail"),newemail:localize("validNewEmail"),login:localize("validEmail"),url:localize("validUrl"),date:localize("validDate"),dateISO:localize("validDateISO"),number:localize("validNumber"),digits:localize("validDigits"),money:localize("validMoney"),creditcard:localize("validCreditcard"),equalTo:localize("validEqualTo"),accept:localize("validAccept"),maxlength:n.validator.format(localize("validMaxlength")),minlength:n.validator.format(localize("validMinlength")),rangelength:n.validator.format(localize("validRangelength")),range:n.validator.format(localize("validRange")),max:n.validator.format(localize("validMax")),min:n.validator.format(localize("validMin")),captcha:localize("validCaptcha"),amount:n.validator.format(localize("validAmount")),zip:localize("validZip")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var r,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),r=this.groups={},n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(t){return this.checkForm(t),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(n){this.prepareForm();for(var t=0,i=this.currentElements=this.elements(n);i[t];t++)this.check(i[t]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(t){var u=this,r={},i=n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return this.className.indexOf("valid-")!=-1}).filter(function(){return(!this.name&&u.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in r||!u.objectLength(n(this).rules()))?!1:(r[this.name]=!0,!0)}),f=n(this.currentForm).data("validLoad");return f||(i=t&&t.length?i.filter(function(){return filterValidGroup(n(this).attr("class"),t)}):i.filter(":not([class*=group-])")),i},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},check:function(t){var f,e,u,i,r;t=this.validationTargetFor(this.clean(t)),f=n(t).rules(),e=!1;for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,i.parameters),r=="dependency-mismatch"){e=!0;continue}if(e=!1,r=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!r)return this.formatAndAdd(t,i),!1}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+i.method+"' method",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,i,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},newemail:{newemail:!0},login:{login:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0},money:{money:!0},zip:{zip:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var r={},i=n(t).attr("class");return i&&n.each(i.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(r,n.validator.classRuleSettings[this])}),r},attributeRules:function(t){var r={},f=n(t),i,u;for(i in n.validator.methods)u=i==="required"&&typeof n.fn.prop=="function"?f.prop(i):f.attr(i),u?r[i]=u:f[0].getAttribute("type")===i&&(r[i]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var r={},i=n.data(t.form,"validator");return i.settings.rules&&(r=n.validator.normalizeRule(i.settings.rules[t.name])||{}),r},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!=undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var u=n(i).val();return u&&u.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0&&t!=n(i).attr("placeholder")}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,h,s,e;u.settings.messages[i.name].remote=f.originalMessage,o=r===!0,o?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),u.showErrors()):(s={},e=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(e)?e(t):e,u.showErrors(s)),f.valid=o,u.stopRequest(i,o)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){var u=this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},newemail:function(t){var r=!1;return n.ajax({url:"httphandlers/myaccount/checkemailbusy.ashx",dataType:"JSON",async:!1,cache:!1,type:"POST",data:{email:t},success:function(n){r=n},error:function(){throw localize("validateErrorEmail");}}),r},login:function(n,t){return this.optional(t)||n=="admin"||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var i,f,r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 -]+/.test(n))return!1;var e=0,r=0,u=!1;for(n=n.replace(/\D/g,""),i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){var u=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()});return t==u.val()},money:function(n,t){return this.optional(t)||/^[\d\s,.]*$/g.test(n.replace(/ /g,""))},zip:function(t,i){return this.optional(i)||n.validator.methods.number.call(this,t,i)&&n.validator.methods.rangelength.call(this,t,i,[3,6])}}}),n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode=="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),$(function(){$.validator.addClassRules("valid-required",{required:!0}),$.validator.addClassRules("valid-money",{money:!0,required:!0}),$.validator.addClassRules("valid-number",{number:!0,required:!0}),$.validator.addClassRules("valid-email",{email:!0,required:!0}),$.validator.addClassRules("valid-newemail",{email:!0,required:!0,newemail:!0}),$.validator.addClassRules("valid-login",{login:!0,required:!0}),$.validator.addClassRules("valid-compare",{required:!0,equalTo:".valid-comparesource"}),$.validator.addClassRules("valid-comparesource",{required:!0,minlength:6}),$.validator.addClassRules("valid-captcha",{required:!0,minlength:4,maxlength:4}),$.validator.addClassRules("valid-amount",{required:!0,min:1}),$.validator.addClassRules("valid-phone",{required:!0,digits:!0,minlength:11,maxlength:11}),$.validator.addClassRules("valid-phonemodule",{required:!0,digits:!0,minlength:10,maxlength:10}),initValidation($("form"))}),function(n){function u(n,t){for(var r,i=0;i<n.length;i++)n[i]=(r=f.exec(n[i]))!=null?t[Number(r[1])]:n[i].replace(/\0/g,",");return n}function r(n,t){if(t=Number(t),isNaN(t))return n;n=""+n;var r=Math.abs(t)-n.length;if(r<=0)return n;while(i.length<r)i+=i;return t<0?n+i.substring(0,r):i.substring(0,r)+n}n.format=function(){if(arguments.length==0)return this;var i=/\{(\d+)(?:,([-+]?\d+))?(?:\:([^(^}]+)(?:\(((?:\\\)|[^)])+)\)){0,1}){0,1}\}/g,n=arguments;return this.replace(i,function(i,f,e,o,s){return i=n[Number(f)],o=t[o],r(o==null?i:o(i,u((s||"").replace(/\\\)/g,")").replace(/\\,/g,"\x00").split(","),n)),e)})},String.Format=function(t){return arguments.length<=1?t:n.format.apply(t,Array.prototype.slice.call(arguments,1))},n.format.add=function(n,i,r){if(t[n]!=null&&r!=!0)throw"Format "+n+" exist, use replace=true for replace";t[n]=i},String.Format.init=n.format.init=function(n){var i,r;for(r in n)i=t[r],i!=null&&i.init!=null&&i.init(n[r])},n.format.get=function(n){return t[n]};var f=/^\{(\d+)\}$/,t={},i="    ";n.format.add("arr",function(n,i){var r;if(n==null)return"null";var u=[],e=i.shift()||"",f=t[i.shift()];if(f==null)u=n;else for(r=0;r<n.length;r++)u.push(f(n[r],i));return u.join(e)})}(String.prototype),function(n){function e(n){t.dseparator=n.dseparator||".",t.nan=n.nan||"NaN"}function i(n,t,i){return isNaN(i=Number(i==""?undefined:i))?t==null||t==""?"":(n||"")+t:(t=t||"").length>=i?n==null?t:n+t.substr(0,i):n==null?u(i-t.length)+t:n+t+u(i-t.length)}function u(n){while(r.length<n)r+=r;return r.substring(0,n)}function s(n,r,f,e,o,s){var h;return e>0?(h=i("",f,e),r+=h,f=f.substr(h.length)):e<0&&(h=r.length- -e,f=(h>0?r.substring(h,r.length):u(-h)+r)+f,r=h>0?r.substring(0,-e-1):"0"),"".concat(n,i(null,r,o),i(t.dseparator,f,s))}n.add("n",function(r,u){if((r=o.exec(r))==null)return t.nan;var f=Number(r[4]);return isNaN(f)?"".concat(r[1],i(null,r[2],u[0]),i(t.dseparator,r[3],u[1])):s(r[1],r[2],r[3],f,u[0],u[1])}),n.add("nb",function(n,r){if(n=Number(n),isNaN(n))return t.nan;var u=Number(r[0]);return i(null,n.toString(isNaN(u)?16:u),Number(r[1]))}),n.add("nf",function(n,i){if(n=Number(n),isNaN(n))return t.nan;var r=f[i[0].toLowerCase()];return r==null?i[0]+"?":r(n,i)}),n.get("nf").add=function(n,t){f[n.toLowerCase()]=t},n.get("n").init=e;var o=/^([+-]?)(\d+)(?:\.(\d+))?(?:\s*e([+-]\d+))?$/i,r="0000000000",t={dseparator:".",nan:"NaN"},f={en:function(n,t){return t[n==1?1:2]},ru:function(n,t){var r=n%10,i=n%100;return t[r==1&&i!=11?1:r>=2&&r<=4&&(i<10||i>=20)?2:3]}}}(String.prototype.format),function(n){function l(n){t.nad=n.nad||"NaD",t.d[0]=n.d||"dd.MM.yyyy",t.dts[0]=n.dts||"dd.MM.yyyy HH:mm:ss",t.dt[0]=n.dt||"dd.MM.yyyy HH:mm",t.t[0]=n.t||"HH:mm",t.ts[0]=n.ts||"HH:mm:ss"}function h(n){i.d=n.d||"дн.",i.h=n.h||"час.",i.m=n.m||"мин.",i.s=n.s||"сек.",i.ms=n.ms||"мс"}function u(n,i){if(n==null)return"null";if(!(n instanceof Date))return t.nad;if(i=i.join(","),i=="")return n;var r=e[i];return r==null&&(r="return ''.concat('"+i.replace(/'/g,"\\'").replace(s,function(n){var t=n.charAt(0);return t=="y"?"".concat("', ",f[t],", '"):"".concat("', a(",f[t],", ",n.length,"), '")})+"');",r=new Function("v","a",r),e[i]=r),r(n,o)}function o(n,t){return c.substring(0,t-(""+n).length)+n}function r(n,t,i,r,u){if(n==0)return 0;var f=n%t;return f!=0&&u&&i.unshift(f,r),Math.floor(n/t)}n.add("df",u),n.add("d",function(n){return u(n,t.d)}),n.add("dt",function(n,i){return u(n,i[0]=="nosec"?t.dt:t.dts)}),n.add("t",function(n,i){return u(n,i[0]=="nosec"?t.t:t.ts)}),n.get("df").init=l,n.add("ts",function(n,t){if(n==null)return"null";if(n==0)return"0";var u=[],f=t[0];return n=r(n,1e3,u,i.ms,w=f==""||f=="msec"),n=r(n,60,u,i.s,w=w||f=="sec"),n=r(n,60,u,i.m,w=w||f=="min"),n=r(n,24,u,i.h,!0),n!=0&&u.unshift(n,i.d),u.join(" ")}),n.get("ts").init=h;var e={},c="0000",t={nad:"NaD",d:["dd.MM.yyyy"],dts:["dd.MM.yyyy HH:mm:ss"],dt:["dd.MM.yyyy HH:mm"],t:["HH:mm"],ts:["HH:mm:ss"]},i={d:"дн.",h:"час.",m:"мин.",s:"сек.",ms:"мс"},s=/yyyy|yy|m{1,2}|d{1,2}|H{1,2}|M{1,2}|s{1,2}|f{1,4}/g,f={y:"v.getFullYear()",M:"v.getMonth()+1",d:"v.getDate()",H:"v.getHours()",m:"v.getMinutes()",s:"v.getSeconds()",f:"v.getMilliseconds()"}}(String.prototype.format),jQuery.autocomplete=function(n,t){function d(){r={},r.data={},r.length=0}function yt(){if(c==46||c>8&&c<32)return u.hide();var n=i.val();n!=a&&(a=n,n.length>=t.minChars?(i.addClass(t.loadingClass),et(n)):(i.removeClass(t.loadingClass),u.hide()))}function ut(n){var t=$("li",e);t&&(f+=n,f<0?f=0:f>=t.size()&&(f=t.size()-1),t.removeClass("ac_over"),$(t[f]).addClass("ac_over"))}function at(){var n=$("li.ac_over",e)[0],i;return n||(i=$("li",e),t.selectOnly?i.length==1&&(n=i[0]):t.selectFirst&&(n=i[0])),n?(p(n),!1):!1}function p(r){var e,f;if(r||(r=document.createElement("li"),r.extra=[],r.selectValue=""),e=$(r).find("a"),t.onChangeItem)t.onChangeItem(r,i);else t.onItemSelect?setTimeout(function(){t.onItemSelect(r,e,i)},1):(f=$.trim(r.selectValue?r.selectValue:r.innerHTML).split("<span>")[0],n.lastSelected=f,a=f,u.html(""),i.val(f),s());i.trigger("ac.select",[r,$.trim(r.selectValue?r.selectValue:r.innerHTML).split("<span>")[0]])}function lt(n,t){var r=i.get(0),u;r.createTextRange?(u=r.createTextRange(),u.collapse(!0),u.moveStart("character",n),u.moveEnd("character",t),u.select()):r.setSelectionRange?r.setSelectionRange(n,t):r.selectionStart&&(r.selectionStart=n,r.selectionEnd=t),r.focus()}function ct(n){n!=null&&c!=8&&(i.val(i.val()+n.substring(a.length)),lt(a.length,n.length))}function pt(){var r=ot(n),f=t.width>0?t.width:i.outerWidth();u.css({width:parseInt(f)+"px",top:r.y+n.offsetHeight+"px",left:r.x+"px"}).show()}function vt(){o&&clearTimeout(o),o=setTimeout(s,200)}function s(){if(o&&clearTimeout(o),i.removeClass(t.loadingClass),u.is(":visible")&&u.hide(),t.mustMatch){var r=i.val();r!=n.lastSelected&&p(null)}}function rt(n,r){if(r){if(i.removeClass(t.loadingClass),e.innerHTML="",!g||r.length==0)return s();if($.browser.msie&&u.append(document.createElement("iframe")),e.appendChild(ht(r)),t.autoFill&&i.val().toLowerCase()==n.toLowerCase()){var f=r[0]!=null?r[0][0]:r[Object.keys(r)[0]];ct(f)}pt()}else s()}function nt(n){var r,f,i,u;if(!n)return null;for(r=[],f=n.split(t.lineSeparator),i=0;i<f.length;i++)u=$.trim(f[i]),u&&(r[r.length]=u.split(t.cellSeparator));return r}function ht(n){var c=document.createElement("ul"),s,o,l,u,r,e,h;if(s=$.isArray(n)===!0?n.length:Object.keys(n).length,t.maxItemsToShow>0&&t.maxItemsToShow<s&&(s=t.maxItemsToShow),$.isArray(n)===!0){for(o=0;o<s;o++)if(u=n[o],u){if(r=document.createElement("li"),t.formatItem&&(r.innerHTML=t.formatItem(o,u[0],o,s)),t.formatRow?(r=t.formatRow(o,u[0],o,s),$.isArray(r)===!0&&(r=r[0])):r.innerHTML=u[0],r.selectValue=t.formatSelectValue?t.formatSelectValue(u[0]):u[0],e=null,u.length>1)for(e=[],h=1;h<u.length;h++)e[e.length]=u[h];r.extra=e,c.appendChild(r),$(r).hover(function(){$("li",c).removeClass("ac_over"),$(this).addClass("ac_over"),f=$("li",c).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(n){n.preventDefault(),n.stopPropagation(),p(this),i.focus(),i.trigger("autocompleteClick",[r])})}}else for(l in n){if(u=n[l],r=document.createElement("li"),t.formatItem&&(r.innerHTML=t.formatItem(l,u,o,s)),t.formatRow?r=t.formatRow(l,u,o,s):r.innerHTML=u,r.selectValue=t.formatSelectValue?t.formatSelectValue(u):u,e=null,u.length>1)for(e=[],h=1;h<u.length;h++)e[e.length]=u[h];r.extra=e,c.appendChild(r),$(r).hover(function(){$("li",c).removeClass("ac_over"),$(this).addClass("ac_over"),f=$("li",c).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(n){n.preventDefault(),n.stopPropagation(),p(this),i.focus(),i.trigger("autocompleteClick",[r])})}return c}function et(n){t.matchCase||(n=n.toLowerCase());var r=t.cacheLength?it(n):null;r?rt(n,r):typeof t.url=="string"&&t.url.length>0?$.get(tt(n),function(t){t.length>0&&typeof t[0]=="string"&&(t=nt(t)),b(n,t),rt(n,t)}):i.removeClass(t.loadingClass)}function tt(n){var r=t.url+"?q="+encodeURIComponent(n),i;for(i in t.extraParams)r+="&"+i+"="+encodeURIComponent(t.extraParams[i]);return t.cacheRequest===!1&&(r+="&rnd="+Math.random()),r}function it(n){var e,h,f,i,u,o,s;if(!n)return null;if(r.data[n])return r.data[n];if(t.matchSubset)for(e=n.length-1;e>=t.minChars;e--)if(h=n.substr(0,e),f=r.data[h],f){for(i=[],u=0;u<f.length;u++)o=f[u],s=o[0],ft(s,n)&&(i[i.length]=o);return i}return null}function ft(n,i){t.matchCase||(n=n.toLowerCase());var r=n.indexOf(i);return r==-1?!1:r==0||t.matchContains}function w(n,r){var o,c,f,l,e,s,h;if(r&&i.removeClass(t.loadingClass),$.isArray(r)===!0){for(c=r?r.length:0,f=null,o=0;o<c;o++)if(e=r[o],e[0].toLowerCase()==n.toLowerCase()){if(f=document.createElement("li"),t.formatItem&&(f.innerHTML=t.formatItem(o,e[0],o,c)),t.formatRow?(f=t.formatRow(o,e[0],o,c),$.isArray(f)===!0&&(f=f[0])):f.innerHTML=e[0],f.selectValue=e[0],s=null,e.length>1)for(s=[],h=1;h<e.length;h++)s[s.length]=e[h];f.extra=s}}else{c=r?Object.keys(r).length:0,f=null;for(l in r)if(e=r[l],e.toLowerCase()==n.toLowerCase()){if(f=document.createElement("li"),t.formatItem&&(f.innerHTML=t.formatItem(o,e,o,c)),t.formatRow?(f=t.formatRow(l,e,o,c),$.isArray(f)===!0&&(f=f[0])):f.innerHTML=e,f.selectValue=e,s=null,e.length>1)for(s=[],h=1;h<e.length;h++)s[s.length]=e[h];f.extra=s}}return t.onFindValue&&setTimeout(function(){t.onFindValue(f)},1),r}function b(n,i){i&&n&&t.cacheLength&&(!r.length||r.length>t.cacheLength?(d(),r.length++):r[n]||r.length++,r.data[n]=i)}function ot(n){n=$(n);var i=n.offset().left||0,t=n.offset().top||0;return{x:i,y:t}}var st=this,i=$(n).attr("autocomplete","off"),e,u,h,k;t.inputClass&&i.addClass(t.inputClass),e=document.createElement("div"),u=$(e),u.hide().addClass(t.resultsClass).css("position","absolute"),t.width>0&&u.css("width",t.width),i.data("autocompleteResults",u),$("body").append(e),n.autocompleter=st;var o=null,a="",f=-1,r={},wt=!1,g=!1,c=null;if(d(),t.data!=null){var y="",l={},v=[];for(typeof t.url!="string"&&(t.cacheLength=1),h=0;h<t.data.length;h++)v=typeof t.data[h]=="string"?[t.data[h]]:t.data[h],v[0].length>0&&(y=v[0].substring(0,1).toLowerCase(),l[y]||(l[y]=[]),l[y].push(v));for(k in l)t.cacheLength++,b(k,l[k])}i.off("keyup.autocomplete focus.autocomplete blur.autocomplete");i.on("keyup.autocomplete",function(n){c=n.keyCode;switch(n.keyCode){case 38:n.preventDefault(),ut(-1);break;case 40:n.preventDefault(),ut(1);break;case 9:break;case 13:at();break;default:f=-1,o&&clearTimeout(o),o=setTimeout(function(){yt()},t.delay)}}).on("focus.autocomplete",function(){g=!0}).on("blur.autocomplete",function(){g=!1,vt()});s(),this.flushCache=function(){d()},this.setExtraParams=function(n){t.extraParams=n},this.findValue=function(){var r,n=i.val(),u;return t.matchCase||(n=n.toLowerCase()),u=t.cacheLength?it(n):null,u?r=w(n,u,deffer):typeof t.url=="string"&&t.url.length>0?$.ajax({type:"GET",url:tt(n),async:!1,success:function(t){t.length>0&&typeof t[0]=="string"&&(t=nt(t)),b(n,t),r=w(n,t)}}):r=w(n,null),r},this.hideResultsNow=s},jQuery.fn.autocomplete=function(n,t,i){return t=t||{},t.url=n,t.data=typeof i=="object"&&i.constructor==Array?i:null,t.inputClass=t.inputClass||"ac_input",t.resultsClass=t.resultsClass||"ac_results",t.lineSeparator=t.lineSeparator||"\n",t.cellSeparator=t.cellSeparator||"|",t.minChars=t.minChars||1,t.delay=t.delay||400,t.matchCase=t.matchCase||0,t.matchSubset=t.matchSubset||1,t.matchContains=t.matchContains||0,t.cacheLength=t.cacheLength=="undefined"?null:t.cacheLength,t.mustMatch=t.mustMatch||0,t.extraParams=t.extraParams||{},t.loadingClass=t.loadingClass||"ac_loading",t.selectFirst=t.selectFirst||!1,t.selectOnly=t.selectOnly||!1,t.maxItemsToShow=t.maxItemsToShow||-1,t.autoFill=t.autoFill||!1,t.width=parseInt(t.width,10)||0,t.cacheRequest=t.cacheRequest!=null?t.cacheRequest:!0,this.each(function(){var n=this;new jQuery.autocomplete(n,t)}),this},jQuery.fn.autocompleteArray=function(n,t){return this.autocomplete(null,t,n)},jQuery.fn.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1},function(n){n.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(n,t){this.defaults.type=n,this.defaults.name=t},get:function(t,i){var u=n.extend({},this.defaults,i),r,o,e,f;if(u.single.length||(u.single="metadata"),r=n.data(t,u.single),r)return r;if(r="{}",u.type=="class")o=u.cre.exec(t.className),o&&(r=o[1]);else if(u.type=="elem"){if(!t.getElementsByTagName)return undefined;e=t.getElementsByTagName(u.name),e.length&&(r=n.trim(e[0].innerHTML))}else t.getAttribute!=undefined&&(f=t.getAttribute(u.name),f&&(r=f));return r.indexOf("{")<0&&(r="{"+r+"}"),r=eval("("+r+")"),n.data(t,u.single,r),r}}}),n.fn.metadata=function(t){return n.metadata.get(this[0],t)}}(jQuery),window.notifyType={error:0,notify:1},function(n){var t=[];n.extend({advModal:function(i){function f(n){var i=$(this),o,e,f,h,s;if(i.is(":visible")){for(r.beforeClose&&r.beforeClose.apply(i,[i]),o=$(".modal:visible").not(i),e=!1,f=0,h=o.length;f<h;f+=1)if(o.eq(f).data("modal").options.isEnableBackground){e=!0;break}r.isEnableBackground&&e===!1&&i.prevAll("div.modal-background").hide(),u.hide(),n&&n.apply(i),t.length>0&&(s=t[0],t.splice(0,1),s.data("modal").modalShow())}}function v(n,i,u){var f,e;if(i=i||window.event,i&&(i.stopPropagation?i.stopPropagation():i.cancelBubble=!0),f=$(this),r.forceShow===!1&&($(".modal:visible").not(f).length>0||$(".js-bubble-zone:visible").length>0)&&(u==!1||u==null)){t.push(f);return}f.is(":hidden")&&(r.beforeOpen&&r.beforeOpen.apply(f,[f]),r.isEnableBackground&&f.prevAll("div.modal-background").show(),r.hideError&&(e=$("input,select,textrea").not(":submit, :reset, :image, [disabled]").filter(function(){return this.className.indexOf("valid-")!=-1}),e.nextAll(".error-message").hide()),f.show(),r.positionShow&&c.apply(f),r.afterOpen&&r.afterOpen.apply(f,[f,i]),n&&n.apply(f))}function d(n,t){n||(n=" ");var i=$(this);s.length||(i.prepend("<div class='title'></div>"),s=i.children("div.title")),s.html(n),t&&t.apply(i,[s])}function g(n,t){n||(n=" ");var r=$(this),i=r.find(".content"),u=r.find(".title");i.length===0&&(i=$("<div />",{"class":"content"}),u.length>0?u.after(i):r.prepend(i)),i.html(n),t&&t.apply(r,[i])}function k(n){var r=$(this),t=r.children("div.btns"),i,u;!n&&t.length&&t.empty(),t.length?t.empty():(r.append("<div class='btns'></div>"),t=r.children("div.btns")),i="",$.each(n,function(n,t){i+="<a href='javascript:void(0);' class='btn  btn-modal ",i+=t.classBtn?t.classBtn+"'>":"'>",t.textBtn&&(i+=t.textBtn+"</a>")}),t.html(i),u=t.children("a.btn"),u.each(function(t,i){n[t].func!=null&&$(i).click(n[t].func),n[t].isBtnClose==!0&&$(i).click(function(){f.apply(r)})})}function c(t){u.css({left:0,top:0});var i=$(this),o=i.outerWidth(),s=i.outerHeight(),h=$(window).width(),c=$(window).height(),f=0,e=0;window!=window.top&&window.VK!=null&&window.VK.addCallback!=null?(VK.addCallback("onScrollTop",function(c,a,v){window.jQuery.IsTouchDevice&&n.IsTouchDevice()?l.apply(i):(f=(h-o)/2,e=(a-v-s+c)/2,u.css({left:f,top:e,opacity:r.opacityModal})),t&&t.apply(i)}),VK.callMethod("scrollTop")):(window.jQuery.IsTouchDevice&&n.IsTouchDevice()?l.apply(i):(f=(h-o)/2,e=(c-s)/2,u.css({left:f,top:e,opacity:r.opacityModal})),t&&t.apply(i))}function b(n,t){if(t.is(":hidden")){if(r.controlBeforeOpen&&(a=r.controlBeforeOpen.apply(this,[t,n]),a===!1))return;v.apply(t,[null,n]),r.controlAfterOpen&&r.controlAfterOpen.apply(t,[t,n])}}function l(){var n=$(this),t=r.isEnableBackground===!0?$("div.modal-background"):[],f=n.offset(),i=n.outerWidth(),u=$(window).width();n.css({top:$(window).scrollTop(),left:(u-i)/2,opacity:r.opacityModal}),t.length>0&&t.css({height:$(document).height()})}var r=n.extend({modalClass:null,modalId:null,title:null,htmlContent:null,buttons:null,isEnableBackground:!0,opacityBackground:.4,opacityModal:1,control:null,controlEvent:"click",clickOut:!0,forceShow:!1,cross:!0,closeEsc:!0,enableTouch:!0,positionShow:!0,controlBeforeOpen:null,controlAfterOpen:null,funcCross:null,beforeOpen:null,afterOpen:null,beforeClose:null,afterClose:null,hideError:!0,initCallback:null},i),u=$("<div>").addClass("modal"),e=$("<div>").addClass("modal-background"),o,y,p,a,nt,tt;r.isEnableBackground&&!$("div.modal-background").length&&$("#form, #aspnetForm").append(e),r.cross&&u.append("<div class='modal-close cross'></div>"),r.title&&u.append("<div class='title'></div>"),r.htmlContent&&u.append("<div class='content'></div>"),r.buttons&&u.append("<div class='btns'></div>"),$("#form, #aspnetForm").append(u),r.modalClass&&u.addClass(r.modalClass),r.modalId&&u.attr("id",r.modalId),r.isEnableBackground&&!e.length&&(e=$("div.modal-background")),r.isEnableBackground&&(e=u.prev("div.modal-background"),e.css({opacity:r.opacityBackground}));var s=u.children("div.title"),w=u.children("div.content"),h=u.children("div.btns");if(s.length&&s.append(r.title),w.length&&w.append(r.htmlContent),h.length&&(o="",$.each(r.buttons,function(n,t){o+="<a href='javascript:void(0)' class='btn btn-middle btn-modal ",o+=t.classBtn?t.classBtn+"'>":"'>",t.textBtn&&(o+=t.textBtn+"</a>")}),h.html(o)),h.length&&(y=h.children("a.btn"),y.each(function(n,t){if(r.buttons[n].func!=null)$(t).on("click",{modal:u},r.buttons[n].func);r.buttons[n].isBtnClose==!0&&$(t).click(function(){return f.apply(u),!1})})),r.control)if(p=$(r.control),a=!0,typeof r.control=="string")$(document.body).on(r.controlEvent,r.control,function(n){b(n,u)});else p.on(r.controlEvent,function(n){b(n,u)});if(r.clickOut)$("body").on("click.modalClickOut",function(n){var t=$(n.target).closest(u).length;!t&&u.is(":visible")&&f.apply(u)});return r.closeEsc&&$(document).keyup(function(n){u.is(":visible")&&n.keyCode==27&&f.apply(u)}),u.find("div.modal-close").click(function(){return f.apply(u),r.funcCross&&r.funcCross.apply(u),!1}),$(window).resize(function(){u.is(":visible")&&c.apply(u)}),c.apply(u),window.jQuery.IsTouchDevice&&n.IsTouchDevice()&&(u.addClass("m-touch"),e.length>0&&e.addClass("mb-touch"),$(window).scroll(function(){l.apply(u)})),$.extend(u,{modalShow:function(n,t){v.apply(u,[n,null,t])},modalClose:function(n){f.apply(u,[n])},modalTitle:function(n,t){d.apply(u,[n,t])},modalContent:function(n,t){g.apply(u,[n,t])},modalBtns:function(n,t){k.apply(u,[n,t])},modalPosition:function(n){c.apply(u,[n])},modalSetClickOut:function(n){if(n===!1)$("body").off("click.modalClickOut");else $("body").on("click.modalClickOut",function(n){var t=$(n.target).closest(u).length;!t&&u.is(":visible")&&f.apply(u)})}},{options:r}),r.initCallback&&r.initCallback(),u.data("modal",u),u}}),n.advModal.reopen=function(){t.length>0&&$(".modal:visible").length===0&&(t[0].data("modal").modalShow(),t.splice(0,1))},n.advModal.isQueueEmpty=function(){return t.length===0},n.advModal.countModalActive=function(){return $(".modal:visible").length}}(jQuery),function(n){n.fn.advTabs=function(t){function r(n,t,r,u,f){var o,a,c,h,e,s,l,v;n&&(o=$(this).data("tabs"),a=$("input[type=hidden].tabid"),o)&&(c=o.headers,h=o.contents,isNaN(parseInt(n))?(e=$(n),v=c.index(e),s=$(h[v])):(e=$(c[n]),s=$(h[n])),f&&f.is("a[href^=#tabid]")&&$(document).scrollTop(e.offset().top),c.removeClass(i.classSelected),h.removeClass(i.classSelected),u&&u.apply(o),e.addClass(i.classSelected),s.addClass(i.classSelected),e.attr("id")&&t&&(window.location.hash="#tabid="+e.attr("id")),a.length&&t&&a.val(e.attr("id")),r&&r.apply(o),l=s.find(".jcarousel:visible:not(.jcarousel-list)"),l.length&&l.jcarousel({scroll:1}))}function u(n){var t=/.*tabid=(.+)/g.exec(n);return t?t[1]:!1}var i=n.extend({headers:"div.tabs-headers > div.tab-header",contents:"div.tabs-contents > div.tab-content",classSelected:"selected",contentPlaceholderLink:null,callbackOpen:null,callbackClose:null},t);return this.each(function(){var n=$(this),t=n.find(i.headers),f=n.find(i.contents),s,o,h,e,c;if(t.length!=f.length)throw new Error("Tab's headers count not equals tab's  blocks count");if($.extend(n,{tabShow:function(t,i,u,f){r.apply(n,[t,i,u,f])}}),s=0,t.each(function(n){var t=$.trim($(f[n]).html().replace(/<br\s*[\/]?>/gi,""));($(this).hasClass("tab-hidden")||!t.length)&&($(this).remove(),$(f[n]).remove(),s++)}),s==t.length){n.remove();return}s>0&&(t=n.find(i.headers),f=n.find(i.contents)),n.headers=t,n.contents=f,n.data("tabs",n),n.click(function(t){var u=$(t.target).closest(i.headers);u.length&&r.apply(n,[u,!0,i.callbackOpen,i.callbackClose])}),o=$("input[type=hidden].tabid").val()||u(window.location.href),o&&n.find("#"+o).length?r.apply(n,["#"+o,!1]):r.apply(n,[$(t[0]),!1]),i.contentPlaceholderLink&&$(i.contentPlaceholderLink).length&&(h=t.filter("[id]"),h.length&&(e='<div class="tabs-links">',c='<div><a href="#tabid={0}">{1}</a></div>',h.each(function(){e+=String.Format(c,this.id,$(this).text())}),e+="</div>",$(i.contentPlaceholderLink).append(e))),$("a[href^=#tabid]").click(function(t){var i=u($(this).attr("href"));return r.apply(n,["#"+i,!0,null,null,$(t.target)]),t.cancelBubble=!0,!1})})}}(jQuery),Advantshop=Advantshop||{},function(n){Advantshop.NamespaceRequire=function(n){for(var f=n.split("."),t=window,r="",i=0,u=f.length;i<u;i++)r=f[i],t[r]=t[r]||{},t=t[r];return t},Advantshop.GetJQueryObject=function(t){var i;return i=t instanceof n==!1?n(t):t}}(jQuery),Advantshop.Utilities={},function(n){var t=function(){};t.IsExist=function(t){var i=!1;return n.ajax({url:t,type:"HEAD",cache:!1,async:!1,error:function(){i=!1},success:function(){i=!0}}),i},Advantshop.Utilities.File=t}(jQuery),function(n){var t=function(){};t.list=function(t){var i=t.data("events");return i!==undefined?i:(i=n.data(t,"events"),i!==undefined)?i:(i=n._data(t,"events"),i!==undefined)?i:(i=n._data(t[0],"events"),i!==undefined)?i:null},t.isExistEvent=function(n,i){var u,r,f,o,e;if(n.length===0)return!1;if(r=!1,u=t.list(n),u)if(i.indexOf(".")==-1)r=i in u;else if(f=/^(\w+)\.?/g.exec(i)[1],o=i.replace(f+".",""),o=o.split(".").reverse().join("."),u[f]){for(e=0;e<u[f].length;e++)if(u[f][e].namespace==o){r=!0;break}}else r=!1;else r=!1;return r},Advantshop.Utilities.Events=t}(jQuery),function(){var n=function(){};n.toFirstUpperSimbol=function(n){var i=n[0]||n.charAt(0);return i.toUpperCase()+n.substring(1,n.length)},Advantshop.Utilities.Text=n}(),function(){var n=function(n){return typeof n=="string"&&n.length===0?null:new Function("return "+n)()};Advantshop.Utilities.Eval=n}(),function(){var n=function(){};n.isExistLinkJS=function(n){return $("script").filter('[src$="'+n+'"]').length},n.isExistLinkCSS=function(n){return $("link").filter('[href$="'+n+'"]').length},Advantshop.NamespaceRequire("Advantshop"),Advantshop.ScriptsManager=n}();
/*!
 * jsUri v1.1.1
 * https://github.com/derek-watson/jsUri
 *
 * Copyright 2011, Derek Watson
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Includes parseUri regular expressions
 * http://blog.stevenlevithan.com/archives/parseuri
 * Copyright 2007, Steven Levithan
 * Released under the MIT license.
 *
 * Date: Mon Nov 14 20:06:34 2011 -0800
 */
(function(){var t=function(n){"use strict";var s=function(n){var u=[],t,r,f,i;if(typeof n=="undefined"||n===null||n==="")return u;for(n.indexOf("?")===0&&(n=n.substring(1)),r=n.toString().split(/[&;]/),t=0;t<r.length;t++)f=r[t],i=f.split("="),u.push([i[0],i[1]]);return u},t=s(n),o=function(){for(var n="",r,i=0;i<t.length;i++)r=t[i],n.length>0&&(n+="&"),n+=r.join("=");return n.length>0?"?"+n:n},i=function(n){return n=decodeURIComponent(n),n=n.replace("+"," ")},h=function(n){for(var u,r=0;r<t.length;r++)if(u=t[r],i(n)===i(u[0]))return u[1]},e=function(n){for(var f=[],u,r=0;r<t.length;r++)u=t[r],i(n)===i(u[0])&&f.push(u[1]);return f},r=function(n,r){for(var s=[],u,e,o,f=0;f<t.length;f++)u=t[f],e=i(u[0])===i(n),o=i(u[1])===i(r),(arguments.length!==1||e)&&(arguments.length!==2||e||o)||s.push(u);return t=s,this},u=function(n,i,r){return arguments.length===3&&r!==-1?(r=Math.min(r,t.length),t.splice(r,0,[n,i])):arguments.length>0&&t.push([n,i]),this},f=function(n,f,e){var h=-1,o,s;if(arguments.length===3){for(o=0;o<t.length;o++)if(s=t[o],i(s[0])===i(n)&&decodeURIComponent(s[1])===i(e)){h=o;break}r(n,e).addParam(n,f,h)}else{for(o=0;o<t.length;o++)if(s=t[o],i(s[0])===i(n)){h=o;break}r(n),u(n,f,h)}return this};return{getParamValue:h,getParamValues:e,deleteParam:r,addParam:u,replaceParam:f,toString:o}},n=function(i){"use strict";var ut=!1,ft=function(n){for(var f={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],r={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},e=f[ut?"strict":"loose"].exec(n),t={},i=14;i--;)t[u[i]]=e[i]||"";return t[r.name]={},t[u[12]].replace(r.parser,function(n,i,u){i&&(t[r.name][i]=u)}),t},r=ft(i||""),v=new t(r.query),o=function(n){return typeof n!="undefined"&&(r.protocol=n),r.protocol},a=null,l=function(n){return typeof n!="undefined"&&(a=n),a===null?r.source.indexOf("//")!==-1:a},e=function(n){return typeof n!="undefined"&&(r.userInfo=n),r.userInfo},f=function(n){return typeof n!="undefined"&&(r.host=n),r.host},h=function(n){return typeof n!="undefined"&&(r.port=n),r.port},c=function(n){return typeof n!="undefined"&&(r.path=n),r.path},u=function(n){return typeof n!="undefined"&&(v=new t(n)),v},s=function(n){return typeof n!="undefined"&&(r.anchor=n),r.anchor},it=function(n){return o(n),this},rt=function(n){return l(n),this},st=function(n){return e(n),this},ht=function(n){return f(n),this},et=function(n){return h(n),this},ot=function(n){return c(n),this},tt=function(n){return u(n),this},b=function(n){return s(n),this},w=function(n){return u().getParamValue(n)},p=function(n){return u().getParamValues(n)},k=function(n,t){return arguments.length===2?u().deleteParam(n,t):u().deleteParam(n),this},nt=function(n,t,i){return arguments.length===3?u().addParam(n,t,i):u().addParam(n,t),this},g=function(n,t,i){return arguments.length===3?u().replaceParam(n,t,i):u().replaceParam(n,t),this},y=function(){var n="",t=function(n){return n!==null&&n!==""};return t(o())?(n+=o(),o().indexOf(":")!==o().length-1&&(n+=":"),n+="//"):l()&&t(f())&&(n+="//"),t(e())&&t(f())&&(n+=e(),e().indexOf("@")!==e().length-1&&(n+="@")),t(f())&&(n+=f(),t(h())&&(n+=":"+h())),t(c())?n+=c():t(f())&&(t(u().toString())||t(s()))&&(n+="/"),t(u().toString())&&(u().toString().indexOf("?")!==0&&(n+="?"),n+=u().toString()),t(s())&&(s().indexOf("#")!==0&&(n+="#"),n+=s()),n},d=function(){return new n(y())};return{protocol:o,hasAuthorityPrefix:l,userInfo:e,host:f,port:h,path:c,query:u,anchor:s,setProtocol:it,setHasAuthorityPrefix:rt,setUserInfo:st,setHost:ht,setPort:et,setPath:ot,setQuery:tt,setAnchor:b,getQueryParamValue:w,getQueryParamValues:p,deleteQueryParam:k,addQueryParam:nt,replaceQueryParam:g,toString:y,clone:d}};Advantshop.NamespaceRequire("Advantshop.Utilities"),Advantshop.Utilities.Uri=n})(),function(n,t){var u=window.Advantshop,e=n(document.body),r=n(t),f={},o=-1,i=function(t,r){var e=u.GetJQueryObject(t),f=e.attr("data-progress-reference")||"";return i.prototype.inCollection(f)?i.prototype.GetProgressInCollection(f):(this.$obj=e,this.options=n.extend({},this.defaultOptions,r),this)};u.NamespaceRequire("Advantshop.ScriptsManager"),u.ScriptsManager.Progress=i,i.prototype.Init=function(n,t){var f=u.GetJQueryObject(n),e=f.attr("data-progress-reference")||"",r;return i.prototype.inCollection(e)?i.prototype.GetProgressInCollection(e):(r=new i(f,t),r.GenerateHtml(),r)},i.prototype.GenerateHtml=function(){var n=this;(n.options.type=i.prototype.type.Over)&&n.GenerateHtmlOver()},i.prototype.GenerateHtmlOver=function(){var i=this,t="progress-"+(o+=1),r=n("<div>",{"class":"progress progress-over","data-progress-id":t});e.append(r),i.$progress=r,f[t]=i,i.$obj.attr("data-progress-reference",t)},i.prototype.SetPosition=function(){var n=this,u=n.$progress,t=n.$obj.offset(),i={width:n.$obj.outerWidth(),height:n.$obj.outerHeight()};(n.$obj.is("body")||n.$obj.is("html")||n.$obj.is(r))&&(i.height=r.height(),t.top=r.scrollTop()),u.css({top:t.top,left:t.left,width:i.width,height:i.height})},i.prototype.Show=function(){var t=this,i=t.options,u=t.$progress;if(t.SetPosition(),u.stop(!0,!0),t.$obj.is("body")||t.$obj.is("html")||t.$obj.is(r)){r.off("scroll.progressScroll");r.on("scroll.progressScroll",function(){t.SetPosition()});n("html, body").css("overflow-x","hidden")}u[i.animationShow](i.animationSpeed,function(){t.interval=setInterval(function(){t.SetPosition()},i.tick)})},i.prototype.Hide=function(){var t=this,u=t.options,i=t.$progress;t.interval&&clearInterval(t.interval),(t.$obj.is("body")||t.$obj.is("html")||t.$obj.is(r))&&(r.off("scroll.progressScroll"),n("html, body").css("overflow-x","")),i.stop(!0,!0),i[u.animationHide](u.animationSpeed)},i.prototype.type={Inside:"inside",Over:"over"},i.prototype.inCollection=function(n){var t=!1;return!n&&this.$obj&&this.$obj.attr("data-progress-reference")&&(n=this.$obj.attr("data-progress-reference")),f[n]&&(t=!0),t},i.prototype.GetProgressInCollection=function(n){var i=this,t=null;return!n&&this.$obj&&this.$obj.attr("data-progress-reference")&&(n=this.$obj.attr("data-progress-reference")),i.inCollection(n)&&(t=f[n]),t},i.prototype.defaultOptions={tick:50,animationShow:"fadeIn",animationHide:"fadeOut",animationSpeed:0,opacity:.5,type:i.prototype.Inside}}(jQuery,window),function(n){var e,h,s,o;Math.precision=function(n,t){return t===undefined&&(t=0),Math.round(n*Math.pow(10,t))/Math.pow(10,t)},e=function(t,i){var e=this,s=t.find("img:first"),o=0,r=100,c=100,u=0,f=100,h=100,v=0,a=0,b,y,l=[],rt=function(n){for(var t=0;t<l.length;t++)l[t].call(e,e,n)},nt=function(i){var r=t.offset();b={l:r.left|0,t:r.top|0},clearTimeout(y),y=setTimeout(function(){g.call(e,i)},0),n(document).bind("mousemove",p).bind("mouseup",w),i.preventDefault()},p=function(n){return clearTimeout(y),y=setTimeout(function(){g.call(e,n)},0),n.stopPropagation(),n.preventDefault(),!1},w=function(t){return n(document).unbind("mouseup",w).unbind("mousemove",p),t.stopPropagation(),t.preventDefault(),!1},g=function(n){var r=n.pageX-b.l,i=n.pageY-b.t,s=t.w,f=t.h;r<0?r=0:r>s&&(r=s),i<0?i=0:i>f&&(i=f),d.call(e,"xy",{x:r/s*c+o,y:i/f*h+u})},ut=function(){var i=0,n=0,e=t.w,u=t.h,l=s.w,o=s.h;setTimeout(function(){c>0&&(i=v==r?e:v/c*e|0),h>0&&(n=a==f?u:a/h*u|0),l>=e?i=(e>>1)-(l>>1):i-=l>>1,o>=u?n=(u>>1)-(o>>1):n-=o>>1,s.css({left:i+"px",top:n+"px"})},0)},d=function(n,t,i){var l=t!==undefined,c,s,h;if(!l){(n===undefined||n==null)&&(n="xy");switch(n.toLowerCase()){case"x":return v;case"y":return a;case"xy":default:return{x:v,y:a}}}if(i==null||i!=e){c=!1,n==null&&(n="xy");switch(n.toLowerCase()){case"x":s=t&&(t.x&&t.x|0||t|0)||0;break;case"y":h=t&&(t.y&&t.y|0||t|0)||0;break;case"xy":default:s=t&&t.x&&t.x|0||0,h=t&&t.y&&t.y|0||0}s!=null&&(s<o?s=o:s>r&&(s=r),v!=s&&(v=s,c=!0)),h!=null&&(h<u?h=u:h>f&&(h=f),a!=h&&(a=h,c=!0)),c&&rt.call(e,i||e)}},ft=function(n,t){var v=t!==undefined,a,s,i,e,l;if(!v){(n===undefined||n==null)&&(n="all");switch(n.toLowerCase()){case"minx":return o;case"maxx":return r;case"rangex":return{minX:o,maxX:r,rangeX:c};case"miny":return u;case"maxy":return f;case"rangey":return{minY:u,maxY:f,rangeY:h};case"all":default:return{minX:o,maxX:r,rangeX:c,minY:u,maxY:f,rangeY:h}}}a=!1,n==null&&(n="all");switch(n.toLowerCase()){case"minx":s=t&&(t.minX&&t.minX|0||t|0)||0;break;case"maxx":i=t&&(t.maxX&&t.maxX|0||t|0)||0;break;case"rangex":s=t&&t.minX&&t.minX|0||0,i=t&&t.maxX&&t.maxX|0||0;break;case"miny":e=t&&(t.minY&&t.minY|0||t|0)||0;break;case"maxy":l=t&&(t.maxY&&t.maxY|0||t|0)||0;break;case"rangey":e=t&&t.minY&&t.minY|0||0,l=t&&t.maxY&&t.maxY|0||0;break;case"all":default:s=t&&t.minX&&t.minX|0||0,i=t&&t.maxX&&t.maxX|0||0,e=t&&t.minY&&t.minY|0||0,l=t&&t.maxY&&t.maxY|0||0}s!=null&&o!=s&&(o=s,c=r-o),i!=null&&r!=i&&(r=i,c=r-o),e!=null&&u!=e&&(u=e,h=f-u),l!=null&&f!=l&&(f=l,h=f-u)},k=function(t){n.isFunction(t)&&l.push(t)},tt=function(t){if(n.isFunction(t))for(var i;(i=n.inArray(t,l))!=-1;)l.splice(i,1)},it=function(){n(document).unbind("mouseup",w).unbind("mousemove",p),t.unbind("mousedown",nt),t=null,s=null,l=null};n.extend(!0,e,{val:d,range:ft,bind:k,unbind:tt,destroy:it}),s.src=i.arrow&&i.arrow.image,s.w=i.arrow&&i.arrow.width||s.width(),s.h=i.arrow&&i.arrow.height||s.height(),t.w=i.map&&i.map.width||t.width(),t.h=i.map&&i.map.height||t.height(),t.bind("mousedown",nt),k.call(e,ut)},h=function(t,i,r,u){var e=this,w=t.find("td.Text input"),l=w.eq(3),a=w.eq(4),v=w.eq(5),f=w.length>7?w.eq(6):null,h=w.eq(0),s=w.eq(1),c=w.eq(2),y=w.eq(w.length>7?7:6),p=w.length>7?w.eq(8):null,d=function(n){if(n.target.value!=""||n.target==y.get(0)||(r==null||n.target==r.get(0))&&r!=null){if(!b(n))return n;switch(n.target){case l.get(0):switch(n.keyCode){case 38:return l.val(o.call(e,(l.val()<<0)+1,0,255)),i.val("r",l.val(),n.target),!1;case 40:return l.val(o.call(e,(l.val()<<0)-1,0,255)),i.val("r",l.val(),n.target),!1}break;case a.get(0):switch(n.keyCode){case 38:return a.val(o.call(e,(a.val()<<0)+1,0,255)),i.val("g",a.val(),n.target),!1;case 40:return a.val(o.call(e,(a.val()<<0)-1,0,255)),i.val("g",a.val(),n.target),!1}break;case v.get(0):switch(n.keyCode){case 38:return v.val(o.call(e,(v.val()<<0)+1,0,255)),i.val("b",v.val(),n.target),!1;case 40:return v.val(o.call(e,(v.val()<<0)-1,0,255)),i.val("b",v.val(),n.target),!1}break;case f&&f.get(0):switch(n.keyCode){case 38:return f.val(o.call(e,parseFloat(f.val())+1,0,100)),i.val("a",Math.precision(f.val()*255/100,u),n.target),!1;case 40:return f.val(o.call(e,parseFloat(f.val())-1,0,100)),i.val("a",Math.precision(f.val()*255/100,u),n.target),!1}break;case h.get(0):switch(n.keyCode){case 38:return h.val(o.call(e,(h.val()<<0)+1,0,360)),i.val("h",h.val(),n.target),!1;case 40:return h.val(o.call(e,(h.val()<<0)-1,0,360)),i.val("h",h.val(),n.target),!1}break;case s.get(0):switch(n.keyCode){case 38:return s.val(o.call(e,(s.val()<<0)+1,0,100)),i.val("s",s.val(),n.target),!1;case 40:return s.val(o.call(e,(s.val()<<0)-1,0,100)),i.val("s",s.val(),n.target),!1}break;case c.get(0):switch(n.keyCode){case 38:return c.val(o.call(e,(c.val()<<0)+1,0,100)),i.val("v",c.val(),n.target),!1;case 40:return c.val(o.call(e,(c.val()<<0)-1,0,100)),i.val("v",c.val(),n.target),!1}}}},g=function(n){if(n.target.value!=""||n.target==y.get(0)||(r==null||n.target==r.get(0))&&r!=null){if(!b(n))return n;switch(n.target){case l.get(0):l.val(o.call(e,l.val(),0,255)),i.val("r",l.val(),n.target);break;case a.get(0):a.val(o.call(e,a.val(),0,255)),i.val("g",a.val(),n.target);break;case v.get(0):v.val(o.call(e,v.val(),0,255)),i.val("b",v.val(),n.target);break;case f&&f.get(0):f.val(o.call(e,f.val(),0,100)),i.val("a",Math.precision(f.val()*255/100,u),n.target);break;case h.get(0):h.val(o.call(e,h.val(),0,360)),i.val("h",h.val(),n.target);break;case s.get(0):s.val(o.call(e,s.val(),0,100)),i.val("s",s.val(),n.target);break;case c.get(0):c.val(o.call(e,c.val(),0,100)),i.val("v",c.val(),n.target);break;case y.get(0):y.val(y.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),r&&r.val(y.val()),i.val("hex",y.val()!=""?y.val():null,n.target);break;case r&&r.get(0):r.val(r.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),y.val(r.val()),i.val("hex",r.val()!=""?r.val():null,n.target);break;case p&&p.get(0):p.val(p.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,2)),i.val("a",p.val()!=null?parseInt(p.val(),16):null,n.target)}}},nt=function(n){if(i.val()!=null)switch(n.target){case l.get(0):l.val(i.val("r"));break;case a.get(0):a.val(i.val("g"));break;case v.get(0):v.val(i.val("b"));break;case f&&f.get(0):f.val(Math.precision(i.val("a")*100/255,u));break;case h.get(0):h.val(i.val("h"));break;case s.get(0):s.val(i.val("s"));break;case c.get(0):c.val(i.val("v"));break;case y.get(0):case r&&r.get(0):y.val(i.val("hex")),r&&r.val(i.val("hex"));break;case p&&p.get(0):p.val(i.val("ahex").substring(6))}},b=function(n){switch(n.keyCode){case 9:case 16:case 29:case 37:case 39:return!1;case"c".charCodeAt():case"v".charCodeAt():if(n.ctrlKey)return!1}return!0},o=function(n,t,i){return n==""||isNaN(n)?t:n>i?i:n<t?t:n},k=function(n,t){var i=n.val("all");t!=l.get(0)&&l.val(i!=null?i.r:""),t!=a.get(0)&&a.val(i!=null?i.g:""),t!=v.get(0)&&v.val(i!=null?i.b:""),f&&t!=f.get(0)&&f.val(i!=null?Math.precision(i.a*100/255,u):""),t!=h.get(0)&&h.val(i!=null?i.h:""),t!=s.get(0)&&s.val(i!=null?i.s:""),t!=c.get(0)&&c.val(i!=null?i.v:""),t!=y.get(0)&&(r&&t!=r.get(0)||!r)&&y.val(i!=null?i.hex:""),r&&t!=r.get(0)&&t!=y.get(0)&&r.val(i!=null?i.hex:""),p&&t!=p.get(0)&&p.val(i!=null?i.ahex.substring(6):"")},tt=function(){l.add(a).add(v).add(f).add(h).add(s).add(c).add(y).add(r).add(p).unbind("keyup",g).unbind("blur",nt),l.add(a).add(v).add(f).add(h).add(s).add(c).unbind("keydown",d),i.unbind(k),l=null,a=null,v=null,f=null,h=null,s=null,c=null,y=null,p=null};n.extend(!0,e,{destroy:tt}),l.add(a).add(v).add(f).add(h).add(s).add(c).add(y).add(r).add(p).bind("keyup",g).bind("blur",nt),l.add(a).add(v).add(f).add(h).add(s).add(c).bind("keydown",d),i.bind(k)},n.jPicker={List:[],Color:function(t){var f=this,r,h,s,i,l,o,e,a=[],v=function(n){for(var t=0;t<a.length;t++)a[t].call(f,f,n)},c=function(n,t,a){var g=t!==undefined,w,b,p;if(!g){if((n===undefined||n==null||n=="")&&(n="all"),r==null)return null;switch(n.toLowerCase()){case"ahex":return u.rgbaToHex({r:r,g:h,b:s,a:i});case"hex":return c("ahex").substring(0,6);case"all":return{r:r,g:h,b:s,a:i,h:l,s:o,v:e,hex:c.call(f,"hex"),ahex:c.call(f,"ahex")};default:for(p={},b=0;b<n.length;b++)switch(n.charAt(b)){case"r":n.length==1?p=r:p.r=r;break;case"g":n.length==1?p=h:p.g=h;break;case"b":n.length==1?p=s:p.b=s;break;case"a":n.length==1?p=i:p.a=i;break;case"h":n.length==1?p=l:p.h=l;break;case"s":n.length==1?p=o:p.s=o;break;case"v":n.length==1?p=e:p.v=e}return p=={}?c.call(f,"all"):p}}if(a==null||a!=f){if(w=!1,n==null&&(n=""),t==null){r!=null&&(r=null,w=!0),h!=null&&(h=null,w=!0),s!=null&&(s=null,w=!0),i!=null&&(i=null,w=!0),l!=null&&(l=null,w=!0),o!=null&&(o=null,w=!0),e!=null&&(e=null,w=!0),w&&v.call(f,a||f);return}switch(n.toLowerCase()){case"ahex":case"hex":p=u.hexToRgba(t&&(t.ahex||t.hex)||t||"00000000"),c.call(f,"rgba",{r:p.r,g:p.g,b:p.b,a:n=="ahex"?p.a:i!=null?i:255},a);break;default:if(t&&(t.ahex!=null||t.hex!=null)){c.call(f,"ahex",t.ahex||t.hex||"00000000",a);return}var y={},k=!1,d=!1;for(t.r!==undefined&&!n.indexOf("r")==-1&&(n+="r"),t.g!==undefined&&!n.indexOf("g")==-1&&(n+="g"),t.b!==undefined&&!n.indexOf("b")==-1&&(n+="b"),t.a!==undefined&&!n.indexOf("a")==-1&&(n+="a"),t.h!==undefined&&!n.indexOf("h")==-1&&(n+="h"),t.s!==undefined&&!n.indexOf("s")==-1&&(n+="s"),t.v!==undefined&&!n.indexOf("v")==-1&&(n+="v"),b=0;b<n.length;b++)switch(n.charAt(b)){case"r":if(d)continue;k=!0,y.r=t&&t.r&&t.r|0||t&&t|0||0,y.r<0?y.r=0:y.r>255&&(y.r=255),r!=y.r&&(r=y.r,w=!0);break;case"g":if(d)continue;k=!0,y.g=t&&t.g&&t.g|0||t&&t|0||0,y.g<0?y.g=0:y.g>255&&(y.g=255),h!=y.g&&(h=y.g,w=!0);break;case"b":if(d)continue;k=!0,y.b=t&&t.b&&t.b|0||t&&t|0||0,y.b<0?y.b=0:y.b>255&&(y.b=255),s!=y.b&&(s=y.b,w=!0);break;case"a":y.a=t&&t.a!=null?t.a|0:t!=null?t|0:255,y.a<0?y.a=0:y.a>255&&(y.a=255),i!=y.a&&(i=y.a,w=!0);break;case"h":if(k)continue;d=!0,y.h=t&&t.h&&t.h|0||t&&t|0||0,y.h<0?y.h=0:y.h>360&&(y.h=360),l!=y.h&&(l=y.h,w=!0);break;case"s":if(k)continue;d=!0,y.s=t&&t.s!=null?t.s|0:t!=null?t|0:100,y.s<0?y.s=0:y.s>100&&(y.s=100),o!=y.s&&(o=y.s,w=!0);break;case"v":if(k)continue;d=!0,y.v=t&&t.v!=null?t.v|0:t!=null?t|0:100,y.v<0?y.v=0:y.v>100&&(y.v=100),e!=y.v&&(e=y.v,w=!0)}w&&(k?(r=r||0,h=h||0,s=s||0,p=u.rgbToHsv({r:r,g:h,b:s}),l=p.h,o=p.s,e=p.v):d&&(l=l||0,o=o!=null?o:100,e=e!=null?e:100,p=u.hsvToRgb({h:l,s:o,v:e}),r=p.r,h=p.g,s=p.b),i=i!=null?i:255,v.call(f,a||f))}}},w=function(t){n.isFunction(t)&&a.push(t)},p=function(t){if(n.isFunction(t))for(var i;(i=n.inArray(t,a))!=-1;)a.splice(i,1)},y=function(){a=null};n.extend(!0,f,{val:c,bind:w,unbind:p,destroy:y}),t&&(t.ahex!=null?c("ahex",t):t.hex!=null?c((t.a!=null?"a":"")+"hex",t.a!=null?{ahex:t.hex+u.intToHex(t.a)}:t):t.r!=null&&t.g!=null&&t.b!=null?c("rgb"+(t.a!=null?"a":""),t):t.h!=null&&t.s!=null&&t.v!=null&&c("hsv"+(t.a!=null?"a":""),t))},ColorMethods:{hexToRgba:function(n){if(n=this.validateHex(n),n=="")return{r:null,g:null,b:null,a:null};var r="00",i="00",t="00",u="255";return n.length==6&&(n+="ff"),n.length>6?(r=n.substring(0,2),i=n.substring(2,4),t=n.substring(4,6),u=n.substring(6,n.length)):(n.length>4&&(r=n.substring(4,n.length),n=n.substring(0,4)),n.length>2&&(i=n.substring(2,n.length),n=n.substring(0,2)),n.length>0&&(t=n.substring(0,n.length))),{r:this.hexToInt(r),g:this.hexToInt(i),b:this.hexToInt(t),a:this.hexToInt(u)}},validateHex:function(n){return n=n.toLowerCase().replace(/[^a-f0-9]/g,""),n.length>8&&(n=n.substring(0,8)),n},rgbaToHex:function(n){return this.intToHex(n.r)+this.intToHex(n.g)+this.intToHex(n.b)+this.intToHex(n.a)},intToHex:function(n){var t=(n|0).toString(16);return t.length==1&&(t="0"+t),t.toLowerCase()},hexToInt:function(n){return parseInt(n,16)},rgbToHsv:function(n){var r=n.r/255,i=n.g/255,f=n.b/255,t={h:0,s:0,v:0},e=0,u=0,o;return r>=i&&r>=f?(u=r,e=i>f?f:i):i>=f&&i>=r?(u=i,e=r>f?f:r):(u=f,e=i>r?r:i),t.v=u,t.s=u?(u-e)/u:0,t.s?(o=u-e,t.h=r==u?(i-f)/o:i==u?2+(f-r)/o:4+(r-i)/o,t.h=parseInt(t.h*60),t.h<0&&(t.h+=360)):t.h=0,t.s=t.s*100|0,t.v=t.v*100|0,t},hsvToRgb:function(n){var t={r:0,g:0,b:0,a:100},f=n.h,u=n.s,i=n.v;if(u==0)t.r=i==0?t.g=t.b=0:t.g=t.b=i*255/100|0;else{f==360&&(f=0),f/=60,u=u/100,i=i/100;var h=f|0,s=f-h,r=i*(1-u),e=i*(1-u*s),o=i*(1-u*(1-s));switch(h){case 0:t.r=i,t.g=o,t.b=r;break;case 1:t.r=e,t.g=i,t.b=r;break;case 2:t.r=r,t.g=i,t.b=o;break;case 3:t.r=r,t.g=e,t.b=i;break;case 4:t.r=o,t.g=r,t.b=i;break;case 5:t.r=i,t.g=r,t.b=e}t.r=t.r*255|0,t.g=t.g*255|0,t.b=t.b*255|0}return t}}};var r=n.jPicker.Color,f=n.jPicker.List,u=n.jPicker.ColorMethods;n.fn.jPicker=function(t){var o=arguments;return this.each(function(){var s=this,c=n.extend(!0,{},n.fn.jPicker.defaults,t);n(s).get(0).nodeName.toLowerCase()=="input"&&(n.extend(!0,c,{window:{bindToInput:!0,expandable:!0,input:n(s)}}),n(s).val()==""?(c.color.active=new r({hex:null}),c.color.current=new r({hex:null})):u.validateHex(n(s).val())&&(c.color.active=new r({hex:n(s).val(),a:c.color.active.val("a")}),c.color.current=new r({hex:n(s).val(),a:c.color.active.val("a")}))),c.window.expandable?n(s).after('<span class="jPicker"><span class="Icon"><span class="Color">&nbsp;</span><span class="Alpha">&nbsp;</span><span class="Image" title="Click To Open Color Picker">&nbsp;</span><span class="Container">&nbsp;</span></span></span>'):c.window.liveUpdate=!1;var ti=parseFloat(navigator.appVersion.split("MSIE")[1])<7&&document.body.filters,a=null,ft=null,et=null,it=null,g=null,yt=null,ut=null,nt=null,ot=null,st=null,ht=null,d=null,y=null,v=null,ni=null,nr=null,bi=null,ai=null,yi=null,dt=null,ct=null,bt=null,wt=null,lt=null,wi=null,vt=null,vi=null,pi=null,ki=function(n){var t=b.active,f=p.clientPath,u=t.val("hex"),r,i;c.color.mode=n;switch(n){case"h":if(setTimeout(function(){tt.call(s,ft,"transparent"),w.call(s,it,0),l.call(s,it,100),w.call(s,g,260),l.call(s,g,100),tt.call(s,et,"transparent"),w.call(s,ut,0),l.call(s,ut,100),w.call(s,nt,260),l.call(s,nt,100),w.call(s,ot,260),l.call(s,ot,100),w.call(s,st,260),l.call(s,st,100),w.call(s,d,260),l.call(s,d,100)},0),y.range("all",{minX:0,maxX:100,minY:0,maxY:100}),v.range("rangeY",{minY:0,maxY:360}),t.val("ahex")==null)break;y.val("xy",{x:t.val("s"),y:100-t.val("v")},y),v.val("y",360-t.val("h"),v);break;case"s":if(setTimeout(function(){tt.call(s,ft,"transparent"),w.call(s,it,-260),w.call(s,g,-520),w.call(s,ut,-260),w.call(s,nt,-520),w.call(s,d,260),l.call(s,d,100)},0),y.range("all",{minX:0,maxX:360,minY:0,maxY:100}),v.range("rangeY",{minY:0,maxY:100}),t.val("ahex")==null)break;y.val("xy",{x:t.val("h"),y:100-t.val("v")},y),v.val("y",100-t.val("s"),v);break;case"v":if(setTimeout(function(){tt.call(s,ft,"000000"),w.call(s,it,-780),w.call(s,g,260),tt.call(s,et,u),w.call(s,ut,-520),w.call(s,nt,260),l.call(s,nt,100),w.call(s,d,260),l.call(s,d,100)},0),y.range("all",{minX:0,maxX:360,minY:0,maxY:100}),v.range("rangeY",{minY:0,maxY:100}),t.val("ahex")==null)break;y.val("xy",{x:t.val("h"),y:100-t.val("s")},y),v.val("y",100-t.val("v"),v);break;case"r":if(r=-1040,i=-780,y.range("all",{minX:0,maxX:255,minY:0,maxY:255}),v.range("rangeY",{minY:0,maxY:255}),t.val("ahex")==null)break;y.val("xy",{x:t.val("b"),y:255-t.val("g")},y),v.val("y",255-t.val("r"),v);break;case"g":if(r=-1560,i=-1820,y.range("all",{minX:0,maxX:255,minY:0,maxY:255}),v.range("rangeY",{minY:0,maxY:255}),t.val("ahex")==null)break;y.val("xy",{x:t.val("b"),y:255-t.val("r")},y),v.val("y",255-t.val("g"),v);break;case"b":if(r=-2080,i=-2860,y.range("all",{minX:0,maxX:255,minY:0,maxY:255}),v.range("rangeY",{minY:0,maxY:255}),t.val("ahex")==null)break;y.val("xy",{x:t.val("r"),y:255-t.val("g")},y),v.val("y",255-t.val("b"),v);break;case"a":if(setTimeout(function(){tt.call(s,ft,"transparent"),w.call(s,it,-260),w.call(s,g,-520),w.call(s,ut,260),w.call(s,nt,260),l.call(s,nt,100),w.call(s,d,0),l.call(s,d,100)},0),y.range("all",{minX:0,maxX:360,minY:0,maxY:100}),v.range("rangeY",{minY:0,maxY:255}),t.val("ahex")==null)break;y.val("xy",{x:t.val("h"),y:100-t.val("v")},y),v.val("y",255-t.val("a"),v);break;default:throw"Invalid Mode";}switch(n){case"s":case"v":case"a":setTimeout(function(){l.call(s,it,100),l.call(s,ut,100),w.call(s,ot,260),l.call(s,ot,100),w.call(s,st,260),l.call(s,st,100)},0);break;case"r":case"g":case"b":setTimeout(function(){tt.call(s,ft,"transparent"),tt.call(s,et,"transparent"),l.call(s,ut,100),l.call(s,it,100),w.call(s,it,r),w.call(s,g,r-260),w.call(s,ut,i-780),w.call(s,nt,i-520),w.call(s,ot,i),w.call(s,st,i-260),w.call(s,d,260),l.call(s,d,100)},0)}t.val("ahex")!=null&&gi.call(s,t)},gi=function(n,t){(t==null||t!=v&&t!=y)&&cr.call(s,n,t),setTimeout(function(){or.call(s,n),rr.call(s,n),er.call(s,n)},0)},sr=function(n,t){var r=b.active,i;if(t==y||r.val()!=null){i=n.val("all");switch(c.color.mode){case"h":r.val("sv",{s:i.x,v:100-i.y},t);break;case"s":case"a":r.val("hv",{h:i.x,v:100-i.y},t);break;case"v":r.val("hs",{h:i.x,s:100-i.y},t);break;case"r":r.val("gb",{g:255-i.y,b:i.x},t);break;case"g":r.val("rb",{r:255-i.y,b:i.x},t);break;case"b":r.val("rg",{r:i.x,g:255-i.y},t)}}},lr=function(n,t){var i=b.active;if(t==v||i.val()!=null)switch(c.color.mode){case"h":i.val("h",{h:360-n.val("y")},t);break;case"s":i.val("s",{s:100-n.val("y")},t);break;case"v":i.val("v",{v:100-n.val("y")},t);break;case"r":i.val("r",{r:255-n.val("y")},t);break;case"g":i.val("g",{g:255-n.val("y")},t);break;case"b":i.val("b",{b:255-n.val("y")},t);break;case"a":i.val("a",255-n.val("y"),t)}},cr=function(n,t){var f,e,o,i,r,u,l,h,s;if(t!=y)switch(c.color.mode){case"h":f=n.val("sv"),y.val("xy",{x:f!=null?f.s:100,y:100-(f!=null?f.v:100)},t);break;case"s":case"a":e=n.val("hv"),y.val("xy",{x:e&&e.h||0,y:100-(e!=null?e.v:100)},t);break;case"v":o=n.val("hs"),y.val("xy",{x:o&&o.h||0,y:100-(o!=null?o.s:100)},t);break;case"r":i=n.val("bg"),y.val("xy",{x:i&&i.b||0,y:255-(i&&i.g||0)},t);break;case"g":r=n.val("br"),y.val("xy",{x:r&&r.b||0,y:255-(r&&r.r||0)},t);break;case"b":u=n.val("rg"),y.val("xy",{x:u&&u.r||0,y:255-(u&&u.g||0)},t)}if(t!=v)switch(c.color.mode){case"h":v.val("y",360-(n.val("h")||0),t);break;case"s":l=n.val("s"),v.val("y",100-(l!=null?l:100),t);break;case"v":h=n.val("v"),v.val("y",100-(h!=null?h:100),t);break;case"r":v.val("y",255-(n.val("r")||0),t);break;case"g":v.val("y",255-(n.val("g")||0),t);break;case"b":v.val("y",255-(n.val("b")||0),t);break;case"a":s=n.val("a"),v.val("y",255-(s!=null?s:255),t)}},or=function(n){try{var t=n.val("all");dt.css({backgroundColor:t&&"#"+t.hex||"transparent"}),l.call(s,dt,t&&Math.precision(t.a*100/255,4)||0)}catch(i){}},rr=function(n){var i,t,u;switch(c.color.mode){case"h":tt.call(s,ft,new r({h:n.val("h")||0,s:100,v:100}).val("hex"));break;case"s":case"a":i=n.val("s"),l.call(s,g,100-(i!=null?i:100));break;case"v":t=n.val("v"),l.call(s,it,t!=null?t:100);break;case"r":l.call(s,g,Math.precision((n.val("r")||0)/255*100,4));break;case"g":l.call(s,g,Math.precision((n.val("g")||0)/255*100,4));break;case"b":l.call(s,g,Math.precision((n.val("b")||0)/255*100))}u=n.val("a"),l.call(s,yt,Math.precision((255-(u||0))*100/255,4))},er=function(n){var f,v,e,a,h,o;switch(c.color.mode){case"h":o=n.val("a"),l.call(s,ht,Math.precision((255-(o||0))*100/255,4));break;case"s":f=n.val("hva"),v=new r({h:f&&f.h||0,s:100,v:f!=null?f.v:100}),tt.call(s,et,v.val("hex")),l.call(s,nt,100-(f!=null?f.v:100)),l.call(s,ht,Math.precision((255-(f&&f.a||0))*100/255,4));break;case"v":e=n.val("hsa"),a=new r({h:e&&e.h||0,s:e!=null?e.s:100,v:100}),tt.call(s,et,a.val("hex")),l.call(s,ht,Math.precision((255-(e&&e.a||0))*100/255,4));break;case"r":case"g":case"b":var u=0,i=0,t=n.val("rgba");c.color.mode=="r"?(u=t&&t.b||0,i=t&&t.g||0):c.color.mode=="g"?(u=t&&t.b||0,i=t&&t.r||0):c.color.mode=="b"&&(u=t&&t.r||0,i=t&&t.g||0),h=i>u?u:i,l.call(s,nt,u>i?Math.precision((u-i)/(255-i)*100,4):0),l.call(s,ot,i>u?Math.precision((i-u)/(255-u)*100,4):0),l.call(s,st,Math.precision(h/255*100,4)),l.call(s,ht,Math.precision((255-(t&&t.a||0))*100/255,4));break;case"a":o=n.val("a"),tt.call(s,et,n.val("hex")||"000000"),l.call(s,ht,o!=null?0:100),l.call(s,d,o!=null?100:0)}},tt=function(n,t){n.css({backgroundColor:t&&t.length==6&&"#"+t||"transparent"})},rt=function(n,t){ti&&(t.indexOf("AlphaBar.png")!=-1||t.indexOf("Bars.png")!=-1||t.indexOf("Maps.png")!=-1)?(n.attr("pngSrc",t),n.css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"})):n.css({backgroundImage:"url('"+t+"')"})},w=function(n,t){n.css({top:t+"px"})},l=function(n,t){var i;n.css({visibility:t>0?"visible":"hidden"}),t>0&&t<100?ti?(i=n.attr("pngSrc"),i!=null&&(i.indexOf("AlphaBar.png")!=-1||i.indexOf("Bars.png")!=-1||i.indexOf("Maps.png")!=-1)?n.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")"}):n.css({opacity:Math.precision(t/100,4)})):n.css({opacity:Math.precision(t/100,4)}):(t==0||t==100)&&(ti?(i=n.attr("pngSrc"),i!=null&&(i.indexOf("AlphaBar.png")!=-1||i.indexOf("Bars.png")!=-1||i.indexOf("Maps.png")!=-1)?n.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='scale')"}):n.css({opacity:""})):n.css({opacity:""}))},di=function(){b.active.val("ahex",b.current.val("ahex"))},hr=function(){b.current.val("ahex",b.active.val("ahex"))},ri=function(t){n(this).parents("tbody:first").find('input:radio[value!="'+t.target.value+'"]').removeAttr("checked"),ki.call(s,t.target.value)},ui=function(){di.call(s)},fi=function(){di.call(s),c.window.expandable&&gt.call(s),n.isFunction(kt)&&kt.call(s,b.active,wt)},hi=function(){hr.call(s),c.window.expandable&&gt.call(s),n.isFunction(pt)&&pt.call(s,b.active,bt)},ci=function(){ii.call(s)},ur=function(n){var i=n.val("hex");ct.css({backgroundColor:i&&"#"+i||"transparent"}),l.call(s,ct,Math.precision((n.val("a")||0)*100/255,4))},fr=function(n){var r=n.val("hex"),i=n.val("va");wi.css({backgroundColor:r&&"#"+r||"transparent"}),l.call(s,vt,Math.precision((255-(i&&i.a||0))*100/255,4)),c.window.bindToInput&&c.window.updateInputColor&&c.window.input.css({backgroundColor:r&&"#"+r||"transparent",color:i==null||i.v>75?"#000000":"#ffffff"})},li=function(t){var r=c.window.element,i=c.window.page;nr=parseInt(a.css("left")),bi=parseInt(a.css("top")),ai=t.pageX,yi=t.pageY,n(document).bind("mousemove",ei).bind("mouseup",oi),t.preventDefault()},ei=function(t){return a.css({left:nr-(ai-t.pageX)+"px",top:bi-(yi-t.pageY)+"px"}),c.window.expandable&&!n.support.boxModel&&a.prev().css({left:a.css("left"),top:a.css("top")}),t.stopPropagation(),t.preventDefault(),!1},oi=function(t){return n(document).unbind("mousemove",ei).unbind("mouseup",oi),t.stopPropagation(),t.preventDefault(),!1},si=function(t){return t.preventDefault(),t.stopPropagation(),b.active.val("ahex",n(this).attr("title")||null,t.target),!1},pt=n.isFunction(o[1])&&o[1]||null,at=n.isFunction(o[2])&&o[2]||null,kt=n.isFunction(o[3])&&o[3]||null,ii=function(){b.current.val("ahex",b.active.val("ahex"));var t=function(){if(c.window.expandable&&!n.support.boxModel){var t=a.find("table:first");a.before("<iframe/>"),a.prev().css({width:t.width(),height:a.height(),opacity:0,position:"absolute",left:a.css("left"),top:a.css("top")})}};c.window.expandable&&(n(document.body).children("div.jPicker.Container").css({zIndex:10}),a.css({zIndex:20}));switch(c.window.effects.type){case"fade":a.fadeIn(c.window.effects.speed.show,t);break;case"slide":a.slideDown(c.window.effects.speed.show,t);break;case"show":default:a.show(c.window.effects.speed.show,t)}},gt=function(){var t=function(){(c.window.expandable&&a.css({zIndex:10}),c.window.expandable&&!n.support.boxModel)&&a.prev().remove()};switch(c.window.effects.type){case"fade":a.fadeOut(c.window.effects.speed.hide,t);break;case"slide":a.slideUp(c.window.effects.speed.hide,t);break;case"show":default:a.hide(c.window.effects.speed.hide,t)}},ir=function(){var t=c.window,f=t.expandable?n(s).next().find(".Container:first"):null,u,oi,o,ti,tt,yi,kt,pt,gt;a=t.expandable?n("<div/>"):n(s),a.addClass("jPicker Container"),t.expandable&&a.hide(),a.get(0).onselectstart=function(n){if(n.target.nodeName.toLowerCase()!=="input")return!1},u=b.active.val("all"),t.alphaPrecision<0?t.alphaPrecision=0:t.alphaPrecision>2&&(t.alphaPrecision=2),oi='<table class="jPicker" cellpadding="0" cellspacing="0"><tbody>'+(t.expandable?'<tr><td class="Move" colspan="5">&nbsp;</td></tr>':"")+'<tr><td rowspan="9"><h2 class="Title">'+(t.title||k.text.title)+'</h2><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><img src="'+p.clientPath+p.colorMap.arrow.file+'" class="Arrow"/></div></td><td rowspan="9"><div class="Bar"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><img src="'+p.clientPath+p.colorBar.arrow.file+'" class="Arrow"/></div></td><td colspan="2" class="Preview">'+k.text.newColor+'<div><span class="Active" title="'+k.tooltips.colors.newColor+'">&nbsp;</span><span class="Current" title="'+k.tooltips.colors.currentColor+'">&nbsp;</span></div>'+k.text.currentColor+'</td><td rowspan="9" class="Button"><input type="button" class="Ok" value="'+k.text.ok+'" title="'+k.tooltips.buttons.ok+'"/><input type="button" class="Cancel" value="'+k.text.cancel+'" title="'+k.tooltips.buttons.cancel+'"/><hr/><div class="Grid">&nbsp;</div></td></tr><tr class="Hue"><td class="Radio"><label title="'+k.tooltips.hue.radio+'"><input type="radio" value="h"'+(c.color.mode=="h"?' checked="checked"':"")+'/>H:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.h:"")+'" title="'+k.tooltips.hue.textbox+'"/>&nbsp;&deg;</td></tr><tr class="Saturation"><td class="Radio"><label title="'+k.tooltips.saturation.radio+'"><input type="radio" value="s"'+(c.color.mode=="s"?' checked="checked"':"")+'/>S:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.s:"")+'" title="'+k.tooltips.saturation.textbox+'"/>&nbsp;%</td></tr><tr class="Value"><td class="Radio"><label title="'+k.tooltips.value.radio+'"><input type="radio" value="v"'+(c.color.mode=="v"?' checked="checked"':"")+'/>V:</label><br/><br/></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.v:"")+'" title="'+k.tooltips.value.textbox+'"/>&nbsp;%<br/><br/></td></tr><tr class="Red"><td class="Radio"><label title="'+k.tooltips.red.radio+'"><input type="radio" value="r"'+(c.color.mode=="r"?' checked="checked"':"")+'/>R:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.r:"")+'" title="'+k.tooltips.red.textbox+'"/></td></tr><tr class="Green"><td class="Radio"><label title="'+k.tooltips.green.radio+'"><input type="radio" value="g"'+(c.color.mode=="g"?' checked="checked"':"")+'/>G:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.g:"")+'" title="'+k.tooltips.green.textbox+'"/></td></tr><tr class="Blue"><td class="Radio"><label title="'+k.tooltips.blue.radio+'"><input type="radio" value="b"'+(c.color.mode=="b"?' checked="checked"':"")+'/>B:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(u!=null?u.b:"")+'" title="'+k.tooltips.blue.textbox+'"/></td></tr><tr class="Alpha"><td class="Radio">'+(t.alphaSupport?'<label title="'+k.tooltips.alpha.radio+'"><input type="radio" value="a"'+(c.color.mode=="a"?' checked="checked"':"")+"/>A:</label>":"&nbsp;")+'</td><td class="Text">'+(t.alphaSupport?'<input type="text" maxlength="'+(3+t.alphaPrecision)+'" value="'+(u!=null?Math.precision(u.a*100/255,t.alphaPrecision):"")+'" title="'+k.tooltips.alpha.textbox+'"/>&nbsp;%':"&nbsp;")+'</td></tr><tr class="Hex"><td colspan="2" class="Text"><label title="'+k.tooltips.hex.textbox+'">#:<input type="text" maxlength="6" class="Hex" value="'+(u!=null?u.hex:"")+'"/></label>'+(t.alphaSupport?'<input type="text" maxlength="2" class="AHex" value="'+(u!=null?u.ahex.substring(6):"")+'" title="'+k.tooltips.hex.alpha+'"/></td>':"&nbsp;")+"</tr></tbody></table>",t.expandable?(a.html(oi),n(document.body).children("div.jPicker.Container").length==0?n(document.body).prepend(a):n(document.body).children("div.jPicker.Container:last").after(a),a.mousedown(function(){n(document.body).children("div.jPicker.Container").css({zIndex:10}),a.css({zIndex:20})}),a.css({left:t.position.x=="left"?f.offset().left-530-(t.position.y=="center"?25:0)+"px":t.position.x=="center"?f.offset().left-260+"px":t.position.x=="right"?f.offset().left-10+(t.position.y=="center"?25:0)+"px":t.position.x=="screenCenter"?(n(document).width()>>1)-260+"px":f.offset().left+parseInt(t.position.x)+"px",position:"absolute",top:t.position.y=="top"?f.offset().top-312+"px":t.position.y=="center"?f.offset().top-156+"px":t.position.y=="bottom"?f.offset().top+25+"px":f.offset().top+parseInt(t.position.y)+"px"})):(a=n(s),a.html(oi)),o=a.find("tbody:first"),ft=o.find("div.Map:first"),et=o.find("div.Bar:first"),ti=ft.find("span"),tt=et.find("span"),it=ti.filter(".Map1:first"),g=ti.filter(".Map2:first"),yt=ti.filter(".Map3:first"),ut=tt.filter(".Map1:first"),nt=tt.filter(".Map2:first"),ot=tt.filter(".Map3:first"),st=tt.filter(".Map4:first"),ht=tt.filter(".Map5:first"),d=tt.filter(".Map6:first"),y=new e(ft,{map:{width:p.colorMap.width,height:p.colorMap.height},arrow:{image:p.clientPath+p.colorMap.arrow.file,width:p.colorMap.arrow.width,height:p.colorMap.arrow.height}}),y.bind(sr),v=new e(et,{map:{width:p.colorBar.width,height:p.colorBar.height},arrow:{image:p.clientPath+p.colorBar.arrow.file,width:p.colorBar.arrow.width,height:p.colorBar.arrow.height}}),v.bind(lr),ni=new h(o,b.active,t.expandable&&t.bindToInput?t.input:null,t.alphaPrecision);var w=u!=null?u.hex:null,ai=o.find(".Preview"),ei=o.find(".Button");if(dt=ai.find(".Active:first").css({backgroundColor:w&&"#"+w||"transparent"}),ct=ai.find(".Current:first").css({backgroundColor:w&&"#"+w||"transparent"}).bind("click",ui),l.call(s,ct,Math.precision(b.current.val("a")*100)/255,4),bt=ei.find(".Ok:first").bind("click",hi),wt=ei.find(".Cancel:first").bind("click",fi),lt=ei.find(".Grid:first"),setTimeout(function(){rt.call(s,it,p.clientPath+"Maps.png"),rt.call(s,g,p.clientPath+"Maps.png"),rt.call(s,yt,p.clientPath+"map-opacity.png"),rt.call(s,ut,p.clientPath+"Bars.png"),rt.call(s,nt,p.clientPath+"Bars.png"),rt.call(s,ot,p.clientPath+"Bars.png"),rt.call(s,st,p.clientPath+"Bars.png"),rt.call(s,ht,p.clientPath+"bar-opacity.png"),rt.call(s,d,p.clientPath+"AlphaBar.png"),rt.call(s,ai.find("div:first"),p.clientPath+"preview-opacity.png")},0),o.find("td.Radio input").bind("click",ri),b.quickList&&b.quickList.length>0){for(yi="",i=0;i<b.quickList.length;i++)(typeof b.quickList[i]).toString().toLowerCase()=="string"&&(b.quickList[i]=new r({hex:b.quickList[i]})),kt=b.quickList[i].val("a"),pt=b.quickList[i].val("ahex"),!t.alphaSupport&&pt&&(pt=pt.substring(0,6)+"ff"),gt=b.quickList[i].val("hex"),yi+='<span class="QuickColor"'+(pt&&' title="#'+pt+'"'||"")+' style="background-color:'+(gt&&"#"+gt||"")+";"+(gt?"":"background-image:url("+p.clientPath+"NoColor.png)")+(t.alphaSupport&&kt&&kt<255?";opacity:"+Math.precision(kt/255,4)+";filter:Alpha(opacity="+Math.precision(kt/2.55,4)+")":"")+'">&nbsp;</span>';rt.call(s,lt,p.clientPath+"bar-opacity.png"),lt.html(yi),lt.find(".QuickColor").click(si)}ki.call(s,c.color.mode),b.active.bind(gi),n.isFunction(at)&&b.active.bind(at),b.current.bind(ur),t.expandable?(s.icon=f.parents(".Icon:first"),wi=s.icon.find(".Color:first").css({backgroundColor:w&&"#"+w||"transparent"}),vt=s.icon.find(".Alpha:first"),rt.call(s,vt,p.clientPath+"bar-opacity.png"),l.call(s,vt,Math.precision((255-(u!=null?u.a:0))*100/255,4)),vi=s.icon.find(".Image:first").css({backgroundImage:"url('"+p.clientPath+p.picker.file+"')"}).bind("click",ci),t.bindToInput&&t.updateInputColor&&t.input.css({backgroundColor:w&&"#"+w||"transparent",color:u==null||u.v>75?"#000000":"#ffffff"}),pi=o.find(".Move:first").bind("mousedown",li),b.active.bind(fr)):ii.call(s)},tr=function(){for(a.find("td.Radio input").unbind("click",ri),ct.unbind("click",ui),wt.unbind("click",fi),bt.unbind("click",hi),c.window.expandable&&(vi.unbind("click",ci),pi.unbind("mousedown",li),s.icon=null),a.find(".QuickColor").unbind("click",si),ft=null,et=null,it=null,g=null,yt=null,ut=null,nt=null,ot=null,st=null,ht=null,d=null,y.destroy(),y=null,v.destroy(),v=null,ni.destroy(),ni=null,dt=null,ct=null,bt=null,wt=null,lt=null,pt=null,kt=null,at=null,a.html(""),i=0;i<f.length;i++)f[i]==s&&f.splice(i,1)},p=c.images,k=c.localization,b={active:(typeof c.color.active).toString().toLowerCase()=="string"?new r({ahex:!c.window.alphaSupport&&c.color.active?c.color.active.substring(0,6)+"ff":c.color.active}):new r({ahex:!c.window.alphaSupport&&c.color.active.val("ahex")?c.color.active.val("ahex").substring(0,6)+"ff":c.color.active.val("ahex")}),current:(typeof c.color.active).toString().toLowerCase()=="string"?new r({ahex:!c.window.alphaSupport&&c.color.active?c.color.active.substring(0,6)+"ff":c.color.active}):new r({ahex:!c.window.alphaSupport&&c.color.active.val("ahex")?c.color.active.val("ahex").substring(0,6)+"ff":c.color.active.val("ahex")}),quickList:c.color.quickList};n.extend(!0,s,{commitCallback:pt,liveCallback:at,cancelCallback:kt,color:b,show:ii,hide:gt,destroy:tr}),f.push(s),setTimeout(function(){ir.call(s)},0)})},n.fn.jPicker.defaults={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},expandable:!1,liveUpdate:!0,alphaSupport:!1,alphaPrecision:0,updateInputColor:!0},color:{mode:"h",active:new r({ahex:"#ffcc00ff"}),quickList:[new r({h:360,s:33,v:100}),new r({h:360,s:66,v:100}),new r({h:360,s:100,v:100}),new r({h:360,s:100,v:75}),new r({h:360,s:100,v:50}),new r({h:180,s:0,v:100}),new r({h:30,s:33,v:100}),new r({h:30,s:66,v:100}),new r({h:30,s:100,v:100}),new r({h:30,s:100,v:75}),new r({h:30,s:100,v:50}),new r({h:180,s:0,v:90}),new r({h:60,s:33,v:100}),new r({h:60,s:66,v:100}),new r({h:60,s:100,v:100}),new r({h:60,s:100,v:75}),new r({h:60,s:100,v:50}),new r({h:180,s:0,v:80}),new r({h:90,s:33,v:100}),new r({h:90,s:66,v:100}),new r({h:90,s:100,v:100}),new r({h:90,s:100,v:75}),new r({h:90,s:100,v:50}),new r({h:180,s:0,v:70}),new r({h:120,s:33,v:100}),new r({h:120,s:66,v:100}),new r({h:120,s:100,v:100}),new r({h:120,s:100,v:75}),new r({h:120,s:100,v:50}),new r({h:180,s:0,v:60}),new r({h:150,s:33,v:100}),new r({h:150,s:66,v:100}),new r({h:150,s:100,v:100}),new r({h:150,s:100,v:75}),new r({h:150,s:100,v:50}),new r({h:180,s:0,v:50}),new r({h:180,s:33,v:100}),new r({h:180,s:66,v:100}),new r({h:180,s:100,v:100}),new r({h:180,s:100,v:75}),new r({h:180,s:100,v:50}),new r({h:180,s:0,v:40}),new r({h:210,s:33,v:100}),new r({h:210,s:66,v:100}),new r({h:210,s:100,v:100}),new r({h:210,s:100,v:75}),new r({h:210,s:100,v:50}),new r({h:180,s:0,v:30}),new r({h:240,s:33,v:100}),new r({h:240,s:66,v:100}),new r({h:240,s:100,v:100}),new r({h:240,s:100,v:75}),new r({h:240,s:100,v:50}),new r({h:180,s:0,v:20}),new r({h:270,s:33,v:100}),new r({h:270,s:66,v:100}),new r({h:270,s:100,v:100}),new r({h:270,s:100,v:75}),new r({h:270,s:100,v:50}),new r({h:180,s:0,v:10}),new r({h:300,s:33,v:100}),new r({h:300,s:66,v:100}),new r({h:300,s:100,v:100}),new r({h:300,s:100,v:75}),new r({h:300,s:100,v:50}),new r({h:180,s:0,v:0}),new r({h:330,s:33,v:100}),new r({h:330,s:66,v:100}),new r({h:330,s:100,v:100}),new r({h:330,s:100,v:75}),new r({h:330,s:100,v:50}),new r]},images:{clientPath:"js/plugins/jpicker/images/",colorMap:{width:256,height:256,arrow:{file:"mappoint.gif",width:15,height:15}},colorBar:{width:20,height:256,arrow:{file:"rangearrows.gif",width:20,height:7}},picker:{file:"picker.gif",width:25,height:24}},localization:{text:{title:localize("jpickerTitle"),newColor:localize("jpickerNew"),currentColor:localize("jpickerCurrentColor"),ok:localize("jpickerOk"),cancel:localize("jpickerCancel")},tooltips:{colors:{newColor:localize("jpickerTooltipsNewColor"),currentColor:localize("jpickerTooltipsCurrentColor")},buttons:{ok:localize("jpickerTooltipsOk"),cancel:localize("jpickerTooltipsCancel")},hue:{radio:localize("jpickerTooltipsHueRadio"),textbox:localize("jpickerTooltipsHueTextbox")},saturation:{radio:localize("jpickerTooltipsSaturationRadio"),textbox:localize("jpickerTooltipsSaturationTextbox")},value:{radio:localize("jpickerTooltipsValueRadio"),textbox:localize("jpickerTooltipsValueTextbox")},red:{radio:localize("jpickerTooltipsRedRadio"),textbox:localize("jpickerTooltipsRedTextbox")},green:{radio:localize("jpickerTooltipsGreenRadio"),textbox:localize("jpickerTooltipsGreenTextbox")},blue:{radio:localize("jpickerTooltipsBlueRadio"),textbox:localize("jpickerTooltipsBlueTextbox")},alpha:{radio:localize("jpickerTooltipsAlphaRadio"),textbox:localize("jpickerTooltipsAlphaTextbox")},hex:{textbox:localize("jpickerTooltipsHexRadio"),alpha:localize("jpickerTooltipsHexAlpha")}}}},Advantshop.NamespaceRequire("Advantshop.ScriptsManager"),s=Advantshop.ScriptsManager,o=Advantshop.Utilities,n(function(){var i,t,r;for(s.Jpicker=n.fn.jPicker,i=n('[data-plugin="jpicker"]'),t=0,r=i.length;t<r;t+=1)i.eq(t).jPicker(o.Eval(i.eq(t).attr("data-jpicker-options"))||{})})}(jQuery,"1.1.6"),function(n){var i=Advantshop,o=i.ScriptsManager,s=i.Utilities,u={},h=0,r,e,f=/.*tabid=(.+)/g.exec(window.location.href),t;f=f!=null?"#"+f[1]:null,t=function(t,r){return this.$obj=i.GetJQueryObject(t),this.$headers=n("[data-tabs-header]",this.$obj),this.$contents=n("[data-tabs-content]",this.$obj),this.options=n.extend({},this.defaultOptions,r),this},i.NamespaceRequire("Advantshop.ScriptsManager"),o.Tabs=t,t.prototype.InitTotal=function(){var f,i,p,l,b,o,w,h,v,a,c,y;for(r=n("[data-tabs-hidden]"),e=r.length>0?r.val():null,f=n('[data-plugin="tabs"]'),f.length>0&&t.prototype.BindEventOne(),i=0,p=f.length;i<p;i+=1)t.prototype.Init(f.eq(i),s.Eval(f.eq(i).attr("data-tabs-options"))||{});for(l=n("[data-tabs-links]"),b='<div><a href="#tabid={0}">{1}</a></div>',o=0,w=l.length;o<w;o+=1){h='<div class="tabs-links">';for(v in u)for(c=0,y=u[v].$headers.length;c<y;c+=1)a=u[v].$headers.eq(c),h+=String.Format(b,a.attr("id"),a.text());h+="<div>",l.eq(o).append(h)}},n(t.prototype.InitTotal),t.prototype.Init=function(n,i){var r=new t(n,i),f;return r.GenerateHtml(),r.BindEvent(),r.$obj.attr("id")?f=r.$obj.attr("id"):(f="tabs-"+(h+=1),r.$obj.attr("id",f)),u[f]=r,r},t.prototype.GenerateHtml=function(){var t=this,f,o,u,r,i,e;if(t.$headers.length!=t.$contents.length)throw new Error("Tab's headers count not equals tab's  blocks count");for(f=0,i=0,e=t.$headers.length;i<e;i++)u=t.$contents.eq(i),r=t.$headers.eq(i),o=n.trim(u.html().replace(/<br\s*[\/]?>/gi,"")),(o.length===0||r.hasClass("tab-hidden"))&&(f+=1,u.remove(),r.remove());if(f>0&&(t.$headers=n("[data-tabs-header]",t.$obj),t.$contents=n("[data-tabs-content]",t.$obj)),t.$headers.length===0){t.$obj.remove();return}t.$headers.addClass("tabs-header"),t.$contents.addClass("tabs-content")},t.prototype.BindEvent=function(){var t=this,r=t.$obj,u=e||f||t.$headers.filter(".selected"),i;i=u!=null?r.find(u):t.$headers.eq(0),i.length===0&&(i=t.$headers.eq(0)),t.Show(i);r.on("click",{tabs:t},function(t){var r=n(t.target).closest("[data-tabs-header]"),i=t.data.tabs;r.length>0&&(i.Show(r),i.options.callback&&i.options.callback(i))})},t.prototype.BindEventOne=function(){n(document.body).on("click","a[href^=#tabid]",function(i){var r=t.prototype.ParseId(n(this).attr("href")),o=n(r).closest('[data-plugin="tabs"]'),s=o.length>0?o.attr("id"):null,f,e;s!=null&&(f=u[s],e=n(r),t.prototype.Show.call(f,r),n(document).scrollTop(e.offset().top),i.preventDefault())})},t.prototype.Show=function(t){var u=this,f,e,s=u.options.classSelected,v,l,c,h,o,a;if(typeof t=="number"?(f=u.$headers.eq(t),e=u.$contents.eq(t)):typeof t=="undefined"?(f=u.$headers.eq(0),e=u.$contents.eq(0)):(f=i.GetJQueryObject(t),v=u.$headers.index(f),e=u.$contents.eq(v)),f.length===0)return f;if(u.$headers.removeClass(s),f.addClass(s),u.$contents.removeClass(s).hide(),e.addClass(s).show(),u.showAnchor===!0&&f.attr("id")!=null&&(window.location.hash="#tabid="+f.attr("id"),r.length>0&&r.val(f.attr("id"))),u.showAnchor=!0,l=e.find(".jcarousel:visible:not(.jcarousel-list)"),e.length&&l.length>0&&n(window).load(function(){l.jcarousel({scroll:1})}),window.initValidation!=null){for(c=e.find('input[type="text"],input[type="password"], textarea'),h=!1,o=0,a=c.length;o<a;o+=1)if(c[o].className.indexOf("valid-")!=-1){h=!0;break}h===!0&&initValidation(n("form"))}return u},t.prototype.ParseId=function(n){var t=/.*tabid=(.+)/g.exec(n),i=t?t[1]:null;return"#"+i},t.prototype.showAnchor=!1,t.prototype.defaultOptions={classSelected:"selected",contentPlaceholderLink:null}}(jQuery),function(n){"use strict";var u=n([]),f=14,r=function(t,i){return this.$obj=n(t),this.options=n.extend({},this.defaultOptions,i),this.callers=n('[data-bubble-call="'+this.$obj.attr("id")+'"]'),this.$obj.addClass("bubble-"+this.options.position.replace(" ","-")),u=u.add(this.$obj),document.body.appendChild(this.$obj[0]),this};r.prototype.InitTotal=function(){for(var i=n('[data-plugin="bubble"]'),t=0,u=i.length;t<u;t+=1)r.prototype.Init(i.eq(t),new Function("return "+i.eq(t).attr("data-bubble-options"))()||{})},r.prototype.Init=function(n,t){var i=new r(n,t);i.GenerateHtml(),i.BindEvent(),i.$obj.data("bubble",i)},r.prototype.GenerateHtml=function(){var n=this;n.options.isBackgroundEnabled&&r.prototype.bg==null&&r.prototype.renderBg()},r.prototype.BindEvent=function(){var t=this;if(t.options.eventTypeShow==t.options.eventTypeHide){t.callers.off(t.options.eventTypeShow);t.callers.on(t.options.eventTypeShow,function(){t.$obj.is(":visible")===!0?t.Hide(t.$obj):t.Show(n(this))})}else{t.callers.off(t.options.eventTypeShow);t.callers.on(t.options.eventTypeShow,function(){t.Show(n(this))});t.callers.off(t.options.eventTypeHide);t.callers.on(t.options.eventTypeHide,function(){t.Hide(t.$obj)})}n("body").off("click.Bubble");n("body").on("click.Bubble",function(t){var e=n(t.target),r,i,f;if(e.closest('[data-plugin="bubble"]').length===0&&e.closest("[data-bubble-call]").length===0&&u.filter(":visible").length>0)for(i=0,f=u.length;i<f;i+=1)r=u.eq(i).data("bubble"),r.options.clickOutClose===!0&&r.Hide()})},r.prototype.Show=function(n){var t=this;t.$obj.show(),t.Pos(n),t.options.isBackgroundEnabled===!0&&t.showBg(),t.$obj.trigger("show.bubble",t)},r.prototype.Hide=function(){var n=this;n.$obj.hide(),n.options.isBackgroundEnabled==!0&&r.prototype.hideBg(),n.$obj.trigger("hide.bubble",n)},r.prototype.Pos=function(n){var o=this,e={width:o.$obj.outerWidth(),height:o.$obj.outerHeight()},t=n.offset(),u={width:n.outerWidth(),height:n.outerHeight()},s=o.options.position.split(" "),c=s[0],h=s[1],r,i;switch(c){case"left":r=t.left-e.width-f;break;case"center":r=t.left+(u.width-e.width)/2;break;case"right":r=t.left+u.width+f}switch(h){case"top":i=t.top-e.height-f;break;case"middle":i=t.top+(u.height-e.height)/2;break;case"bottom":i=t.top+u.height+f}o.$obj.css({left:r,top:i})},r.prototype.renderBg=function(){if(r.prototype.bg!=null)return r.prototype.bg;var t=n("<div />",{"class":"js-bubble-bg bubble-bg"});return n(document.body).append(t),r.prototype.bg=t,t},r.prototype.showBg=function(){var n=r.prototype.bg||r.prototype.renderBg();n.addClass("bubble-bg-active")},r.prototype.hideBg=function(){r.prototype.bg!=null&&r.prototype.bg.hasClass("bubble-bg-active")!==!1&&r.prototype.bg.removeClass("bubble-bg-active")},r.prototype.defaultOptions={position:"center bottom",eventTypeShow:"click.Bubble",eventTypeHide:"click.Bubble",isBackgroundEnabled:!0,clickOutClose:!0},n(r.prototype.InitTotal),window.Bubble=r}(jQuery,jQuery(window),jQuery(document)),function(n,t){n(function(){t.on("click.redirect","[data-redirect]",function(){var n=this.getAttribute("data-redirect");window.location.assign(n)})}),window.progressbar=function(t,i,r,u,f,e){r=r||{},e=e||1e3;var o=function(t,r,u,f,e,s){n.ajax({type:"GET",dataType:"json",data:u||{},url:i,cache:!1,async:!1,success:function(n){var i=setTimeout(function(){var h=f(t,n,i);h===!0?clearTimeout(i):h===!1&&o(t,r,u,f,e,s)},s)},error:function(n){if(e!=null)e(n);else throw Error(n.statusText);}})};setTimeout(function(){o(t,i,r,u,f,e)},e)}}(jQuery,$(document.body)),$(function(){$("#modalAdminMessage").length&&(mpAdminMessage=$.advModal({title:localize("AdminMessagesMessage"),htmlContent:$("#modalAdminMessage"),control:$(".modalShowRow"),afterClose:function(){initValidation($("form"))},controlBeforeOpen:function(){getMessage($(this).parent().find(".adminMessageCheckBox").attr("data-amid"))},clickOut:!1,buttons:[{textBtn:localize("Close"),isBtnClose:!0,classBtn:"btn-action"}]}))}),function(n){"use strict";var t=function(){t.doc==null&&(t.doc=n(document)),t.win==null&&(t.win=n(window));var r=t.doc.height(),i=t.win.height()+t.win.scrollTop();return r==i},i=function(t,i,r){var f;if(t.css("top",0),t.length!==0){f=n(window).height(),t.outerHeight()>f&&(t.css("height",f),t.addClass("achievements-help-inside-scroll"));var s=t.offset().top+t.outerHeight(),h=r.offset().top+r.outerHeight(),u=h-s,e=i.outerHeight()-t.outerHeight(),o;return u<0&&(o=u>e?u:e,t.css("top",o)),t}};n(function(){var r=JSON.parse(localStorage.getItem("achievementsHelp"))||{},h=n(".js-achievements-list"),e=h.children(".js-achievements-list-row"),a=n(".tabs-achievements"),w,p,u,f,l,o,s,b,c,y,v;if(h.length!==0){e.on("click.achievementsHelp",function(){var f=n(this),c=f.find(".js-achievements-help-call"),u=f.children(".js-achievements-help-inside-static"),s,o;e.filter(".achievement-active").removeClass("achievement-active"),f.addClass("achievement-active"),i(u,f,h.filter(":visible")),t()===!0&&u.outerHeight()>n(window).height()-58&&(s=u.outerHeight(),o=u.position().top,u.css({height:s-70,top:o+80})),r.visible=!0,r.currentAchievementId=c.attr("data-achievement-help-id"),r.currentLevelId=c.attr("data-achievement-level-id"),r.scrollTop=0,localStorage.setItem("achievementsHelp",JSON.stringify(r))});if(l=e.filter(".achievements-list-complete"),f=e.filter(".achievements-list-progress"),f.length!==0){if(r.ignore=r.ignore||[],r.currentAchievementId>0&&r.ignore.indexOf(r.currentAchievementId)==-1&&f.filter("[data-achievements-id="+r.currentAchievementId+"]").length>0)u=f.filter("[data-achievements-id="+r.currentAchievementId+"]");else{if(l.length===1&&(u=l.first()),u==null)for(s=0,b=f.length;s<b;s++)if(r.ignore.indexOf(f.eq(s).attr("data-achievements-id"))==-1){u=f.eq(s);break}u==null&&(u=f.first(),c=r.ignore.indexOf(u.attr("data-achievements-id")),c!=-1&&r.ignore.splice(c,1))}r.currentAchievementId=u.attr("data-achievements-id"),r.currentLevelId=u.attr("data-achievement-level-id"),r.scrollTop=0,r.visible=!0,localStorage.setItem("achievementsHelp",JSON.stringify(r)),o=u.children(".js-achievements-help-inside-static"),u.addClass("achievement-active"),w=u.closest(".tab-content"),p=a.find(".tab-content").index(w),a.find(".tab-header").eq(p).click(),i(o,u,h.filter(":visible")),u.offset().top>n(window).height()&&n(window).scrollTop(u.offset().top),t()===!0&&o.outerHeight()>n(window).height()-58&&(y=o.outerHeight(),v=o.position().top,o.css({height:y-70,top:v+80}));e.find(".js-achievements-next-step").on("click",function(t){var i,u,f;t.stopPropagation();var s=n(this).closest(e),o=e.index(s),r=e.eq(o+1);r.length>0&&(r.click(),i=r.closest(".tab-content"),i.is(":hidden")===!0&&(f=i.closest(".tabs-contents").children(".tab-content"),u=f.index(i),a.find("[data-tabs-header]").eq(u).click()))})}}})}(jQuery),$(function(){var i,n,t;$(".ddlViewOrderStatus").length&&(i=$(".ddlViewOrderStatus"),$(".ddlViewOrderStatus").change(function(){setOrderStatus(i.val(),i.attr("data-orderid"))})),$(".editableTextBoxInViewOrder").length&&$(".editableTextBoxInViewOrder").focusout(function(){n=$(this),t=new Advantshop.ScriptsManager.Progress.prototype.Init(n),t.Show(),updateOrderField(n.attr("data-orderid"),n.val(),n.attr("data-field-type")),t.Hide()});$(".multiship-create-order").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value")},url:"httphandlers/order/createordermultiship.ashx",success:function(n){n!=null&&n.result!="error"?notify(localize("Admin_ViewOrder_CreateMultishipOrder"),notifyType.notify):notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)}})});$(".send-billing-link").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value")},url:"httphandlers/order/sendbillinglink.ashx",success:function(n){n!=null&&n.result!="error"?notify(localize("Admin_ViewOrder_SendBillingLinkSuccess"),notifyType.notify):notify(localize("Admin_ViewOrder_SendBillingLinkError"),notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_SendBillingLinkError"),notifyType.error)}})});$(".cdek-send-order").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value"),tariff:$(this).attr("data-tariff"),pickpoint:$(this).attr("data-pickpoint")},url:"httphandlers/order/cdeksendorder.ashx",success:function(n){notify(n.result.message,n.result.status?notifyType.notify:notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)}})});$(".cdek-delete-order").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value")},url:"httphandlers/order/cdekdeleteorder.ashx",success:function(n){notify(n.result.message,n.result.status?notifyType.notify:notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)}})});$(".cdek-callcustomer-order").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value")},url:"httphandlers/order/cdekcallcustomer.ashx",success:function(n){notify(n.result.message,n.result.status?notifyType.notify:notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)}})});$(".cdek-callcourier-order").on("click",function(){$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{orderid:$(this).attr("data-value")},url:"httphandlers/order/cdekcallcourier.ashx",success:function(n){notify(n.result.message,n.result.status?notifyType.notify:notifyType.error)},error:function(){notify(localize("Admin_ViewOrder_ErrorCreateMultishipOrder"),notifyType.error)}})})}),$(function(){if($(".ckbActiveModule").length){var n=$(".ckbActiveModule");$(".ckbActiveModule").on("change",function(){setModuleActive($(this).attr("data-modulestringid"),$(this).is(":checked"))})}}),function(n){var t;n(function(){n("#modalCurrentSaasData").length&&(t=n.advModal({title:"Сообщение",htmlContent:n("#modalCurrentSaasData"),control:n(".battery"),afterClose:function(){initValidation(n("form"))},clickOut:!1}));var i=n('[name="gr-chart"]');if(i.length>0)i.on("click",function(){for(var t=0,r=i.length;t<r;t+=1)n(i[t].value).hide();n(this.value).show(),Advantshop.ScriptsManager.Chart.prototype.InitTotal()})})}(jQuery),jQuery.cookie=function(n,t,i){var o,r,f,e,u,s;if(typeof t!="undefined"){i=i||{},t===null&&(t="",i=$.extend({},i),i.expires=-1),o="",i.expires&&(typeof i.expires=="number"||i.expires.toUTCString)&&(typeof i.expires=="number"?(r=new Date,r.setTime(r.getTime()+i.expires*864e5)):r=i.expires,o="; expires="+r.toUTCString());var h=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[n,"=",encodeURIComponent(t),o,h,c,l].join("")}else{if(f=null,document.cookie&&document.cookie!="")for(e=document.cookie.split(";"),u=0;u<e.length;u++)if(s=jQuery.trim(e[u]),s.substring(0,n.length+1)==n+"="){f=decodeURIComponent(s.substring(n.length+1));break}return f}};
/*!
* jquery.qtip. The jQuery tooltip plugin
*
* Copyright (c) 2009 Craig Thompson
* http://craigsworks.com
*
* Licensed under MIT
* http://www.opensource.org/licenses/mit-license.php
*
* Launch  : February 2009
* Version : 1.0.0-rc3
* Released: Tuesday 12th May, 2009 - 00:00
* Debug: jquery.qtip.debug.js
*/
(function(n){function y(i,e,o){var h=this;h.id=o,h.options=e,h.status={animated:!1,rendered:!1,disabled:!1,focused:!1},h.elements={target:i.addClass(h.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null},h.cache={mouse:{},position:{},toggle:0},h.timers={},n.extend(h,h.options.api,{show:function(t){function i(){h.options.position.type!=="static"&&h.focus(),h.onShow.call(h,t),n.browser.msie&&h.elements.tooltip.get(0).style.removeAttribute("filter")}var u,r;if(!h.status.rendered)return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"show");if(h.elements.tooltip.css("display")!=="none"||(h.elements.tooltip.stop(!0,!1),u=h.beforeShow.call(h,t),u===!1))return h;if(h.cache.toggle=1,h.options.position.type!=="static"&&h.updatePosition(t,h.options.show.effect.length>0),typeof h.options.show.solo=="object"?r=n(h.options.show.solo):h.options.show.solo===!0&&(r=n("div.qtip").not(h.elements.tooltip)),r&&r.each(function(){n(this).qtip("api").status.rendered===!0&&n(this).qtip("api").hide()}),typeof h.options.show.effect.type=="function")h.options.show.effect.type.call(h.elements.tooltip,h.options.show.effect.length),h.elements.tooltip.queue(function(){i(),n(this).dequeue()});else{switch(h.options.show.effect.type.toLowerCase()){case"fade":h.elements.tooltip.fadeIn(h.options.show.effect.length,i);break;case"slide":h.elements.tooltip.slideDown(h.options.show.effect.length,function(){i(),h.options.position.type!=="static"&&h.updatePosition(t,!0)});break;case"grow":h.elements.tooltip.show(h.options.show.effect.length,i);break;default:h.elements.tooltip.show(null,i)}h.elements.tooltip.addClass(h.options.style.classes.active)}return n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_SHOWN,"show")},hide:function(t){function i(){h.onHide.call(h,t)}var r;if(h.status.rendered){if(h.elements.tooltip.css("display")==="none")return h}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"hide");if(clearTimeout(h.timers.show),h.elements.tooltip.stop(!0,!1),r=h.beforeHide.call(h,t),r===!1)return h;if(h.cache.toggle=0,typeof h.options.hide.effect.type=="function")h.options.hide.effect.type.call(h.elements.tooltip,h.options.hide.effect.length),h.elements.tooltip.queue(function(){i(),n(this).dequeue()});else{switch(h.options.hide.effect.type.toLowerCase()){case"fade":h.elements.tooltip.fadeOut(h.options.hide.effect.length,i);break;case"slide":h.elements.tooltip.slideUp(h.options.hide.effect.length,i);break;case"grow":h.elements.tooltip.hide(h.options.hide.effect.length,i);break;default:h.elements.tooltip.hide(null,i)}h.elements.tooltip.removeClass(h.options.style.classes.active)}return n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_HIDDEN,"hide")},updatePosition:function(t,i){var o,r,e,f,p,c,u,l,k,d,v,s,y,b;if(h.status.rendered){if(h.options.position.type=="static")return n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.CANNOT_POSITION_STATIC,"updatePosition")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updatePosition");if(r={position:{left:0,top:0},dimensions:{height:0,width:0},corner:h.options.position.corner.target},e={position:h.getPosition(),dimensions:h.getDimensions(),corner:h.options.position.corner.tooltip},h.options.position.target!=="mouse"){if(h.options.position.target.get(0).nodeName.toLowerCase()=="area"){for(f=h.options.position.target.attr("coords").split(","),o=0;o<f.length;o++)f[o]=parseInt(f[o]);p=h.options.position.target.parent("map").attr("name"),c=n('img[usemap="#'+p+'"]:first').offset(),r.position={left:Math.floor(c.left+f[0]),top:Math.floor(c.top+f[1])};switch(h.options.position.target.attr("shape").toLowerCase()){case"rect":r.dimensions={width:Math.ceil(Math.abs(f[2]-f[0])),height:Math.ceil(Math.abs(f[3]-f[1]))};break;case"circle":r.dimensions={width:f[2]+1,height:f[2]+1};break;case"poly":for(r.dimensions={width:f[0],height:f[1]},o=0;o<f.length;o++)o%2==0?(f[o]>r.dimensions.width&&(r.dimensions.width=f[o]),f[o]<f[0]&&(r.position.left=Math.floor(c.left+f[o]))):(f[o]>r.dimensions.height&&(r.dimensions.height=f[o]),f[o]<f[1]&&(r.position.top=Math.floor(c.top+f[o])));r.dimensions.width=r.dimensions.width-(r.position.left-c.left),r.dimensions.height=r.dimensions.height-(r.position.top-c.top);break;default:return n.fn.qtip.log.error.call(h,4,n.fn.qtip.constants.INVALID_AREA_SHAPE,"updatePosition")}r.dimensions.width-=2,r.dimensions.height-=2}else h.options.position.target.add(document.body).length===1?(r.position={left:n(document).scrollLeft(),top:n(document).scrollTop()},r.dimensions={height:n(window).height(),width:n(window).width()}):(r.position=typeof h.options.position.target.attr("qtip")!="undefined"?h.options.position.target.qtip("api").cache.position:h.options.position.target.offset(),r.dimensions={height:h.options.position.target.outerHeight(),width:h.options.position.target.outerWidth()});u=n.extend({},r.position),r.corner.search(/right/i)!==-1&&(u.left+=r.dimensions.width),r.corner.search(/bottom/i)!==-1&&(u.top+=r.dimensions.height),r.corner.search(/((top|bottom)Middle)|center/)!==-1&&(u.left+=r.dimensions.width/2),r.corner.search(/((left|right)Middle)|center/)!==-1&&(u.top+=r.dimensions.height/2)}else r.position=u={left:h.cache.mouse.x,top:h.cache.mouse.y},r.dimensions={height:1,width:1};if(e.corner.search(/right/i)!==-1&&(u.left-=e.dimensions.width),e.corner.search(/bottom/i)!==-1&&(u.top-=e.dimensions.height),e.corner.search(/((top|bottom)Middle)|center/)!==-1&&(u.left-=e.dimensions.width/2),e.corner.search(/((left|right)Middle)|center/)!==-1&&(u.top-=e.dimensions.height/2),l=n.browser.msie?1:0,k=n.browser.msie&&parseInt(n.browser.version.charAt(0))===6?1:0,h.options.style.border.radius>0&&(e.corner.search(/Left/)!==-1?u.left-=h.options.style.border.radius:e.corner.search(/Right/)!==-1&&(u.left+=h.options.style.border.radius),e.corner.search(/Top/)!==-1?u.top-=h.options.style.border.radius:e.corner.search(/Bottom/)!==-1&&(u.top+=h.options.style.border.radius)),l&&(e.corner.search(/top/)!==-1?u.top-=l:e.corner.search(/bottom/)!==-1&&(u.top+=l),e.corner.search(/left/)!==-1?u.left-=l:e.corner.search(/right/)!==-1&&(u.left+=l),e.corner.search(/leftMiddle|rightMiddle/)!==-1&&(u.top-=1)),h.options.position.adjust.screen===!0&&(u=w.call(h,u,r,e)),h.options.position.target==="mouse"&&h.options.position.adjust.mouse===!0&&(v=h.options.position.adjust.screen===!0&&h.elements.tip?h.elements.tip.attr("rel"):h.options.position.corner.tooltip,u.left+=v.search(/right/i)!==-1?-6:6,u.top+=v.search(/bottom/i)!==-1?-6:6),!h.elements.bgiframe&&n.browser.msie&&parseInt(n.browser.version.charAt(0))==6&&n("select, object").each(function(){s=n(this).offset(),s.bottom=s.top+n(this).height(),s.right=s.left+n(this).width(),u.top+e.dimensions.height>=s.top&&u.left+e.dimensions.width>=s.left&&a.call(h)}),u.left+=h.options.position.adjust.x,u.top+=h.options.position.adjust.y,y=h.getPosition(),u.left!=y.left||u.top!=y.top){if(b=h.beforePositionUpdate.call(h,t),b===!1)return h;h.cache.position=u,i===!0?(h.status.animated=!0,h.elements.tooltip.animate(u,200,"swing",function(){h.status.animated=!1})):h.elements.tooltip.css(u),h.onPositionUpdate.call(h,t),typeof t!="undefined"&&t.type&&t.type!=="mousemove"&&n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_POSITION_UPDATED,"updatePosition")}return h},updateWidth:function(t){var i;if(h.status.rendered){if(t&&typeof t!="number")return n.fn.qtip.log.error.call(h,2,"newWidth must be of type number","updateWidth")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateWidth");return i=h.elements.contentWrapper.siblings().add(h.elements.tip).add(h.elements.button),t||(typeof h.options.style.width.value=="number"?t=h.options.style.width.value:(h.elements.tooltip.css({width:"auto"}),i.hide(),n.browser.msie&&h.elements.wrapper.add(h.elements.contentWrapper.children()).css({zoom:"normal"}),t=h.getDimensions().width+1,h.options.style.width.value||(t>h.options.style.width.max&&(t=h.options.style.width.max),t<h.options.style.width.min&&(t=h.options.style.width.min)))),t%2!=0&&(t-=1),h.elements.tooltip.width(t),i.show(),h.options.style.border.radius&&h.elements.tooltip.find(".qtip-betweenCorners").each(function(){n(this).width(t-h.options.style.border.radius*2)}),n.browser.msie&&(h.elements.wrapper.add(h.elements.contentWrapper.children()).css({zoom:"1"}),h.elements.wrapper.width(t),h.elements.bgiframe&&h.elements.bgiframe.width(t).height(h.getDimensions.height)),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_WIDTH_UPDATED,"updateWidth")},updateStyle:function(i){var u,v,e,o,a;if(h.status.rendered){if(typeof i!="string"||!n.fn.qtip.styles[i])return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.STYLE_NOT_DEFINED,"updateStyle")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateStyle");return h.options.style=f.call(h,n.fn.qtip.styles[i],h.options.user.style),h.elements.content.css(t(h.options.style)),h.options.content.title.text!==!1&&h.elements.title.css(t(h.options.style.title,!0)),h.elements.contentWrapper.css({borderColor:h.options.style.border.color}),h.options.style.tip.corner!==!1&&(n("<canvas>").get(0).getContext?(u=h.elements.tooltip.find(".qtip-tip canvas:first"),e=u.get(0).getContext("2d"),e.clearRect(0,0,300,300),o=u.parent("div[rel]:first").attr("rel"),a=r(o,h.options.style.tip.size.width,h.options.style.tip.size.height),l.call(h,u,a,h.options.style.tip.color||h.options.style.border.color)):n.browser.msie&&(u=h.elements.tooltip.find('.qtip-tip [nodeName="shape"]'),u.attr("fillcolor",h.options.style.tip.color||h.options.style.border.color))),h.options.style.border.radius>0&&(h.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:h.options.style.border.color}),n("<canvas>").get(0).getContext?(v=s(h.options.style.border.radius),h.elements.tooltip.find(".qtip-wrapper canvas").each(function(){e=n(this).get(0).getContext("2d"),e.clearRect(0,0,300,300),o=n(this).parent("div[rel]:first").attr("rel"),c.call(h,n(this),v[o],h.options.style.border.radius,h.options.style.border.color)})):n.browser.msie&&h.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){n(this).attr("fillcolor",h.options.style.border.color)})),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_STYLE_UPDATED,"updateStyle")},updateContent:function(t,i){function e(){h.updateWidth(),i!==!1&&(h.options.position.type!=="static"&&h.updatePosition(h.elements.tooltip.is(":visible"),!0),h.options.style.tip.corner!==!1&&u.call(h))}var f,r,o;if(h.status.rendered){if(!t)return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateContent")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateContent");if(f=h.beforeContentUpdate.call(h,t),typeof f=="string")t=f;else if(f===!1)return;return n.browser.msie&&h.elements.contentWrapper.children().css({zoom:"normal"}),t.jquery&&t.length>0?t.clone(!0).appendTo(h.elements.content).show():h.elements.content.html(t),r=h.elements.content.find("img[complete=false]"),r.length>0?(o=0,r.each(function(){n('<img src="'+n(this).attr("src")+'" />').load(function(){++o==r.length&&e()})})):e(),h.onContentUpdate.call(h),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_CONTENT_UPDATED,"loadContent")},loadContent:function(t,i,r){function u(t){h.onContentLoad.call(h),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_CONTENT_LOADED,"loadContent"),h.updateContent(t)}var f;return h.status.rendered?(f=h.beforeContentLoad.call(h),f===!1)?h:(r=="post"?n.post(t,i,u):n.get(t,i,u),h):n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"loadContent")},updateTitle:function(t){if(h.status.rendered){if(!t)return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateTitle")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateTitle");return(returned=h.beforeTitleUpdate.call(h),returned===!1)?h:(h.elements.button&&(h.elements.button=h.elements.button.clone(!0)),h.elements.title.html(t),h.elements.button&&h.elements.title.prepend(h.elements.button),h.onTitleUpdate.call(h),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_TITLE_UPDATED,"updateTitle"))},focus:function(t){var f,r,i,u;if(h.status.rendered){if(h.options.position.type=="static")return n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.CANNOT_FOCUS_STATIC,"focus")}else return n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"focus");if(f=parseInt(h.elements.tooltip.css("z-index")),r=6e3+n("div.qtip[qtip]").length-1,!h.status.focused&&f!==r){if(u=h.beforeFocus.call(h,t),u===!1)return h;n("div.qtip[qtip]").not(h.elements.tooltip).each(function(){n(this).qtip("api").status.rendered===!0&&(i=parseInt(n(this).css("z-index")),typeof i=="number"&&i>-1&&n(this).css({zIndex:parseInt(n(this).css("z-index"))-1}),n(this).qtip("api").status.focused=!1)}),h.elements.tooltip.css({zIndex:r}),h.status.focused=!0,h.onFocus.call(h,t),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_FOCUSED,"focus")}return h},disable:function(t){return h.status.rendered?(t?h.status.disabled?n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,"disable"):(h.status.disabled=!0,n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_DISABLED,"disable")):h.status.disabled?(h.status.disabled=!1,n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_ENABLED,"disable")):n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,"disable"),h):n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"disable")},destroy:function(){var i,r,t;if(r=h.beforeDestroy.call(h),r===!1)return h;if(h.status.rendered?(h.options.show.when.target.unbind("mousemove.qtip",h.updatePosition),h.options.show.when.target.unbind("mouseout.qtip",h.hide),h.options.show.when.target.unbind(h.options.show.when.event+".qtip"),h.options.hide.when.target.unbind(h.options.hide.when.event+".qtip"),h.elements.tooltip.unbind(h.options.hide.when.event+".qtip"),h.elements.tooltip.unbind("mouseover.qtip",h.focus),h.elements.tooltip.remove()):h.options.show.when.target.unbind(h.options.show.when.event+".qtip-create"),typeof h.elements.target.data("qtip")=="object"&&(t=h.elements.target.data("qtip").interfaces,typeof t=="object"&&t.length>0))for(i=0;i<t.length-1;i++)t[i].id==h.id&&t.splice(i,1);return delete n.fn.qtip.interfaces[h.id],typeof t=="object"&&t.length>0?h.elements.target.data("qtip").current=t.length-1:h.elements.target.removeData("qtip"),h.onDestroy.call(h),n.fn.qtip.log.error.call(h,1,n.fn.qtip.constants.EVENT_DESTROYED,"destroy"),h.elements.target},getPosition:function(){var t,i;return h.status.rendered?(t=h.elements.tooltip.css("display")!=="none"?!1:!0,t&&h.elements.tooltip.css({visiblity:"hidden"}).show(),i=h.elements.tooltip.offset(),t&&h.elements.tooltip.css({visiblity:"visible"}).hide(),i):n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition")},getDimensions:function(){var t,i;return h.status.rendered?(t=h.elements.tooltip.is(":visible")?!1:!0,t&&h.elements.tooltip.css({visiblity:"hidden"}).show(),i={height:h.elements.tooltip.outerHeight(),width:h.elements.tooltip.outerWidth()},t&&h.elements.tooltip.css({visiblity:"visible"}).hide(),i):n.fn.qtip.log.error.call(h,2,n.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions")}})}function h(){var i,h,r,o,u,f,s;i=this,i.beforeRender.call(i),i.status.rendered=!0,i.elements.tooltip='<div qtip="'+i.id+'" class="qtip '+(i.options.style.classes.tooltip||i.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+i.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+i.options.style.classes.content+'"></div></div></div></div>',i.elements.tooltip=n(i.elements.tooltip),i.elements.tooltip.appendTo(i.options.position.container),i.elements.tooltip.data("qtip",{current:0,interfaces:[i]}),i.elements.wrapper=i.elements.tooltip.children("div:first"),i.elements.contentWrapper=i.elements.wrapper.children("div:first").css({background:i.options.style.background}),i.elements.content=i.elements.contentWrapper.children("div:first").css(t(i.options.style)),n.browser.msie&&i.elements.wrapper.add(i.elements.content).css({zoom:1}),i.options.hide.when.event=="unfocus"&&i.elements.tooltip.attr("unfocus",!0),typeof i.options.style.width.value=="number"&&i.updateWidth(),n("<canvas>").get(0).getContext||n.browser.msie?(i.options.style.border.radius>0?v.call(i):i.elements.contentWrapper.css({border:i.options.style.border.width+"px solid "+i.options.style.border.color}),i.options.style.tip.corner!==!1&&e.call(i)):(i.elements.contentWrapper.css({border:i.options.style.border.width+"px solid "+i.options.style.border.color}),i.options.style.border.radius=0,i.options.style.tip.corner=!1,n.fn.qtip.log.error.call(i,2,n.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,"render")),typeof i.options.content.text=="string"&&i.options.content.text.length>0||i.options.content.text.jquery&&i.options.content.text.length>0?r=i.options.content.text:typeof i.elements.target.attr("title")=="string"&&i.elements.target.attr("title").length>0?(r=i.elements.target.attr("title").replace("\\n","<br />"),i.elements.target.attr("title","")):typeof i.elements.target.attr("alt")=="string"&&i.elements.target.attr("alt").length>0?(r=i.elements.target.attr("alt").replace("\\n","<br />"),i.elements.target.attr("alt","")):(r=" ",n.fn.qtip.log.error.call(i,1,n.fn.qtip.constants.NO_VALID_CONTENT,"render")),i.options.content.title.text!==!1&&p.call(i),i.updateContent(r),b.call(i),i.options.show.ready===!0&&i.show(),i.options.content.url!==!1&&(o=i.options.content.url,u=i.options.content.data,f=i.options.content.method||"get",i.loadContent(o,u,f)),i.onRender.call(i),n.fn.qtip.log.error.call(i,1,n.fn.qtip.constants.EVENT_RENDERED,"render")}function v(){var i,r,o,t,e,f,u,l,p,h,w,b,a,v,y;i=this,i.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove(),o=i.options.style.border.width,t=i.options.style.border.radius,e=i.options.style.border.color||i.options.style.tip.color,f=s(t),u={};for(r in f)u[r]='<div rel="'+r+'" style="'+(r.search(/Left/)!==-1?"left":"right")+":0; position:absolute; height:"+t+"px; width:"+t+'px; overflow:hidden; line-height:0.1px; font-size:1px">',n("<canvas>").get(0).getContext?u[r]+='<canvas height="'+t+'" width="'+t+'" style="vertical-align: top"></canvas>':n.browser.msie&&(l=t*2+3,u[r]+='<v:arc stroked="false" fillcolor="'+e+'" startangle="'+f[r][0]+'" endangle="'+f[r][1]+'" style="width:'+l+"px; height:"+l+"px; margin-top:"+(r.search(/bottom/)!==-1?-2:-1)+"px; margin-left:"+(r.search(/Right/)!==-1?f[r][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'),u[r]+="</div>";p=i.getDimensions().width-Math.max(o,t)*2,h='<div class="qtip-betweenCorners" style="height:'+t+"px; width:"+p+"px; overflow:hidden; background-color:"+e+'; line-height:0.1px; font-size:1px;">',w='<div class="qtip-borderTop" dir="ltr" style="height:'+t+"px; margin-left:"+t+'px; line-height:0.1px; font-size:1px; padding:0;">'+u.topLeft+u.topRight+h,i.elements.wrapper.prepend(w),b='<div class="qtip-borderBottom" dir="ltr" style="height:'+t+"px; margin-left:"+t+'px; line-height:0.1px; font-size:1px; padding:0;">'+u.bottomLeft+u.bottomRight+h,i.elements.wrapper.append(b),n("<canvas>").get(0).getContext?i.elements.wrapper.find("canvas").each(function(){a=f[n(this).parent("[rel]:first").attr("rel")],c.call(i,n(this),a,t,e)}):n.browser.msie&&i.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>'),v=Math.max(t,t+(o-t)),y=Math.max(o-t,0),i.elements.contentWrapper.css({border:"0px solid "+e,borderWidth:y+"px "+v+"px"})}function c(n,t,i,r){var u=n.get(0).getContext("2d");u.fillStyle=r,u.beginPath(),u.arc(t[0],t[1],i,0,Math.PI*2,!1),u.fill()}function e(t){var i,o,f,s,e;(i=this,i.elements.tip!==null&&i.elements.tip.remove(),o=i.options.style.tip.color||i.options.style.border.color,i.options.style.tip.corner!==!1)&&(t||(t=i.options.style.tip.corner),f=r(t,i.options.style.tip.size.width,i.options.style.tip.size.height),i.elements.tip='<div class="'+i.options.style.classes.tip+'" dir="ltr" rel="'+t+'" style="position:absolute; height:'+i.options.style.tip.size.height+"px; width:"+i.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;">',n("<canvas>").get(0).getContext?i.elements.tip+='<canvas height="'+i.options.style.tip.size.height+'" width="'+i.options.style.tip.size.width+'"></canvas>':n.browser.msie&&(s=i.options.style.tip.size.width+","+i.options.style.tip.size.height,e="m"+f[0][0]+","+f[0][1],e+=" l"+f[1][0]+","+f[1][1],e+=" "+f[2][0]+","+f[2][1],e+=" xe",i.elements.tip+='<v:shape fillcolor="'+o+'" stroked="false" filled="true" path="'+e+'" coordsize="'+s+'" style="width:'+i.options.style.tip.size.width+"px; height:"+i.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+(t.search(/top/)!==-1?"bottom":"top")+'"></v:shape>',i.elements.tip+='<v:image style="behavior:url(#default#VML);"></v:image>',i.elements.contentWrapper.css("position","relative")),i.elements.tooltip.prepend(i.elements.tip+"</div>"),i.elements.tip=i.elements.tooltip.find("."+i.options.style.classes.tip).eq(0),n("<canvas>").get(0).getContext&&l.call(i,i.elements.tip.find("canvas:first"),f,o),t.search(/top/)!==-1&&n.browser.msie&&parseInt(n.browser.version.charAt(0))===6&&i.elements.tip.css({marginTop:-4}),u.call(i,t))}function l(n,t,i){var r=n.get(0).getContext("2d");r.fillStyle=i,r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.fill()}function u(t){var i,r,f,e,u;(i=this,i.options.style.tip.corner!==!1&&i.elements.tip)&&(t||(t=i.elements.tip.attr("rel")),r=positionAdjust=n.browser.msie?1:0,i.elements.tip.css(t.match(/left|right|top|bottom/)[0],0),t.search(/top|bottom/)!==-1?(n.browser.msie&&(positionAdjust=parseInt(n.browser.version.charAt(0))===6?t.search(/top/)!==-1?-3:1:t.search(/top/)!==-1?1:2),t.search(/Middle/)!==-1?i.elements.tip.css({left:"50%",marginLeft:-(i.options.style.tip.size.width/2)}):t.search(/Left/)!==-1?i.elements.tip.css({left:i.options.style.border.radius-r}):t.search(/Right/)!==-1&&i.elements.tip.css({right:i.options.style.border.radius+r}),t.search(/top/)!==-1?i.elements.tip.css({top:-positionAdjust}):i.elements.tip.css({bottom:positionAdjust})):t.search(/left|right/)!==-1&&(n.browser.msie&&(positionAdjust=parseInt(n.browser.version.charAt(0))===6?1:t.search(/left/)!==-1?1:2),t.search(/Middle/)!==-1?i.elements.tip.css({top:"50%",marginTop:-(i.options.style.tip.size.height/2)}):t.search(/Top/)!==-1?i.elements.tip.css({top:i.options.style.border.radius-r}):t.search(/Bottom/)!==-1&&i.elements.tip.css({bottom:i.options.style.border.radius+r}),t.search(/left/)!==-1?i.elements.tip.css({left:-positionAdjust}):i.elements.tip.css({right:positionAdjust})),f="padding-"+t.match(/left|right|top|bottom/)[0],e=i.options.style.tip.size[f.search(/left|right/)!==-1?"width":"height"],i.elements.tooltip.css("padding",0),i.elements.tooltip.css(f,e),n.browser.msie&&parseInt(n.browser.version.charAt(0))==6&&(u=parseInt(i.elements.tip.css("margin-top"))||0,u+=parseInt(i.elements.content.css("margin-top"))||0,i.elements.tip.css({marginTop:u})))}function p(){var i=this;i.elements.title!==null&&i.elements.title.remove(),i.elements.title=n('<div class="'+i.options.style.classes.title+'">').css(t(i.options.style.title,!0)).css({zoom:n.browser.msie?1:0}).prependTo(i.elements.contentWrapper),i.options.content.title.text&&i.updateTitle.call(i,i.options.content.title.text),i.options.content.title.button!==!1&&typeof i.options.content.title.button=="string"&&(i.elements.button=n('<a class="'+i.options.style.classes.button+'" style="float:right; position: relative"></a>').css(t(i.options.style.button,!0)).html(i.options.content.title.button).prependTo(i.elements.title).click(function(n){i.status.disabled||i.hide(n)}))}function b(){function o(r){t.status.disabled!==!0&&(t.options.hide.when.event=="inactive"&&(n(f).each(function(){i.bind(this+".qtip-inactive",u),t.elements.content.bind(this+".qtip-inactive",u)}),u()),clearTimeout(t.timers.show),clearTimeout(t.timers.hide),t.timers.show=setTimeout(function(){t.show(r)},t.options.show.delay))}function e(i){if(t.status.disabled!==!0){if(t.options.hide.fixed===!0&&t.options.hide.when.event.search(/mouse(out|leave)/i)!==-1&&n(i.relatedTarget).parents("div.qtip[qtip]").length>0)return i.stopPropagation(),i.preventDefault(),clearTimeout(t.timers.hide),!1;clearTimeout(t.timers.show),clearTimeout(t.timers.hide),t.elements.tooltip.stop(!0,!0),t.timers.hide=setTimeout(function(){t.hide(i)},t.options.hide.delay)}}var t,r,i,f;if(t=this,r=t.options.show.when.target,i=t.options.hide.when.target,t.options.hide.fixed&&(i=i.add(t.elements.tooltip)),t.options.hide.when.event=="inactive"){f=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"];function u(r){t.status.disabled!==!0&&(clearTimeout(t.timers.inactive),t.timers.inactive=setTimeout(function(){n(f).each(function(){i.unbind(this+".qtip-inactive"),t.elements.content.unbind(this+".qtip-inactive")}),t.hide(r)},t.options.hide.delay))}}else t.options.hide.fixed===!0&&t.elements.tooltip.bind("mouseover.qtip",function(){t.status.disabled!==!0&&clearTimeout(t.timers.hide)});t.options.show.when.target.add(t.options.hide.when.target).length===1&&t.options.show.when.event==t.options.hide.when.event&&t.options.hide.when.event!=="inactive"||t.options.hide.when.event=="unfocus"?(t.cache.toggle=0,r.bind(t.options.show.when.event+".qtip",function(n){t.cache.toggle==0?o(n):e(n)})):(r.bind(t.options.show.when.event+".qtip",o),t.options.hide.when.event!=="inactive"&&i.bind(t.options.hide.when.event+".qtip",e)),t.options.position.type.search(/(fixed|absolute)/)!==-1&&t.elements.tooltip.bind("mouseover.qtip",t.focus),t.options.position.target==="mouse"&&t.options.position.type!=="static"&&r.bind("mousemove.qtip",function(n){t.cache.mouse={x:n.pageX,y:n.pageY},t.status.disabled===!1&&t.options.position.adjust.mouse===!0&&t.options.position.type!=="static"&&t.elements.tooltip.css("display")!=="none"&&t.updatePosition(n)})}function w(t,i,r){var f,u,h,o,s,c;return(f=this,r.corner=="center")?i.position:(u=n.extend({},t),o={x:!1,y:!1},s={left:u.left<n.fn.qtip.cache.screen.scroll.left,right:u.left+r.dimensions.width+2>=n.fn.qtip.cache.screen.width+n.fn.qtip.cache.screen.scroll.left,top:u.top<n.fn.qtip.cache.screen.scroll.top,bottom:u.top+r.dimensions.height+2>=n.fn.qtip.cache.screen.height+n.fn.qtip.cache.screen.scroll.top},h={left:s.left&&(r.corner.search(/right/i)!=-1||r.corner.search(/right/i)==-1&&!s.right),right:s.right&&(r.corner.search(/left/i)!=-1||r.corner.search(/left/i)==-1&&!s.left),top:s.top&&r.corner.search(/top/i)==-1,bottom:s.bottom&&r.corner.search(/bottom/i)==-1},h.left?(u.left=f.options.position.target!=="mouse"?i.position.left+i.dimensions.width:f.cache.mouse.x,o.x="Left"):h.right&&(u.left=f.options.position.target!=="mouse"?i.position.left-r.dimensions.width:f.cache.mouse.x-r.dimensions.width,o.x="Right"),h.top?(u.top=f.options.position.target!=="mouse"?i.position.top+i.dimensions.height:f.cache.mouse.y,o.y="top"):h.bottom&&(u.top=f.options.position.target!=="mouse"?i.position.top-r.dimensions.height:f.cache.mouse.y-r.dimensions.height,o.y="bottom"),u.left<0&&(u.left=t.left,o.x=!1),u.top<0&&(u.top=t.top,o.y=!1),f.options.style.tip.corner!==!1&&(u.corner=new String(r.corner),o.x!==!1&&(u.corner=u.corner.replace(/Left|Right|Middle/,o.x)),o.y!==!1&&(u.corner=u.corner.replace(/top|bottom/,o.y)),u.corner!==f.elements.tip.attr("rel")&&e.call(f,u.corner)),u)}function t(t,i){var u,r;u=n.extend(!0,{},t);for(r in u)i===!0&&r.search(/(tip|classes)/i)!==-1?delete u[r]:i||r.search(/(width|border|tip|title|classes|user)/i)===-1||delete u[r];return u}function o(n){return typeof n.tip!="object"&&(n.tip={corner:n.tip}),typeof n.tip.size!="object"&&(n.tip.size={width:n.tip.size,height:n.tip.size}),typeof n.border!="object"&&(n.border={width:n.border}),typeof n.width!="object"&&(n.width={value:n.width}),typeof n.width.max=="string"&&(n.width.max=parseInt(n.width.max.replace(/([0-9]+)/i,"$1"))),typeof n.width.min=="string"&&(n.width.min=parseInt(n.width.min.replace(/([0-9]+)/i,"$1"))),typeof n.tip.size.x=="number"&&(n.tip.size.width=n.tip.size.x,delete n.tip.size.x),typeof n.tip.size.y=="number"&&(n.tip.size.height=n.tip.size.y,delete n.tip.size.y),n}function f(){var f,r,e,i,t,u;for(f=this,e=[!0,{}],r=0;r<arguments.length;r++)e.push(arguments[r]);for(i=[n.extend.apply(n,e)];typeof i[0].name=="string";)i.unshift(o(n.fn.qtip.styles[i[0].name]));return i.unshift(!0,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},n.fn.qtip.styles.defaults),t=n.extend.apply(n,i),u=n.browser.msie?1:0,t.tip.size.width+=u,t.tip.size.height+=u,t.tip.size.width%2>0&&(t.tip.size.width+=1),t.tip.size.height%2>0&&(t.tip.size.height+=1),t.tip.corner===!0&&(t.tip.corner=f.options.position.corner.tooltip==="center"?!1:f.options.position.corner.tooltip),t}function r(n,t,i){var r={bottomRight:[[0,0],[t,i],[t,0]],bottomLeft:[[0,0],[t,0],[0,i]],topRight:[[0,i],[t,0],[t,i]],topLeft:[[0,0],[0,i],[t,i]],topMiddle:[[0,i],[t/2,0],[t,i]],bottomMiddle:[[0,0],[t,0],[t/2,i]],rightMiddle:[[0,0],[t,i/2],[0,i]],leftMiddle:[[t,0],[t,i],[0,i/2]]};return r.leftTop=r.bottomRight,r.rightTop=r.bottomLeft,r.leftBottom=r.topRight,r.rightBottom=r.topLeft,r[n]}function s(t){var i;return n("<canvas>").get(0).getContext?i={topLeft:[t,t],topRight:[0,t],bottomLeft:[t,0],bottomRight:[0,0]}:n.browser.msie&&(i={topLeft:[-90,90,0],topRight:[-90,90,-t],bottomLeft:[90,270,0],bottomRight:[90,270,-t]}),i}function a(){var n,i,t;n=this,t=n.getDimensions(),i='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+t.height+"px; width:"+t.width+'px" />',n.elements.bgiframe=n.elements.wrapper.prepend(i).children(".qtip-bgiframe:first")}n.fn.qtip=function(t,i){var u,l,e,c,v,s,r,a;if(typeof t=="string"){if(typeof n(this).data("qtip")!="object"&&n.fn.qtip.log.error.call(self,1,n.fn.qtip.constants.NO_TOOLTIP_PRESENT,!1),t=="api")return n(this).data("qtip").interfaces[n(this).data("qtip").current];if(t=="interfaces")return n(this).data("qtip").interfaces}else t||(t={}),(typeof t.content!="object"||t.content.jquery&&t.content.length>0)&&(t.content={text:t.content}),typeof t.content.title!="object"&&(t.content.title={text:t.content.title}),typeof t.position!="object"&&(t.position={corner:t.position}),typeof t.position.corner!="object"&&(t.position.corner={target:t.position.corner,tooltip:t.position.corner}),typeof t.show!="object"&&(t.show={when:t.show}),typeof t.show.when!="object"&&(t.show.when={event:t.show.when}),typeof t.show.effect!="object"&&(t.show.effect={type:t.show.effect}),typeof t.hide!="object"&&(t.hide={when:t.hide}),typeof t.hide.when!="object"&&(t.hide.when={event:t.hide.when}),typeof t.hide.effect!="object"&&(t.hide.effect={type:t.hide.effect}),typeof t.style!="object"&&(t.style={name:t.style}),t.style=o(t.style),c=n.extend(!0,{},n.fn.qtip.defaults,t),c.style=f.call({options:c},c.style),c.user=n.extend(!0,{},t);return n(this).each(function(){if(typeof t=="string"){if(s=t.toLowerCase(),e=n(this).qtip("interfaces"),typeof e=="object")if(i===!0&&s=="destroy")while(e.length>0)e[e.length-1].destroy();else for(i!==!0&&(e=[n(this).qtip("api")]),u=0;u<e.length;u++)s=="destroy"?e[u].destroy():e[u].status.rendered===!0&&(s=="show"?e[u].show():s=="hide"?e[u].hide():s=="focus"?e[u].focus():s=="disable"?e[u].disable(!0):s=="enable"&&e[u].disable(!1))}else{for(r=n.extend(!0,{},c),r.hide.effect.length=c.hide.effect.length,r.show.effect.length=c.show.effect.length,r.position.container===!1&&(r.position.container=n(document.body)),r.position.target===!1&&(r.position.target=n(this)),r.show.when.target===!1&&(r.show.when.target=n(this)),r.hide.when.target===!1&&(r.hide.when.target=n(this)),l=n.fn.qtip.interfaces.length,u=0;u<l;u++)if(typeof n.fn.qtip.interfaces[u]=="undefined"){l=u;break}v=new y(n(this),r,l),n.fn.qtip.interfaces[l]=v,typeof n(this).data("qtip")=="object"?(typeof n(this).attr("qtip")=="undefined"&&(n(this).data("qtip").current=n(this).data("qtip").interfaces.length),n(this).data("qtip").interfaces.push(v)):n(this).data("qtip",{current:0,interfaces:[v]}),r.content.prerender===!1&&r.show.when.event!==!1&&r.show.ready!==!0?r.show.when.target.bind(r.show.when.event+".qtip-"+l+"-create",{qtip:l},function(t){a=n.fn.qtip.interfaces[t.data.qtip],a.options.show.when.target.unbind(a.options.show.when.event+".qtip-"+t.data.qtip+"-create"),a.cache.mouse={x:t.pageX,y:t.pageY},h.call(a),a.options.show.when.target.trigger(a.options.show.when.event)}):(v.cache.mouse={x:r.show.when.target.offset().left,y:r.show.when.target.offset().top},h.call(v))}})},n(document).ready(function(){n.fn.qtip.cache={screen:{scroll:{left:n(window).scrollLeft(),top:n(window).scrollTop()},width:n(window).width(),height:n(window).height()}};var t;n(window).bind("resize scroll",function(r){clearTimeout(t),t=setTimeout(function(){for(r.type==="scroll"?n.fn.qtip.cache.screen.scroll={left:n(window).scrollLeft(),top:n(window).scrollTop()}:(n.fn.qtip.cache.screen.width=n(window).width(),n.fn.qtip.cache.screen.height=n(window).height()),i=0;i<n.fn.qtip.interfaces.length;i++){var t=n.fn.qtip.interfaces[i];if(t.status.rendered===!0&&(t.options.position.type!=="static"||t.options.position.adjust.scroll&&r.type==="scroll"||t.options.position.adjust.resize&&r.type==="resize"))try{t.updatePosition(r,!0)}catch(u){}}},100)}),n(document).bind("mousedown.qtip",function(t){n(t.target).parents("div.qtip").length===0&&n(".qtip[unfocus]").each(function(){var i=n(this).qtip("api");n(this).is(":visible")&&!i.status.disabled&&n(t.target).add(i.elements.target).length>1&&i.hide(t)})})}),n.fn.qtip.interfaces=[],n.fn.qtip.log={error:function(){return this}},n.fn.qtip.constants={},n.fn.qtip.defaults={content:{prerender:!1,text:!1,url:!1,data:null,title:{text:!1,button:!1}},position:{target:!1,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:!0,screen:!1,scroll:!0,resize:!0},type:"absolute",container:!1},show:{when:{target:!1,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:!1,ready:!1},hide:{when:{target:!1,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:!1},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}},n.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:!1,color:!1,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery),function(n){function l(i){t.parent||(t.parent=n('<div id="'+i.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),n.fn.bgiframe&&t.parent.bgiframe(),t.title=n("h3",t.parent),t.body=n("div.body",t.parent),t.url=n("div.url",t.parent))}function i(t){return n.data(t,"tooltip")}function y(t){i(this).delay?f=setTimeout(s,i(this).delay):s(),h=!!i(this).track,n(document.body).bind("mousemove",u),u(t)}function v(){var u,e,f,s;if(!n.tooltip.blocked&&this!=r&&(this.tooltipText||i(this).bodyHandler)){if(r=this,o=this.tooltipText,i(this).bodyHandler)t.title.hide(),u=i(this).bodyHandler.call(this),u.nodeType||u.jquery?t.body.empty().append(u):t.body.html(u),t.body.show();else if(i(this).showBody){for(e=o.split(i(this).showBody),t.title.html(e.shift()).show(),t.body.empty(),f=0;s=e[f];f++)f>0&&t.body.append("<br/>"),t.body.append(s);t.body.hideWhenEmpty()}else t.title.html(o).show(),t.body.hide();i(this).showURL&&n(this).url()?t.url.html(n(this).url().replace("http://","")).show():t.url.hide(),t.parent.addClass(i(this).extraClass),i(this).fixPNG&&t.parent.fixPNG(),y.apply(this,arguments)}}function s(){f=null,e&&n.fn.bgiframe||!i(r).fade?t.parent.show():t.parent.is(":animated")?t.parent.stop().show().fadeTo(i(r).fade,r.tOpacity):t.parent.is(":visible")?t.parent.fadeTo(i(r).fade,r.tOpacity):t.parent.fadeIn(i(r).fade),u()}function u(f){var o,c,l,s,e;if(!n.tooltip.blocked&&(!f||f.target.tagName!="OPTION")){if(!h&&t.parent.is(":visible")&&n(document.body).unbind("mousemove",u),r==null){n(document.body).unbind("mousemove",u);return}t.parent.removeClass("viewport-right").removeClass("viewport-bottom"),o=t.parent[0].offsetLeft,c=t.parent[0].offsetTop,f&&(o=f.pageX+i(r).left,c=f.pageY+i(r).top,l="auto",i(r).positionLeft&&(l=n(window).width()-o,o="auto"),t.parent.css({left:o,right:l,top:c})),s=a(),e=t.parent[0],s.x+s.cx<e.offsetLeft+e.offsetWidth&&(o-=e.offsetWidth+20+i(r).left,t.parent.css({left:o+"px"}).addClass("viewport-right")),s.y+s.cy<e.offsetTop+e.offsetHeight&&(c-=e.offsetHeight+20+i(r).top,t.parent.css({top:c+"px"}).addClass("viewport-bottom"))}}function a(){return{x:n(window).scrollLeft(),y:n(window).scrollTop(),cx:n(window).width(),cy:n(window).height()}}function c(){function s(){t.parent.removeClass(o.extraClass).hide().css("opacity","")}if(!n.tooltip.blocked){f&&clearTimeout(f),r=null;var o=i(this);e&&n.fn.bgiframe||!o.fade?s():t.parent.is(":animated")?t.parent.stop().fadeTo(o.fade,0,s):t.parent.stop().fadeOut(o.fade,s),i(this).fixPNG&&t.parent.unfixPNG()}}var t={},r,o,f,e=n.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),h=!1;n.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){n.tooltip.blocked=!n.tooltip.blocked}},n.fn.extend({tooltip:function(i){return i=n.extend({},n.tooltip.defaults,i),l(i),this.each(function(){n.data(this,"tooltip",i),this.tOpacity=t.parent.css("opacity"),this.tooltipText=this.title,n(this).removeAttr("title"),this.alt=""}).mouseover(v).mouseout(c).click(c)},fixPNG:e?function(){return this.each(function(){var t=n(this).css("backgroundImage");t.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(t=RegExp.$1,n(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+t+"')"}).each(function(){var t=n(this).css("position");t!="absolute"&&t!="relative"&&n(this).css("position","relative")}))})}:function(){return this},unfixPNG:e?function(){return this.each(function(){n(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){n(this)[n(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})}(jQuery),function(n){function tt(){var r=h.scrollLeft(),t=st?ot.clientWidth:h.width();n([i,v]).css("left",r+t/2),g&&n(f).css({left:r,top:h.scrollTop(),width:t,height:h.height()})}function it(t){n("object").add(vt?"select":"embed").each(function(i,r){t&&n.data(r,"slimbox",r.style.visibility),r.style.visibility=t?"hidden":n.data(r,"slimbox")});var i=t?"bind":"unbind";h[i]("scroll resize",tt),n(document)[i]("keydown",pt)}function pt(i){var u=i.keyCode,r=n.inArray;return r(u,t.closeKeys)>=0?ut():r(u,t.nextKeys)>=0?et():r(u,t.previousKeys)>=0?ft():!1}function ft(){return nt(a)}function et(){return nt(l)}function nt(n){return n>=0&&(o=n,b=r[o][0],a=(o||(t.loop?r.length:0))-1,l=(o+1)%r.length||(t.loop?0:-1),rt(),i.className="lbLoading",c=new Image,c.onload=yt,c.src=b),!1}function yt(){i.className="",n(s).css({backgroundImage:"url("+b+")",visibility:"hidden",display:""}),n(k).width(c.width),n([k,w,y]).height(c.height),n(at).html(r[o][1]||""),n(lt).html((r.length>1&&t.counterText||"").replace(/{x}/,o+1).replace(/{y}/,r.length)),a>=0&&(ct.src=r[a][0]),l>=0&&(ht.src=r[l][0]),u=s.offsetWidth,e=s.offsetHeight;var f=Math.max(0,d-e/2);i.offsetHeight!=e&&n(i).animate({height:e,top:f},t.resizeDuration,t.resizeEasing),i.offsetWidth!=u&&n(i).animate({width:u,marginLeft:-u/2},t.resizeDuration,t.resizeEasing),n(i).queue(function(){n(v).css({width:u,top:f+e,marginLeft:-u/2,visibility:"hidden",display:""}),n(s).css({display:"none",visibility:"",opacity:""}).fadeIn(t.imageFadeDuration,wt)})}function wt(){a>=0&&n(w).show(),l>=0&&n(y).show(),n(p).css("marginTop",-p.offsetHeight).animate({marginTop:0},t.captionAnimationDuration),v.style.visibility=""}function rt(){c.onload=null,c.src=ct.src=ht.src=b,n([i,s,p]).stop(!0),n([w,y,s,v]).hide()}function ut(){return o>=0&&(rt(),o=a=l=-1,n(i).hide(),n(f).stop().fadeOut(t.overlayFadeDuration,it)),!1}var h=n(window),t,r,o=-1,b,a,l,g,d,u,e,vt=!window.XMLHttpRequest,st=window.opera&&document.compatMode=="CSS1Compat"&&n.browser.version>=9.3,ot=document.documentElement,c={},ct=new Image,ht=new Image,f,i,s,k,w,y,v,p,at,lt;n(function(){n("body").append(n([f=n('<div id="lbOverlay" />')[0],i=n('<div id="lbCenter" />')[0],v=n('<div id="lbBottomContainer" />')[0]]).css("display","none")),s=n('<div id="lbImage" />').appendTo(i).append(k=n('<div style="position: relative;" />').append([w=n('<a id="lbPrevLink" href="#" />').click(ft)[0],y=n('<a id="lbNextLink" href="#" />').click(et)[0]])[0])[0],p=n('<div id="lbBottom" />').appendTo(v).append([n('<a id="lbCloseLink" href="#" />').add(f).click(ut)[0],at=n('<div id="lbCaption" />')[0],lt=n('<div id="lbNumber" />')[0],n('<div style="clear: both;" />')[0]])[0]}),n.slimbox=function(o,s,c){return t=n.extend({loop:!1,overlayOpacity:.8,overlayFadeDuration:400,resizeDuration:400,resizeEasing:"swing",initialWidth:250,initialHeight:250,imageFadeDuration:400,captionAnimationDuration:400,counterText:"Image {x} of {y}",closeKeys:[27,88,67],previousKeys:[37,80],nextKeys:[39,78]},c),typeof o=="string"&&(o=[[o,s]],s=0),d=h.scrollTop()+(st?ot.clientHeight:h.height())/2,u=t.initialWidth,e=t.initialHeight,n(i).css({top:Math.max(0,d-e/2),width:u,height:e,marginLeft:-u/2}).show(),g=vt||f.currentStyle&&f.currentStyle.position!="fixed",g&&(f.style.position="absolute"),n(f).css("opacity",t.overlayOpacity).fadeIn(t.overlayFadeDuration),tt(),it(1),r=o,t.loop=t.loop&&r.length>1,nt(s)},n.fn.slimbox=function(t,i,r){i=i||function(n){return[n.href,n.title]},r=r||function(){return!0};var u=this;return u.unbind("click").click(function(){for(var h=this,s=0,f=0,e=n.grep(u,function(n,t){return r.call(h,n,t)}),o=e.length;f<o;++f)e[f]==h&&(s=f),e[f]=i(e[f],f);return n.slimbox(e,s,t)})}}(jQuery),jQuery(function(n){n("a[rel^='lightbox']").slimbox({},null,function(n){return this==n||this.rel.length>8&&this.rel==n.rel})}),jQuery.extend({historyCurrentHash:undefined,historyCallback:undefined,historyInit:function(n){var i,r,t;jQuery.historyCallback=n,i=location.hash,jQuery.historyCurrentHash=i,jQuery.browser.msie&&jQuery.browser.version<8?(jQuery.historyCurrentHash==""&&(jQuery.historyCurrentHash="#"),$("body").prepend('<iframe id="jQuery_history" style="display: none;"></iframe>'),r=$("#jQuery_history")[0],t=r.contentWindow.document,t.open(),t.close(),t.location.hash=i):$.browser.safari&&(jQuery.historyBackStack=[],jQuery.historyBackStack.length=history.length,jQuery.historyForwardStack=[],jQuery.isFirst=!0),jQuery.historyCallback(i.replace(/^#/,"")),setInterval(jQuery.historyCheck,100)},historyAddHistory:function(n){jQuery.historyBackStack.push(n),jQuery.historyForwardStack.length=0,this.isFirst=!0},historyCheck:function(){var i,t,r,n;if(jQuery.browser.msie&&jQuery.browser.version<8){var u=$("#jQuery_history")[0],f=u.contentDocument||u.contentWindow.document,n=f.location.hash;n!=jQuery.historyCurrentHash&&(location.hash=n,jQuery.historyCurrentHash=n,jQuery.historyCallback(n.replace(/^#/,"")))}else if($.browser.safari){if(!jQuery.dontCheck)if(i=history.length-jQuery.historyBackStack.length,i){if(jQuery.isFirst=!1,i<0)for(t=0;t<Math.abs(i);t++)jQuery.historyForwardStack.unshift(jQuery.historyBackStack.pop());else for(t=0;t<i;t++)jQuery.historyBackStack.push(jQuery.historyForwardStack.shift());r=jQuery.historyBackStack[jQuery.historyBackStack.length-1],r!=undefined&&(jQuery.historyCurrentHash=location.hash,jQuery.historyCallback(r))}else jQuery.historyBackStack[jQuery.historyBackStack.length-1]!=undefined||jQuery.isFirst||(document.URL.indexOf("#")>=0?jQuery.historyCallback(document.URL.split("#")[1]):(n=location.hash,jQuery.historyCallback("")),jQuery.isFirst=!0)}else n=location.hash,n!=jQuery.historyCurrentHash&&(jQuery.historyCurrentHash=n,jQuery.historyCallback(n.replace(/^#/,"")))},historyLoad:function(n){var t,u,i,r;jQuery.browser.safari?t=n:(t="#"+n,location.hash=t),jQuery.historyCurrentHash=t,jQuery.browser.msie&&jQuery.browser.version<8?(u=$("#jQuery_history")[0],i=u.contentWindow.document,i.open(),i.close(),i.location.hash=t):jQuery.browser.safari&&(jQuery.dontCheck=!0,this.historyAddHistory(n),r=function(){jQuery.dontCheck=!1},window.setTimeout(r,200),location.hash=t)}}),jQuery.extend({fjFunctionQueue:function(n){var i,t;if(n==null)jQuery.fjFunctionQueue.queue!=null&&jQuery.fjFunctionQueue.queue.queue.length>0&&(jQuery.fjFunctionQueue.queue.running?jQuery.fjTimer({interval:jQuery.fjFunctionQueue.queue.properties.interval,tick:function(){var i=jQuery.fjFunctionQueue.queue.queue.shift();try{jQuery.fjFunctionQueue.queue.properties.onTick(jQuery.fjFunctionQueue.queue.index,i);jQuery.fjFunctionQueue.queue.index++}catch(r){jQuery.fjFunctionQueue();throw r;}jQuery.fjFunctionQueue.queue.queue.length>0?jQuery.fjFunctionQueue():(jQuery.fjFunctionQueue.queue.running=!1,jQuery.fjFunctionQueue.queue.index=0,jQuery.fjFunctionQueue.queue.properties.onComplete())}}):(jQuery.fjFunctionQueue.queue.running=!0,jQuery.fjFunctionQueue()));else{if(jQuery.fjFunctionQueue.queue==null&&(jQuery.fjFunctionQueue.queue={index:0,running:!1,queue:[],properties:{interval:1,onComplete:function(){},onStart:function(){},autoStart:!0,onTick:function(n,t){t()}}}),i=jQuery.fjFunctionQueue.queue.queue.length==0,jQuery.isFunction(n))jQuery.fjFunctionQueue.queue.queue.push(n);else if(jQuery.isArray(n))for(t=0;t<n.length;t++)jQuery.fjFunctionQueue.queue.queue.push(n[t]);else jQuery.fjFunctionQueue.queue.properties=jQuery.extend(jQuery.fjFunctionQueue.queue.properties,n);i&&jQuery.fjFunctionQueue.queue.queue.length>0&&!jQuery.fjFunctionQueue.queue.running&&jQuery.fjFunctionQueue.queue.properties.autoStart&&(jQuery.fjFunctionQueue.queue.running=!0,jQuery.fjFunctionQueue.queue.properties.onStart(),jQuery.fjFunctionQueue.queue.running=!1,jQuery.fjFunctionQueue())}},fjTimer:function(n){n=jQuery.extend({interval:10,tick:function(){},repeat:!1,random:!1,onComplete:function(){},step:1},n);var t=0,i=setInterval(function(){try{n.tick(t,i),t+=n.step}catch(r){alert(r)}n.repeat!=!0&&(n.repeat*n.step<=t||n.repeat==!1)&&(clearInterval(i),n.onComplete())},n.interval)},fjTimerEach:function(n){var t=n.array,i=n.tick;n.repeat=t.length,n.step!=null&&(n.repeat=Math.ceil(t.length/parseInt(n.step))),n.tick=function(n){i(n,t[n])},jQuery.fjTimer(n)}}),$(function(){tabInit(),decodeFormData(),$("input.autocompleteRegion").length&&$("input.autocompleteRegion").autocomplete("../HttpHandlers/GetRegions.ashx",{delay:300,minChars:1,matchSubset:1,autoFill:!0,matchContains:1,cacheLength:10,selectFirst:!0,maxItemsToShow:10}),$("input.autocompleteCity").length&&$("input.autocompleteCity").autocomplete("../HttpHandlers/GetCities.ashx",{delay:300,minChars:1,matchSubset:1,autoFill:!0,matchContains:1,cacheLength:10,selectFirst:!0,maxItemsToShow:10}),$(".main-menu > ul > li.main-menu-item").each(function(){var n=!1;$(this).children("ul").children(".m-hide").each(function(){$(this).children("ul").children(".m-item").length>0&&($(this).removeClass("m-hide"),n=!0)}),n||(n=$(this).children("ul").children(".m-item").length>0),n&&$(this).hasClass("m-hide")&&$(this).removeClass("m-hide")});$(document).on("keydown.pagenumber",function(n){n.ctrlKey===!0&&n.keyCode===37?$("#paging-prev").length&&(document.location=$("#paging-prev").attr("href")):n.ctrlKey===!0&&n.keyCode===39&&$("#paging-next").length&&(document.location=$("#paging-next").attr("href"))});$(".tpl-save-btn").click(function(){var n=[];$(".tpl-settings-control").each(function(){var t=$(this).children();t.is("input[type='checkbox']")?n.push(t.attr("id")+"~"+(t.is(":checked")?"True":"False")):n.push(t.attr("id")+"~"+t.val())}),$.ajax({dataType:"json",traditional:!0,cache:!1,type:"POST",async:!1,data:{settings:n},url:"httphandlers/settings/savetemplatesettings.ashx",success:function(n){$(".tpl-settings-result").html(n.result)},error:function(n){$(".tpl-settings-result").html(n.result),this.location=this.location}})});$(".lnk-del-order").on("click",function(n){var t=confirm($(this).attr("data-message"));t===!1&&n.preventDefault(),n.stopPropagation()});var n=$(".dp");if(n.length>0){datepickersInputs=n.find('[type="text"]'),datepickersInputs.datepicker();datepickersInputs.on("changeDate",function(){$(this).datepicker("hide")});$(".icon-calendar").on("click",function(){var n=$(this).prev('[type="text"]');n.datepicker("show")})}$("body").on("click",".change-group-lnk",function(n){$(".btn-change-group").click(),$("#SelectedIds").val(""),n.stopPropagation()});$("body").on("change","#change-group-modal select",function(){$(".hfgroupId").val($(this).val())});$("body").on("click",".expander-lnk",function(){if($(this).hasClass("expanded")){$(this).text(localize("Expande")),$(this).removeClass("expanded");var n=$(this).parent().children(".propval-item");n.length>10&&n.slice(10).addClass("propval-hidden")}else $(this).text(localize("Collapse")),$(this).addClass("expanded"),$(this).parent().children(".propval-item").removeClass("propval-hidden")});$("body").on("click",".valid-confirm",function(n){var t=$(this).attr("data-confirm");return t==null&&(t=localize("Admin_QDelete")),confirm(t)?void 0:(n.preventDefault(),!1)})}),__OriginalTxtValues=[],__OriginalCheckBoxValues=[],function(n){var i=Advantshop,e=i.ScriptsManager,u=i.Utilities,r={},f=0,t=function(t,r,u){if(this.$obj=i.GetJQueryObject(t),this.text=r,this.text==null||this.text.length==0)throw Error('undefined "data-tooltip-text" for tooltip');return this.options=n.extend({},this.defaultOptions,u),this};i.NamespaceRequire("Advantshop.ScriptsManager"),e.Tooltip=t,t.prototype.InitTotal=function(){for(var r=n('[data-plugin ="tooltip"]'),i=0,f=r.length;i<f;i+=1)t.prototype.Init(r.eq(i),r.eq(i).attr("data-tooltip-text"),u.Eval(r.eq(i).attr("data-tooltip-options"))||{})},n(t.prototype.InitTotal),t.prototype.Init=function(n,i,r){var u=new t(n,i,r);return u.GenerateHtml(),u.BindEvent(),u},t.prototype.GenerateHtml=function(){var r=this,i=t.prototype.tpl.clone();return i.html(r.text),n("body").append(i),r.tooltip=i,r},t.prototype.BindEvent=function(){var n=this,t,i;n.$obj.on(n.options.eventShow,function(){t!=null&&clearTimeout(t),t=setTimeout(function(){n.Show.call(n)},n.options.delay)});n.$obj.on(n.options.eventHide,function(){t!=null&&clearTimeout(t),t=setTimeout(function(){n.Hide.call(n)},n.options.delay)});if(n.options.isTooltipHover===!0){n.tooltip.on("mouseenter",function(){t!=null&&clearTimeout(t)});n.tooltip.on("mouseleave",function(){t!=null&&clearTimeout(t),t=setTimeout(function(){n.Hide.call(n)},n.options.delay)})}return i=f++,n.$obj.attr("data-tooltip-id",i),r[i]=n,n},t.prototype.Show=function(){var n=this,t=n.Get(),r=n.$obj.offset(),i={width:n.$obj.outerWidth(),height:n.$obj.outerHeight()},f=r.top+i.height,u=r.left-(t.outerWidth()-i.width)/2;t.css({top:f,left:u}),t.removeClass("tooltip-adv-hide").stop(!0,!0)[n.options.effectShow](n.options.effectSpeed)},t.prototype.Hide=function(){var t=this,n;n=t.Get(),n.stop(!0,!0)[t.options.effectHide](t.options.effectSpeed,function(){n.addClass("tooltip-adv-hide").removeAttr("style").show()})},t.prototype.Get=function(){var i=this,n=i.$obj.attr("data-tooltip-id"),t;return t=n==null||n.length===0||r[n]==null?i.GenerateHtml().tooltip:r[n].tooltip},t.prototype.tpl=n("<div />",{"class":"tooltip-adv tooltip-adv-hide"}),t.prototype.defaultOptions={eventShow:"mouseenter",eventHide:"mouseleave",effectShow:"fadeIn",effectHide:"fadeOut",effectSpeed:100,isTooltipHover:!1,delay:400}}(jQuery),function(n){var i=Advantshop,r=i.ScriptsManager,f=!!("placeholder"in document.createElement("input")),u=0,t;i.NamespaceRequire("Advantshop.ScriptsManager"),t=function(t,r){return this.$obj=i.GetJQueryObject(t),this.placeholderText=this.$obj.attr("placeholder"),this.options=n.extend({},this.defaultOptions,r),this},r.Placeholder=t,t.prototype.Init=function(n,i){var r=new t(n,i);return r.GenerateHtml(),r.BindEvent(),r},n(function(){f!=!0&&n("[placeholder]").each(function(){t.prototype.Init(this,this.getAttribute("data-placeholder-options")||{})})}),t.prototype.GenerateHtml=function(){var t=this,i=t.$obj,r=i.position(),n=i.clone();n.attr("id","placeholder-"+(u+=1)),n.is(":password")===!0&&n.attr("type","text"),n.addClass(t.options.cssClass),n.css({top:r.top,left:r.left}),n.val(t.placeholderText),i.after(n),t.$objClone=n,t.Show()},t.prototype.BindEvent=function(){var n=this,t=n.options,r=n.$obj,i=n.$objClone;r.on(t.eventShow,function(){n.Show()});i.on(t.eventHide,function(){n.Hide()})},t.prototype.Hide=function(){var n=this;n.$objClone.hide(),n.$obj.show(),n.$obj.focus()},t.prototype.Show=function(){var n=this;n.$obj.val().length===0?(n.$objClone.show(),n.$obj.hide()):n.$objClone.hide()},t.prototype.defaultOptions={cssClass:"placeholder",eventShow:"blur",eventHide:"click focus"}}(jQuery),function(n){n.color={},n.color.make=function(t,i,r,u){var f={};return f.r=t||0,f.g=i||0,f.b=r||0,f.a=u!=null?u:1,f.add=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]+=t;return f.normalize()},f.scale=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]*=t;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function n(n,t,i){return t<n?n:t>i?i:t}return f.r=n(0,parseInt(f.r),255),f.g=n(0,parseInt(f.g),255),f.b=n(0,parseInt(f.b),255),f.a=n(0,f.a,1),f},f.clone=function(){return n.color.make(f.r,f.b,f.g,f.a)},f.normalize()},n.color.extract=function(t,i){var r;do{if(r=t.css(i).toLowerCase(),r!=""&&r!="transparent")break;t=t.parent()}while(t.length&&!n.nodeName(t.get(0),"body"));return r=="rgba(0, 0, 0, 0)"&&(r="transparent"),n.color.parse(r)},n.color.parse=function(i){var r,u=n.color.make,f;return(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)):(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])):(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55):(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4])):(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))?u(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)):(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))?u(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)):(f=n.trim(i).toLowerCase(),f=="transparent"?u(255,255,255,0):(r=t[f]||[0,0,0],u(r[0],r[1],r[2])))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(n){function t(t,i){var r=i.children("."+t)[0];if(r==null&&(r=document.createElement("canvas"),r.className=t,n(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!r.getContext))if(window.G_vmlCanvasManager)r=window.G_vmlCanvasManager.initElement(r);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=r;var u=this.context=r.getContext("2d"),e=window.devicePixelRatio||1,f=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=e/f,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function u(i,u,f,e){function nt(n,t){t=[l].concat(t);for(var i=0;i<n.length;++i)n[i].apply(this,t)}function ai(){for(var u={Canvas:t},i,r=0;r<e.length;++r)i=e[r],i.init(l,u),i.options&&n.extend(!0,o,i.options)}function li(t){var f;n.extend(!0,o,t),t&&t.colors&&(o.colors=t.colors),o.xaxis.color==null&&(o.xaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString()),o.yaxis.color==null&&(o.yaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString()),o.xaxis.tickColor==null&&(o.xaxis.tickColor=o.grid.tickColor||o.xaxis.color),o.yaxis.tickColor==null&&(o.yaxis.tickColor=o.grid.tickColor||o.yaxis.color),o.grid.borderColor==null&&(o.grid.borderColor=o.grid.color),o.grid.tickColor==null&&(o.grid.tickColor=n.color.parse(o.grid.color).scale("a",.22).toString());for(var r,h=i.css("font-size"),c=h?+h.replace("px",""):13,s={style:i.css("font-style"),size:Math.round(.8*c),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")},e=o.xaxes.length||1,u=0;u<e;++u)r=o.xaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.xaxis,r),o.xaxes[u]=r,r.font&&(r.font=n.extend({},s,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(e=o.yaxes.length||1,u=0;u<e;++u)r=o.yaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.yaxis,r),o.yaxes[u]=r,r.font&&(r.font=n.extend({},s,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(o.xaxis.noTicks&&o.xaxis.ticks==null&&(o.xaxis.ticks=o.xaxis.noTicks),o.yaxis.noTicks&&o.yaxis.ticks==null&&(o.yaxis.ticks=o.yaxis.noTicks),o.x2axis&&(o.xaxes[1]=n.extend(!0,{},o.xaxis,o.x2axis),o.xaxes[1].position="top",o.x2axis.min==null&&(o.xaxes[1].min=null),o.x2axis.max==null&&(o.xaxes[1].max=null)),o.y2axis&&(o.yaxes[1]=n.extend(!0,{},o.yaxis,o.y2axis),o.yaxes[1].position="right",o.y2axis.min==null&&(o.yaxes[1].min=null),o.y2axis.max==null&&(o.yaxes[1].max=null)),o.grid.coloredAreas&&(o.grid.markings=o.grid.coloredAreas),o.grid.coloredAreasColor&&(o.grid.markingsColor=o.grid.coloredAreasColor),o.lines&&n.extend(!0,o.series.lines,o.lines),o.points&&n.extend(!0,o.series.points,o.points),o.bars&&n.extend(!0,o.series.bars,o.bars),o.shadowSize!=null&&(o.series.shadowSize=o.shadowSize),o.highlightColor!=null&&(o.series.highlightColor=o.highlightColor),u=0;u<o.xaxes.length;++u)ft(v,u+1).options=o.xaxes[u];for(u=0;u<o.yaxes.length;++u)ft(b,u+1).options=o.yaxes[u];for(f in p)o.hooks[f]&&o.hooks[f].length&&(p[f]=p[f].concat(o.hooks[f]));nt(p.processOptions,[o])}function ni(n){c=pi(n),hi(),ui()}function pi(t){for(var u=[],r,i=0;i<t.length;++i)r=n.extend(!0,{},o.series),t[i].data!=null?(r.data=t[i].data,delete t[i].data,n.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],u.push(r);return u}function et(n,t){var i=n[t+"axis"];return typeof i=="object"&&(i=i.n),typeof i!="number"&&(i=1),i}function it(){return n.grep(v.concat(b),function(n){return n})}function ri(n){for(var i={},t,r=0;r<v.length;++r)t=v[r],t&&t.used&&(i["x"+t.n]=t.c2p(n.left));for(r=0;r<b.length;++r)t=b[r],t&&t.used&&(i["y"+t.n]=t.c2p(n.top));return i.x1!==undefined&&(i.x=i.x1),i.y1!==undefined&&(i.y=i.y1),i}function vi(n){for(var u={},t,i,r=0;r<v.length;++r)if(t=v[r],t&&t.used&&(i="x"+t.n,n[i]==null&&t.n==1&&(i="x"),n[i]!=null)){u.left=t.p2c(n[i]);break}for(r=0;r<b.length;++r)if(t=b[r],t&&t.used&&(i="y"+t.n,n[i]==null&&t.n==1&&(i="y"),n[i]!=null)){u.top=t.p2c(n[i]);break}return u}function ft(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==v?"x":"y",options:n.extend(!0,{},t==v?o.xaxis:o.yaxis)}),t[i-1]}function hi(){for(var f=c.length,e=-1,u,h,t,s,l,i=0;i<c.length;++i)u=c[i].color,u!=null&&(f--,typeof u=="number"&&u>e&&(e=u));f<=e&&(f=e+1);var p,a=[],y=o.colors,w=y.length,r=0;for(i=0;i<f;i++)p=n.color.parse(y[i%w]||"#666"),i%w==0&&i&&(r=r>=0?r<.5?-r-.2:0:-r),a[i]=p.scale("rgb",1+r);for(h=0,i=0;i<c.length;++i){if(t=c[i],t.color==null?(t.color=a[h].toString(),++h):typeof t.color=="number"&&(t.color=a[t.color].toString()),t.lines.show==null){l=!0;for(s in t)if(t[s]&&t[s].show){l=!1;break}l&&(t.lines.show=!0)}t.lines.zero==null&&(t.lines.zero=!!t.lines.fill),t.xaxis=ft(v,et(t,"x")),t.yaxis=ft(b,et(t,"y"))}}function ui(){function w(n,t,i){t<n.datamin&&t!=-v&&(n.datamin=t),i>n.datamax&&i!=v&&(n.datamax=i)}var rt=Number.POSITIVE_INFINITY,tt=Number.NEGATIVE_INFINITY,v=Number.MAX_VALUE,o,l,e,r,ht,t,u,h,lt,ct,st,i,s,ft,ut,f,ot,et,d,a;for(n.each(it(),function(n,t){t.datamin=rt,t.datamax=tt,t.used=!1}),o=0;o<c.length;++o)t=c[o],t.datapoints={points:[]},nt(p.processRawData,[t,t.data,t.datapoints]);for(o=0;o<c.length;++o)if(t=c[o],ut=t.data,f=t.datapoints.format,f||(f=[],f.push({x:!0,number:!0,required:!0}),f.push({y:!0,number:!0,required:!0}),(t.bars.show||t.lines.show&&t.lines.fill)&&(ot=!!(t.bars.show&&t.bars.zero||t.lines.show&&t.lines.zero),f.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:ot}),t.bars.horizontal&&(delete f[f.length-1].y,f[f.length-1].x=!0)),t.datapoints.format=f),t.datapoints.pointsize==null)for(t.datapoints.pointsize=f.length,h=t.datapoints.pointsize,u=t.datapoints.points,et=t.lines.show&&t.lines.steps,t.xaxis.used=t.yaxis.used=!0,l=e=0;l<ut.length;++l,e+=h){if(ft=ut[l],d=ft==null,!d)for(r=0;r<h;++r)i=ft[r],s=f[r],s&&(s.number&&i!=null&&(i=+i,isNaN(i)?i=null:i==Infinity?i=v:i==-Infinity&&(i=-v)),i==null&&(s.required&&(d=!0),s.defaultValue!=null&&(i=s.defaultValue))),u[e+r]=i;if(d)for(r=0;r<h;++r)i=u[e+r],i!=null&&(s=f[r],s.autoscale!==!1&&(s.x&&w(t.xaxis,i,i),s.y&&w(t.yaxis,i,i))),u[e+r]=null;else if(et&&e>0&&u[e-h]!=null&&u[e-h]!=u[e]&&u[e-h+1]!=u[e+1]){for(r=0;r<h;++r)u[e+h+r]=u[e+r];u[e+1]=u[e-h+1],e+=h}}for(o=0;o<c.length;++o)t=c[o],nt(p.processDatapoints,[t,t.datapoints]);for(o=0;o<c.length;++o){t=c[o],u=t.datapoints.points,h=t.datapoints.pointsize,f=t.datapoints.format;var k=rt,b=rt,y=tt,g=tt;for(l=0;l<u.length;l+=h)if(u[l]!=null)for(r=0;r<h;++r)(i=u[l+r],s=f[r],s&&s.autoscale!==!1&&i!=v&&i!=-v)&&(s.x&&(i<k&&(k=i),i>y&&(y=i)),s.y&&(i<b&&(b=i),i>g&&(g=i)));if(t.bars.show){switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}t.bars.horizontal?(b+=a,g+=a+t.bars.barWidth):(k+=a,y+=a+t.bars.barWidth)}w(t.xaxis,k,y),w(t.yaxis,b,g)}n.each(it(),function(n,t){t.datamin==rt&&(t.datamin=null),t.datamax==tt&&(t.datamax=null)})}function fi(){i.css("padding",0).children().filter(function(){return!n(this).hasClass("flot-overlay")&&!n(this).hasClass("flot-base")}).remove(),i.css("position")=="static"&&i.css("position","relative"),a=new t("flot-base",i),tt=new t("flot-overlay",i),s=a.context,y=tt.context,k=n(tt.element).unbind();var r=i.data("plot");r&&(r.shutdown(),tt.clear()),i.data("plot",l)}function oi(){o.grid.hoverable&&(k.mousemove(bt),k.bind("mouseleave",kt)),o.grid.clickable&&k.click(dt),nt(p.bindEvents,[k])}function ti(){rt&&clearTimeout(rt),k.unbind("mousemove",bt),k.unbind("mouseleave",kt),k.unbind("click",dt),nt(p.shutdown,[k])}function ur(n){function f(n){return n}var i,r,t=n.options.transform||f,u=n.options.inverseTransform;n.direction=="x"?(i=n.scale=g/Math.abs(t(n.max)-t(n.min)),r=Math.min(t(n.max),t(n.min))):(i=n.scale=w/Math.abs(t(n.max)-t(n.min)),i=-i,r=Math.max(t(n.max),t(n.min))),n.p2c=t==f?function(n){return(n-r)*i}:function(n){return(t(n)-r)*i},n.c2p=u?function(n){return u(r+n/i)}:function(n){return r+n/i}}function ei(n){for(var t=n.options,o=n.ticks||[],i=t.labelWidth||0,e=t.labelHeight||0,s=i||(n.direction=="x"?Math.floor(a.width/(o.length||1)):null),h=n.direction+"Axis "+n.direction+n.n+"Axis",c="flot-"+n.direction+"-axis flot-"+n.direction+n.n+"-axis "+h,l=t.font||"flot-tick-label tickLabel",u,f,r=0;r<o.length;++r)(u=o[r],u.label)&&(f=a.getTextInfo(c,u.label,l,null,s),i=Math.max(i,f.width),e=Math.max(e,f.height));n.labelWidth=t.labelWidth||i,n.labelHeight=t.labelHeight||e}function ir(t){var f=t.labelWidth,u=t.labelHeight,s=t.options.position,y=t.direction==="x",r=t.options.tickLength,i=o.grid.axisMargin,e=o.grid.labelMargin,p=!0,w=!0,l=!0,c=!1;n.each(y?v:b,function(n,i){i&&(i.show||i.reserveSpace)&&(i===t?c=!0:i.options.position===s&&(c?w=!1:p=!1),c||(l=!1))}),w&&(i=0),r==null&&(r=l?"full":5),isNaN(+r)||(e+=+r),y?(u+=e,s=="bottom"?(h.bottom+=u+i,t.box={top:a.height-h.bottom,height:u}):(t.box={top:h.top+i,height:u},h.top+=u+i)):(f+=e,s=="left"?(t.box={left:h.left+i,width:f},h.left+=f+i):(h.right+=f+i,t.box={left:a.width-h.right,width:f})),t.position=s,t.tickLength=r,t.box.padding=e,t.innermost=p}function bi(n){n.direction=="x"?(n.box.left=h.left-n.labelWidth/2,n.box.width=a.width-h.left-h.right+n.labelWidth):(n.box.top=h.top-n.labelHeight/2,n.box.height=a.height-h.bottom-h.top+n.labelHeight)}function wi(){var i=o.grid.minBorderMargin,u,r,t;if(i==null)for(i=0,r=0;r<c.length;++r)i=Math.max(i,2*(c[r].points.radius+c[r].points.lineWidth/2));t={left:i,right:i,top:i,bottom:i},n.each(it(),function(n,i){i.reserveSpace&&i.ticks&&i.ticks.length&&(i.direction==="x"?(t.left=Math.max(t.left,i.labelWidth/2),t.right=Math.max(t.right,i.labelWidth/2)):(t.bottom=Math.max(t.bottom,i.labelHeight/2),t.top=Math.max(t.top,i.labelHeight/2)))}),h.left=Math.ceil(Math.max(t.left,h.left)),h.right=Math.ceil(Math.max(t.right,h.right)),h.top=Math.ceil(Math.max(t.top,h.top)),h.bottom=Math.ceil(Math.max(t.bottom,h.bottom))}function gt(){var r,e=it(),f=o.grid.show,u,t,i;for(t in h)u=o.grid.margin||0,h[t]=typeof u=="number"?u:u[t]||0;nt(p.processOffset,[h]);for(t in h)h[t]+=typeof o.grid.borderWidth=="object"?f?o.grid.borderWidth[t]:0:f?o.grid.borderWidth:0;if(n.each(e,function(n,t){var i=t.options;t.show=i.show==null?t.used:i.show,t.reserveSpace=i.reserveSpace==null?t.show:i.reserveSpace,gi(t)}),f){for(i=n.grep(e,function(n){return n.show||n.reserveSpace}),n.each(i,function(n,t){nr(t),tr(t),di(t,t.ticks),ei(t)}),r=i.length-1;r>=0;--r)ir(i[r]);wi(),n.each(i,function(n,t){bi(t)})}g=a.width-h.left-h.right,w=a.height-h.bottom-h.top,n.each(e,function(n,t){ur(t)}),f&&or(),fr()}function gi(n){var t=n.options,r=+(t.min!=null?t.min:n.datamin),i=+(t.max!=null?t.max:n.datamax),f=i-r,e,u;f==0?(e=i==0?1:.01,t.min==null&&(r-=e),(t.max==null||t.min!=null)&&(i+=e)):(u=t.autoscaleMargin,u!=null&&(t.min==null&&(r-=f*u,r<0&&n.datamin!=null&&n.datamin>=0&&(r=0)),t.max==null&&(i+=f*u,i>0&&n.datamax!=null&&n.datamax<=0&&(i=0)))),n.min=r,n.max=i}function nr(t){var i=t.options,w,y,h,u,f,o,l,c;w=typeof i.ticks=="number"&&i.ticks>0?i.ticks:.3*Math.sqrt(t.direction=="x"?a.width:a.height);var p=(t.max-t.min)/w,s=-Math.floor(Math.log(p)/Math.LN10),e=i.tickDecimals;if(e!=null&&s>e&&(s=e),y=Math.pow(10,-s),h=p/y,h<1.5?u=1:h<3?(u=2,h>2.25&&(e==null||s+1<=e)&&(u=2.5,++s)):u=h<7.5?5:10,u*=y,i.minTickSize!=null&&u<i.minTickSize&&(u=i.minTickSize),t.delta=p,t.tickDecimals=Math.max(0,e!=null?e:s),t.tickSize=i.tickSize||u,i.mode=="time"&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(n){var u=[],e=r(n.min,n.tickSize),i=0,t=Number.NaN,f;do f=t,t=e+i*n.tickSize,u.push(t),++i;while(t<n.max&&t!=f);return u},t.tickFormatter=function(n,t){var u=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(n*u)/u,f,r;return t.tickDecimals!=null&&(f=i.indexOf("."),r=f==-1?0:i.length-f-1,r<t.tickDecimals)?(r?i:i+".")+(""+u).substr(1,t.tickDecimals-r):i}),n.isFunction(i.tickFormatter)&&(t.tickFormatter=function(n,t){return""+i.tickFormatter(n,t)}),i.alignTicksWithAxis!=null&&(f=(t.direction=="x"?v:b)[i.alignTicksWithAxis-1],f&&f.used&&f!=t&&(o=t.tickGenerator(t),o.length>0&&(i.min==null&&(t.min=Math.min(t.min,o[0])),i.max==null&&o.length>1&&(t.max=Math.max(t.max,o[o.length-1]))),t.tickGenerator=function(n){for(var r=[],t,i=0;i<f.ticks.length;++i)t=(f.ticks[i].v-f.min)/(f.max-f.min),t=n.min+t*(n.max-n.min),r.push(t);return r},t.mode||i.tickDecimals!=null||(l=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),c=t.tickGenerator(t),c.length>1&&/\..*0$/.test((c[1]-c[0]).toFixed(l))||(t.tickDecimals=l))))}function tr(t){var i=t.options.ticks,e=[],o,f,u,r;for(i==null||typeof i=="number"&&i>0?e=t.tickGenerator(t):i&&(e=n.isFunction(i)?i(t):i),t.ticks=[],o=0;o<e.length;++o)u=null,r=e[o],typeof r=="object"?(f=+r[0],r.length>1&&(u=r[1])):f=+r,u==null&&(u=t.tickFormatter(f,t)),isNaN(f)||t.ticks.push({v:f,label:u})}function di(n,t){n.options.autoscaleMargin&&t.length>0&&(n.options.min==null&&(n.min=Math.min(n.min,t[0].v)),n.options.max==null&&t.length>1&&(n.max=Math.max(n.max,t[t.length-1].v)))}function ht(){var n,t;for(a.clear(),nt(p.drawBackground,[s]),n=o.grid,n.show&&n.backgroundColor&&ki(),n.show&&!n.aboveData&&lt(),t=0;t<c.length;++t)nt(p.drawSeries,[s,c[t]]),sr(c[t]);nt(p.draw,[s]),n.show&&n.aboveData&&lt(),a.render(),ut()}function ct(n,t){for(var f,u,i,r,s=it(),o,e=0;e<s.length;++e)if(f=s[e],f.direction==t&&(r=t+f.n+"axis",n[r]||f.n!=1||(r=t+"axis"),n[r])){u=n[r].from,i=n[r].to;break}return n[r]||(f=t=="x"?v[0]:b[0],u=n[t+"1"],i=n[t+"2"]),u!=null&&i!=null&&u>i&&(o=u,u=i,i=o),{from:u,to:i,axis:f}}function ki(){s.save(),s.translate(h.left,h.top),s.fillStyle=ii(o.grid.backgroundColor,w,0,"rgba(255, 255, 255, 0)"),s.fillRect(0,0,g,w),s.restore()}function lt(){var b,f,t,c,k,ft,ot,et,tt,rt,p;if(s.save(),s.translate(h.left,h.top),k=o.grid.markings,k)for(n.isFunction(k)&&(f=l.getAxes(),f.xmin=f.xaxis.min,f.xmax=f.xaxis.max,f.ymin=f.yaxis.min,f.ymax=f.yaxis.max,k=k(f)),b=0;b<k.length;++b){var nt=k[b],r=ct(nt,"x"),i=ct(nt,"y");(r.from==null&&(r.from=r.axis.min),r.to==null&&(r.to=r.axis.max),i.from==null&&(i.from=i.axis.min),i.to==null&&(i.to=i.axis.max),r.to<r.axis.min||r.from>r.axis.max||i.to<i.axis.min||i.from>i.axis.max)||(r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),ft=r.from===r.to,ot=i.from===i.to,ft&&ot)||(r.from=Math.floor(r.axis.p2c(r.from)),r.to=Math.floor(r.axis.p2c(r.to)),i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),ft||ot?(et=nt.lineWidth||o.grid.markingsLineWidth,tt=et%2?.5:0,s.beginPath(),s.strokeStyle=nt.color||o.grid.markingsColor,s.lineWidth=et,ft?(s.moveTo(r.to+tt,i.from),s.lineTo(r.to+tt,i.to)):(s.moveTo(r.from,i.to+tt),s.lineTo(r.to,i.to+tt)),s.stroke()):(s.fillStyle=nt.color||o.grid.markingsColor,s.fillRect(r.from,i.to,r.to-r.from,i.from-i.to)))}for(f=it(),t=o.grid.borderWidth,rt=0;rt<f.length;++rt){var u=f[rt],ut=u.box,d=u.tickLength,a,e,y,v;if(u.show&&u.ticks.length!=0){for(s.lineWidth=1,u.direction=="x"?(a=0,e=d=="full"?u.position=="top"?0:w:ut.top-h.top+(u.position=="top"?ut.height:0)):(e=0,a=d=="full"?u.position=="left"?0:g:ut.left-h.left+(u.position=="left"?ut.width:0)),u.innermost||(s.strokeStyle=u.options.color,s.beginPath(),y=v=0,u.direction=="x"?y=g+1:v=w+1,s.lineWidth==1&&(u.direction=="x"?e=Math.floor(e)+.5:a=Math.floor(a)+.5),s.moveTo(a,e),s.lineTo(a+y,e+v),s.stroke()),s.strokeStyle=u.options.tickColor,s.beginPath(),b=0;b<u.ticks.length;++b)(p=u.ticks[b].v,y=v=0,isNaN(p)||p<u.min||p>u.max||d=="full"&&(typeof t=="object"&&t[u.position]>0||t>0)&&(p==u.min||p==u.max))||(u.direction=="x"?(a=u.p2c(p),v=d=="full"?-w:d,u.position=="top"&&(v=-v)):(e=u.p2c(p),y=d=="full"?-g:d,u.position=="left"&&(y=-y)),s.lineWidth==1&&(u.direction=="x"?a=Math.floor(a)+.5:e=Math.floor(e)+.5),s.moveTo(a,e),s.lineTo(a+y,e+v));s.stroke()}}t&&(c=o.grid.borderColor,typeof t=="object"||typeof c=="object"?(typeof t!="object"&&(t={top:t,right:t,bottom:t,left:t}),typeof c!="object"&&(c={top:c,right:c,bottom:c,left:c}),t.top>0&&(s.strokeStyle=c.top,s.lineWidth=t.top,s.beginPath(),s.moveTo(0-t.left,0-t.top/2),s.lineTo(g,0-t.top/2),s.stroke()),t.right>0&&(s.strokeStyle=c.right,s.lineWidth=t.right,s.beginPath(),s.moveTo(g+t.right/2,0-t.top),s.lineTo(g+t.right/2,w),s.stroke()),t.bottom>0&&(s.strokeStyle=c.bottom,s.lineWidth=t.bottom,s.beginPath(),s.moveTo(g+t.right,w+t.bottom/2),s.lineTo(0,w+t.bottom/2),s.stroke()),t.left>0&&(s.strokeStyle=c.left,s.lineWidth=t.left,s.beginPath(),s.moveTo(0-t.left/2,w+t.bottom),s.lineTo(0-t.left/2,0),s.stroke())):(s.lineWidth=t,s.strokeStyle=o.grid.borderColor,s.strokeRect(-t/2,-t/2,g+t,w+t))),s.restore()}function or(){n.each(it(),function(n,t){var i=t.box,v=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+v,l=t.options.font||"flot-tick-label tickLabel",r,f,u,o,s,e;if(a.removeText(c),t.show&&t.ticks.length!=0)for(e=0;e<t.ticks.length;++e)(r=t.ticks[e],!r.label||r.v<t.min||r.v>t.max)||(t.direction=="x"?(o="center",f=h.left+t.p2c(r.v),t.position=="bottom"?u=i.top+i.padding:(u=i.top+i.height-i.padding,s="bottom")):(s="middle",u=h.top+t.p2c(r.v),t.position=="left"?(f=i.left+i.width-i.padding,o="right"):f=i.left+i.padding),a.addText(c,f,u,r.label,l,null,null,o,s))})}function sr(n){n.lines.show&&hr(n),n.bars.show&&rr(n),n.points.show&&er(n)}function hr(n){function f(n,t,i,r,u){var l=n.points,a=n.pointsize,y=null,v=null,c;for(s.beginPath(),c=a;c<l.length;c+=a){var f=l[c-a],e=l[c-a+1],o=l[c],h=l[c+1];if(f!=null&&o!=null){if(e<=h&&e<u.min){if(h<u.min)continue;f=(u.min-e)/(h-e)*(o-f)+f,e=u.min}else if(h<=e&&h<u.min){if(e<u.min)continue;o=(u.min-e)/(h-e)*(o-f)+f,h=u.min}if(e>=h&&e>u.max){if(h>u.max)continue;f=(u.max-e)/(h-e)*(o-f)+f,e=u.max}else if(h>=e&&h>u.max){if(e>u.max)continue;o=(u.max-e)/(h-e)*(o-f)+f,h=u.max}if(f<=o&&f<r.min){if(o<r.min)continue;e=(r.min-f)/(o-f)*(h-e)+e,f=r.min}else if(o<=f&&o<r.min){if(f<r.min)continue;h=(r.min-f)/(o-f)*(h-e)+e,o=r.min}if(f>=o&&f>r.max){if(o>r.max)continue;e=(r.max-f)/(o-f)*(h-e)+e,f=r.max}else if(o>=f&&o>r.max){if(f>r.max)continue;h=(r.max-f)/(o-f)*(h-e)+e,o=r.max}(f!=y||e!=v)&&s.moveTo(r.p2c(f)+t,u.p2c(e)+i),y=o,v=h,s.lineTo(r.p2c(o)+t,u.p2c(h)+i)}}s.stroke()}function e(n,t,i){for(var c=n.points,o=n.pointsize,b=Math.min(Math.max(0,i.min),i.max),h=0,k,a=!1,l=1,w=0,p=0,v,y;;){if(o>0&&h>c.length+o)break;h+=o;var r=c[h-o],u=c[h-o+l],f=c[h],e=c[h+l];if(a){if(o>0&&r!=null&&f==null){p=h,o=-o,l=2;continue}if(o<0&&h==w+o){s.fill(),a=!1,o=-o,l=1,h=w=p+o;continue}}if(r!=null&&f!=null){if(r<=f&&r<t.min){if(f<t.min)continue;u=(t.min-r)/(f-r)*(e-u)+u,r=t.min}else if(f<=r&&f<t.min){if(r<t.min)continue;e=(t.min-r)/(f-r)*(e-u)+u,f=t.min}if(r>=f&&r>t.max){if(f>t.max)continue;u=(t.max-r)/(f-r)*(e-u)+u,r=t.max}else if(f>=r&&f>t.max){if(r>t.max)continue;e=(t.max-r)/(f-r)*(e-u)+u,f=t.max}if(a||(s.beginPath(),s.moveTo(t.p2c(r),i.p2c(b)),a=!0),u>=i.max&&e>=i.max){s.lineTo(t.p2c(r),i.p2c(i.max)),s.lineTo(t.p2c(f),i.p2c(i.max));continue}else if(u<=i.min&&e<=i.min){s.lineTo(t.p2c(r),i.p2c(i.min)),s.lineTo(t.p2c(f),i.p2c(i.min));continue}v=r,y=f,u<=e&&u<i.min&&e>=i.min?(r=(i.min-u)/(e-u)*(f-r)+r,u=i.min):e<=u&&e<i.min&&u>=i.min&&(f=(i.min-u)/(e-u)*(f-r)+r,e=i.min),u>=e&&u>i.max&&e<=i.max?(r=(i.max-u)/(e-u)*(f-r)+r,u=i.max):e>=u&&e>i.max&&u<=i.max&&(f=(i.max-u)/(e-u)*(f-r)+r,e=i.max),r!=v&&s.lineTo(t.p2c(v),i.p2c(u)),s.lineTo(t.p2c(r),i.p2c(u)),s.lineTo(t.p2c(f),i.p2c(e)),f!=y&&(s.lineTo(t.p2c(f),i.p2c(e)),s.lineTo(t.p2c(y),i.p2c(e)))}}}var t,i,r,u;s.save(),s.translate(h.left,h.top),s.lineJoin="round",t=n.lines.lineWidth,i=n.shadowSize,t>0&&i>0&&(s.lineWidth=i,s.strokeStyle="rgba(0,0,0,0.1)",r=Math.PI/18,f(n.datapoints,Math.sin(r)*(t/2+i/2),Math.cos(r)*(t/2+i/2),n.xaxis,n.yaxis),s.lineWidth=i/2,f(n.datapoints,Math.sin(r)*(t/2+i/4),Math.cos(r)*(t/2+i/4),n.xaxis,n.yaxis)),s.lineWidth=t,s.strokeStyle=n.color,u=ot(n.lines,n.color,0,w),u&&(s.fillStyle=u,e(n.datapoints,n.xaxis,n.yaxis)),t>0&&f(n.datapoints,0,0,n.xaxis,n.yaxis),s.restore()}function er(n){function f(n,t,i,r,u,f,e,o){for(var a=n.points,v=n.pointsize,h,c,l=0;l<a.length;l+=v)(h=a[l],c=a[l+1],h==null||h<f.min||h>f.max||c<e.min||c>e.max)||(s.beginPath(),h=f.p2c(h),c=e.p2c(c)+r,o=="circle"?s.arc(h,c,t,0,u?Math.PI:Math.PI*2,!1):o(s,h,c,t,u),s.closePath(),i&&(s.fillStyle=i,s.fill()),s.stroke())}var t;s.save(),s.translate(h.left,h.top);var i=n.points.lineWidth,e=n.shadowSize,u=n.points.radius,r=n.points.symbol;i==0&&(i=.0001),i>0&&e>0&&(t=e/2,s.lineWidth=t,s.strokeStyle="rgba(0,0,0,0.1)",f(n.datapoints,u,null,t+t/2,!0,n.xaxis,n.yaxis,r),s.strokeStyle="rgba(0,0,0,0.2)",f(n.datapoints,u,null,t/2,!0,n.xaxis,n.yaxis,r)),s.lineWidth=i,s.strokeStyle=n.color,f(n.datapoints,u,ot(n.points,n.color),0,!1,n.xaxis,n.yaxis,r),s.restore()}function at(n,t,i,r,u,f,e,o,s,h,c){var v,y,l,a,b,k,p,w,d;(h?(w=k=p=!0,b=!1,v=i,y=n,a=t+r,l=t+u,y<v&&(d=y,y=v,v=d,b=!0,k=!1)):(b=k=p=!0,w=!1,v=n+r,y=n+u,l=i,a=t,a<l&&(d=a,a=l,l=d,w=!0,p=!1)),y<e.min||v>e.max||a<o.min||l>o.max)||(v<e.min&&(v=e.min,b=!1),y>e.max&&(y=e.max,k=!1),l<o.min&&(l=o.min,w=!1),a>o.max&&(a=o.max,p=!1),v=e.p2c(v),l=o.p2c(l),y=e.p2c(y),a=o.p2c(a),f&&(s.fillStyle=f(l,a),s.fillRect(v,a,y-v,l-a)),c>0&&(b||k||p||w)&&(s.beginPath(),s.moveTo(v,l),b?s.lineTo(v,a):s.moveTo(v,a),p?s.lineTo(y,a):s.moveTo(y,a),k?s.lineTo(y,l):s.moveTo(y,l),w?s.lineTo(v,l):s.moveTo(v,l),s.stroke()))}function rr(n){function r(t,i,r,u,f,e){for(var h=t.points,c=t.pointsize,o=0;o<h.length;o+=c)h[o]!=null&&at(h[o],h[o+1],h[o+2],i,r,u,f,e,s,n.bars.horizontal,n.bars.lineWidth)}var t,i;s.save(),s.translate(h.left,h.top),s.lineWidth=n.bars.lineWidth,s.strokeStyle=n.color;switch(n.bars.align){case"left":t=0;break;case"right":t=-n.bars.barWidth;break;default:t=-n.bars.barWidth/2}i=n.bars.fill?function(t,i){return ot(n.bars,n.color,t,i)}:null,r(n.datapoints,t,t+n.bars.barWidth,i,n.xaxis,n.yaxis),s.restore()}function ot(t,i,r,u){var e=t.fill,f;return e?t.fillColor?ii(t.fillColor,r,u,i):(f=n.color.parse(i),f.a=typeof e=="number"?e:.4,f.normalize(),f.toString()):null}function fr(){var d,r,b,y,a,t,k;if(o.legend.container!=null?n(o.legend.container).html(""):i.find(".legend").remove(),o.legend.show){var s=[],l=[],w=!1,g=o.legend.labelFormatter,e,p;for(r=0;r<c.length;++r)e=c[r],e.label&&(p=g?g(e.label,e):e.label,p&&l.push({label:p,color:e.color}));for(o.legend.sorted&&(n.isFunction(o.legend.sorted)?l.sort(o.legend.sorted):o.legend.sorted=="reverse"?l.reverse():(d=o.legend.sorted!="descending",l.sort(function(n,t){return n.label==t.label?0:n.label<t.label!=d?1:-1}))),r=0;r<l.length;++r)b=l[r],r%o.legend.noColumns==0&&(w&&s.push("</tr>"),s.push("<tr>"),w=!0),s.push('<td class="legendColorBox"><div style="border:1px solid '+o.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+b.label+"</td>");if(w&&s.push("</tr>"),s.length!=0)if(y='<table style="font-size:smaller;color:'+o.grid.color+'">'+s.join("")+"</table>",o.legend.container!=null)n(o.legend.container).html(y);else{var f="",v=o.legend.position,u=o.legend.margin;u[0]==null&&(u=[u,u]),v.charAt(0)=="n"?f+="top:"+(u[1]+h.top)+"px;":v.charAt(0)=="s"&&(f+="bottom:"+(u[1]+h.bottom)+"px;"),v.charAt(1)=="e"?f+="right:"+(u[0]+h.right)+"px;":v.charAt(1)=="w"&&(f+="left:"+(u[0]+h.left)+"px;"),a=n('<div class="legend">'+y.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(i),o.legend.backgroundOpacity!=0&&(t=o.legend.backgroundColor,t==null&&(t=o.grid.backgroundColor,t=t&&typeof t=="string"?n.color.parse(t):n.color.extract(a,"background-color"),t.a=1,t=t.toString()),k=a.children(),n('<div style="position:absolute;width:'+k.width()+"px;height:"+k.height()+"px;"+f+"background-color:"+t+';"> </div>').prependTo(a).css("opacity",o.legend.backgroundOpacity))}}}function si(n,t,i){for(var k=o.grid.mouseActiveRadius,it=k*k+1,p=null,et=!1,r,s,e,h,y,g,u=c.length-1;u>=0;--u)if(i(c[u])){var f=c[u],b=f.xaxis,d=f.yaxis,l=f.datapoints.points,a=b.c2p(n),v=d.c2p(t),tt=k/b.scale,nt=k/d.scale;if(s=f.datapoints.pointsize,b.options.inverseTransform&&(tt=Number.MAX_VALUE),d.options.inverseTransform&&(nt=Number.MAX_VALUE),f.lines.show||f.points.show)for(r=0;r<l.length;r+=s)if((e=l[r],h=l[r+1],e!=null)&&!(e-a>tt)&&!(e-a<-tt)&&!(h-v>nt)&&!(h-v<-nt)){var rt=Math.abs(b.p2c(e)-n),ut=Math.abs(d.p2c(h)-t),ft=rt*rt+ut*ut;ft<it&&(it=ft,p=[u,r/s])}if(f.bars.show&&!p){switch(f.bars.align){case"left":y=0;break;case"right":y=-f.bars.barWidth;break;default:y=-f.bars.barWidth/2}for(g=y+f.bars.barWidth,r=0;r<l.length;r+=s){var e=l[r],h=l[r+1],w=l[r+2];e!=null&&(c[u].bars.horizontal?a<=Math.max(w,e)&&a>=Math.min(w,e)&&v>=h+y&&v<=h+g:a>=e+y&&a<=e+g&&v>=Math.min(w,h)&&v<=Math.max(w,h))&&(p=[u,r/s])}}}return p?(u=p[0],r=p[1],s=c[u].datapoints.pointsize,{datapoint:c[u].datapoints.points.slice(r*s,(r+1)*s),dataIndex:r,series:c[u],seriesIndex:u}):null}function bt(n){o.grid.hoverable&&st("plothover",n,function(n){return n.hoverable!=!1})}function kt(n){o.grid.hoverable&&st("plothover",n,function(){return!1})}function dt(n){st("plotclick",n,function(n){return n.clickable!=!1})}function st(n,t,r){var s=k.offset(),l=t.pageX-s.left-h.left,a=t.pageY-s.top-h.top,c=ri({left:l,top:a}),u,e,f;if(c.pageX=t.pageX,c.pageY=t.pageY,u=si(l,a,r),u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+s.left+h.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+s.top+h.top,10)),o.grid.autoHighlight){for(e=0;e<d.length;++e)f=d[e],f.auto!=n||u&&f.series==u.series&&f.point[0]==u.datapoint[0]&&f.point[1]==u.datapoint[1]||yt(f.series,f.point);u&&vt(u.series,u.datapoint,n)}i.trigger(n,[c,u])}function ut(){var n=o.interaction.redrawOverlayInterval;if(n==-1){wt();return}rt||(rt=setTimeout(wt,n))}function wt(){rt=null,y.save(),tt.clear(),y.translate(h.left,h.top);for(var n,t=0;t<d.length;++t)n=d[t],n.series.bars.show?yi(n.series,n.point):ci(n.series,n.point);y.restore(),nt(p.drawOverlay,[y])}function vt(n,t,i){var u,r;typeof n=="number"&&(n=c[n]),typeof t=="number"&&(u=n.datapoints.pointsize,t=n.datapoints.points.slice(u*t,u*(t+1))),r=pt(n,t),r==-1?(d.push({series:n,point:t,auto:i}),ut()):i||(d[r].auto=!1)}function yt(n,t){var r,i;if(n==null&&t==null){d=[],ut();return}typeof n=="number"&&(n=c[n]),typeof t=="number"&&(r=n.datapoints.pointsize,t=n.datapoints.points.slice(r*t,r*(t+1))),i=pt(n,t),i!=-1&&(d.splice(i,1),ut())}function pt(n,t){for(var r,i=0;i<d.length;++i)if(r=d[i],r.series==n&&r.point[0]==t[0]&&r.point[1]==t[1])return i;return-1}function ci(t,i){var u=i[0],r=i[1],o=t.xaxis,s=t.yaxis,h=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),f,e;u<o.min||u>o.max||r<s.min||r>s.max||(f=t.points.radius+t.points.lineWidth/2,y.lineWidth=f,y.strokeStyle=h,e=1.5*f,u=o.p2c(u),r=s.p2c(r),y.beginPath(),t.points.symbol=="circle"?y.arc(u,r,e,0,2*Math.PI,!1):t.points.symbol(y,u,r,e,!1),y.closePath(),y.stroke())}function yi(t,i){var u=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),f=u,r;switch(t.bars.align){case"left":r=0;break;case"right":r=-t.bars.barWidth;break;default:r=-t.bars.barWidth/2}y.lineWidth=t.bars.lineWidth,y.strokeStyle=u,at(i[0],i[1],i[2]||0,r,r+t.bars.barWidth,function(){return f},t.xaxis,t.yaxis,y,t.bars.horizontal,t.bars.lineWidth)}function ii(t,i,r,u){var h,e,c,f,o;if(typeof t=="string")return t;for(h=s.createLinearGradient(0,r,0,i),e=0,c=t.colors.length;e<c;++e)f=t.colors[e],typeof f!="string"&&(o=n.color.parse(u),f.brightness!=null&&(o=o.scale("rgb",f.brightness)),f.opacity!=null&&(o.a*=f.opacity),f=o.toString()),h.addColorStop(e/(c-1),f);return h}var c=[],o={colors:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:"transparent",tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},a=null,tt=null,k=null,s=null,y=null,v=[],b=[],h={left:0,right:0,top:0,bottom:0},g=0,w=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},l=this,d,rt;l.setData=ni,l.setupGrid=gt,l.draw=ht,l.getPlaceholder=function(){return i},l.getCanvas=function(){return a.element},l.getPlotOffset=function(){return h},l.width=function(){return g},l.height=function(){return w},l.offset=function(){var n=k.offset();return n.left+=h.left,n.top+=h.top,n},l.getData=function(){return c},l.getAxes=function(){var t={},i;return n.each(v.concat(b),function(n,i){i&&(t[i.direction+(i.n!=1?i.n:"")+"axis"]=i)}),t},l.getXAxes=function(){return v},l.getYAxes=function(){return b},l.c2p=ri,l.p2c=vi,l.getOptions=function(){return o},l.highlight=vt,l.unhighlight=yt,l.triggerRedrawOverlay=ut,l.pointOffset=function(n){return{left:parseInt(v[et(n,"x")-1].p2c(+n.x)+h.left,10),top:parseInt(b[et(n,"y")-1].p2c(+n.y)+h.top,10)}},l.shutdown=ti,l.destroy=function(){ti(),i.removeData("plot").empty(),c=[],o=null,a=null,tt=null,k=null,s=null,y=null,v=[],b=[],p=null,d=[],l=null},l.resize=function(){var t=i.width(),n=i.height();a.resize(t,n),tt.resize(t,n)},l.hooks=p,ai(l),li(f),fi(),ni(u),gt(),ht(),oi(),d=[],rt=null}function r(n,t){return t*Math.floor(n/t)}var i=Object.prototype.hasOwnProperty;n.fn.detach||(n.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),t.prototype.resize=function(n,t){if(n<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+n+", height = "+t);var r=this.element,u=this.context,i=this.pixelRatio;this.width!=n&&(r.width=n*i,r.style.width=n+"px",this.width=n),this.height!=t&&(r.height=t*i,r.style.height=t+"px",this.height=t),u.restore(),u.save(),u.scale(i,i)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var h=this._textCache,e,o,s,c,t,u,r,f,n;for(e in h)if(i.call(h,e)){o=this.getTextLayer(e),s=h[e],o.hide();for(c in s)if(i.call(s,c)){t=s[c];for(u in t)if(i.call(t,u)){for(r=t[u].positions,f=0;n=r[f];f++)n.active?n.rendered||(o.append(n.element),n.rendered=!0):(r.splice(f--,1),n.rendered&&n.element.detach());r.length==0&&delete t[u]}}o.show()}},t.prototype.getTextLayer=function(t){var i=this.text[t];return i==null&&(this.textContainer==null&&(this.textContainer=n("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=n("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},t.prototype.getTextInfo=function(t,i,r,u,f){var o,h,s,c,e;return i=""+i,o=typeof r=="object"?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,h=this._textCache[t],h==null&&(h=this._textCache[t]={}),s=h[o],s==null&&(s=h[o]={}),c=s[i],c==null&&(e=n("<div></div>").html(i).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(t)),typeof r=="object"?e.css({font:o,color:r.color}):typeof r=="string"&&e.addClass(r),c=s[i]={width:e.outerWidth(!0),height:e.outerHeight(!0),element:e,positions:[]},e.detach()),c},t.prototype.addText=function(n,t,i,r,u,f,e,o,s){var c=this.getTextInfo(n,r,u,f,e),l=c.positions,a,h;for(o=="center"?t-=c.width/2:o=="right"&&(t-=c.width),s=="middle"?i-=c.height/2:s=="bottom"&&(i-=c.height),a=0;h=l[a];a++)if(h.x==t&&h.y==i){h.active=!0;return}h={active:!0,rendered:!1,element:l.length?c.element.clone():c.element,x:t,y:i},l.push(h),h.element.css({top:Math.round(i),left:Math.round(t),"text-align":o})},t.prototype.removeText=function(n,t,r,u,f,e){var h,a,l,v,c,o,s;if(u==null){if(h=this._textCache[n],h!=null)for(a in h)if(i.call(h,a)){l=h[a];for(v in l)if(i.call(l,v))for(c=l[v].positions,o=0;s=c[o];o++)s.active=!1}}else for(c=this.getTextInfo(n,u,f,e).positions,o=0;s=c[o];o++)s.x==t&&s.y==r&&(s.active=!1)},n.plot=function(t,i,r){return new u(n(t),i,r,n.plot.plugins)},n.plot.version="0.8.3",n.plot.plugins=[],n.fn.plot=function(t,i){return this.each(function(){n.plot(this,t,i)})}}(jQuery),function(n){function r(i){function tt(t){l||(l=!0,p=t.getCanvas(),h=n(p).parent(),r=t.getOptions(),t.setData(nt(t.getData())))}function nt(t){for(var f=0,e=0,o=0,s=r.series.pie.combine.color,h=[],i,u=0;u<t.length;++u)i=t[u].data,n.isArray(i)&&i.length==1&&(i=i[0]),n.isArray(i)?i[1]=!isNaN(parseFloat(i[1]))&&isFinite(i[1])?+i[1]:0:i=!isNaN(parseFloat(i))&&isFinite(i)?[1,+i]:[1,0],t[u].data=[i];for(u=0;u<t.length;++u)f+=t[u].data[0][1];for(u=0;u<t.length;++u)i=t[u].data[0][1],i/f<=r.series.pie.combine.threshold&&(e+=i,o++,s||(s=t[u].color));for(u=0;u<t.length;++u)i=t[u].data[0][1],(o<2||i/f>r.series.pie.combine.threshold)&&h.push(n.extend(t[u],{data:[[1,i]],color:t[u].color,label:t[u].label+" ("+Math.round(i/(f/100))+"%)",angle:i*Math.PI*2/f,percent:i/(f/100)}));return o>1&&h.push({data:[[1,e]],color:s,label:r.series.pie.combine.label,angle:e*Math.PI*2/f,percent:e/(f/100)}),h}function g(i,s){function b(){f.clearRect(0,0,y,w),h.children().filter(".pieLabel, .pieLabelBackground").remove()}function g(){var i=r.series.pie.shadow.left,u=r.series.pie.shadow.top,s=10,h=r.series.pie.shadow.alpha,n=r.series.pie.radius>1?r.series.pie.radius:o*r.series.pie.radius,t;if(!(n>=y/2-i)&&!(n*r.series.pie.tilt>=w/2-u)&&!(n<=s)){for(f.save(),f.translate(i,u),f.globalAlpha=h,f.fillStyle="#000",f.translate(e,c),f.scale(1,r.series.pie.tilt),t=1;t<=s;t++)f.beginPath(),f.arc(0,0,n,0,Math.PI*2,!1),f.fill(),n-=t;f.restore()}}function d(){function s(n,t,r){n<=0||isNaN(n)||(r?f.fillStyle=t:(f.strokeStyle=t,f.lineJoin="round"),f.beginPath(),Math.abs(n-Math.PI*2)>1e-9&&f.moveTo(0,0),f.arc(0,0,l,i,i+n/2,!1),f.arc(0,0,l,i+n/2,i+n,!1),f.closePath(),i+=n,r?f.fill():f.stroke())}function p(){function s(t,u,f){var b,s,p,v,k;if(t.data[0][1]==0)return!0;b=r.legend.labelFormatter,p=r.series.pie.label.formatter,s=b?b(t.label,t):t.label,p&&(s=p(s,t));var g=(u+t.angle+u)/2,d=e+Math.round(Math.cos(g)*i),nt=c+Math.round(Math.sin(g)*i)*r.series.pie.tilt,tt="<span class='pieLabel' id='pieLabel"+f+"' style='position:absolute;top:"+nt+"px;left:"+d+"px;'>"+s+"</span>";h.append(tt);var o=h.children("#pieLabel"+f),a=nt-o.height()/2,l=d-o.width()/2;return(o.css("top",a),o.css("left",l),0-a>0||0-l>0||w-(a+o.height())<0||y-(l+o.width())<0)?!1:(r.series.pie.label.background.opacity!=0&&(v=r.series.pie.label.background.color,v==null&&(v=t.color),k="top:"+a+"px;left:"+l+"px;",n("<div class='pieLabelBackground' style='position:absolute;width:"+o.width()+"px;height:"+o.height()+"px;"+k+"background-color:"+v+";'></div>").css("opacity",r.series.pie.label.background.opacity).insertBefore(o)),!0)}for(var f=u,i=r.series.pie.label.radius>1?r.series.pie.label.radius:o*r.series.pie.label.radius,t=0;t<v.length;++t){if(v[t].percent>=r.series.pie.label.threshold*100&&!s(v[t],f,t))return!1;f+=v[t].angle}return!0}var u=Math.PI*r.series.pie.startAngle,l=r.series.pie.radius>1?r.series.pie.radius:o*r.series.pie.radius,i,t;for(f.save(),f.translate(e,c),f.scale(1,r.series.pie.tilt),f.save(),i=u,t=0;t<v.length;++t)v[t].startAngle=i,s(v[t].angle,v[t].color,!0);if(f.restore(),r.series.pie.stroke.width>0){for(f.save(),f.lineWidth=r.series.pie.stroke.width,i=u,t=0;t<v.length;++t)s(v[t].angle,r.series.pie.stroke.color,!1);f.restore()}return a(f),f.restore(),r.series.pie.label.show?p():!0}var v,p;if(h){var y=i.getPlaceholder().width(),w=i.getPlaceholder().height(),k=h.children().filter(".legend").children().width()||0;f=s,l=!1,o=Math.min(y,w/r.series.pie.tilt)/2,c=w/2+r.series.pie.offset.top,e=y/2,r.series.pie.offset.left=="auto"?(r.legend.position.match("w")?e+=k/2:e-=k/2,e<o?e=o:e>y-o&&(e=y-o)):e+=r.series.pie.offset.left,v=i.getData(),p=0;do p>0&&(o*=u),p+=1,b(),r.series.pie.tilt<=.8&&g();while(!d()&&p<t);p>=t&&(b(),h.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),i.setSeries&&i.insertLegend&&(i.setSeries(v),i.insertLegend())}}function a(n){if(r.series.pie.innerRadius>0){n.save();var t=r.series.pie.innerRadius>1?r.series.pie.innerRadius:o*r.series.pie.innerRadius;n.globalCompositeOperation="destination-out",n.beginPath(),n.fillStyle=r.series.pie.stroke.color,n.arc(0,0,t,0,Math.PI*2,!1),n.fill(),n.closePath(),n.restore(),n.save(),n.beginPath(),n.strokeStyle=r.series.pie.stroke.color,n.arc(0,0,t,0,Math.PI*2,!1),n.stroke(),n.closePath(),n.restore()}}function ut(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i][1]<=t[1]&&t[1]<n[r][1]||n[r][1]<=t[1]&&t[1]<n[i][1])&&t[0]<(n[r][0]-n[i][0])*(t[1]-n[i][1])/(n[r][1]-n[i][1])+n[i][0]&&(u=!u);return u}function rt(n,t){for(var l=i.getData(),h=i.getOptions(),u=h.series.pie.radius>1?h.series.pie.radius:o*h.series.pie.radius,a,v,r,s=0;s<l.length;++s)if(r=l[s],r.pie.show){if(f.save(),f.beginPath(),f.moveTo(0,0),f.arc(0,0,u,r.startAngle,r.startAngle+r.angle/2,!1),f.arc(0,0,u,r.startAngle+r.angle/2,r.startAngle+r.angle,!1),f.closePath(),a=n-e,v=t-c,f.isPointInPath){if(f.isPointInPath(n-e,t-c))return f.restore(),{datapoint:[r.percent,r.data],dataIndex:0,series:r,seriesIndex:s}}else{var tt=u*Math.cos(r.startAngle),nt=u*Math.sin(r.startAngle),g=u*Math.cos(r.startAngle+r.angle/4),ft=u*Math.sin(r.startAngle+r.angle/4),rt=u*Math.cos(r.startAngle+r.angle/2),it=u*Math.sin(r.startAngle+r.angle/2),w=u*Math.cos(r.startAngle+r.angle/1.5),p=u*Math.sin(r.startAngle+r.angle/1.5),y=u*Math.cos(r.startAngle+r.angle),d=u*Math.sin(r.startAngle+r.angle),k=[[0,0],[tt,nt],[g,ft],[rt,it],[w,p],[y,d]],b=[a,v];if(ut(k,b))return f.restore(),{datapoint:[r.percent,r.data],dataIndex:0,series:r,seriesIndex:s}}f.restore()}return null}function it(n){v("plothover",n)}function w(n){v("plotclick",n)}function v(n,t){var o=i.offset(),a=parseInt(t.pageX-o.left),l=parseInt(t.pageY-o.top),u=rt(a,l),e,f,c;if(r.grid.autoHighlight)for(e=0;e<s.length;++e)f=s[e],f.auto!=n||u&&f.series==u.series||k(f.series);u&&b(u.series,n),c={pageX:t.pageX,pageY:t.pageY},h.trigger(n,[c,u])}function b(n,t){var r=y(n);r==-1?(s.push({series:n,auto:t}),i.triggerRedrawOverlay()):t||(s[r].auto=!1)}function k(n){n==null&&(s=[],i.triggerRedrawOverlay());var t=y(n);t!=-1&&(s.splice(t,1),i.triggerRedrawOverlay())}function y(n){for(var i,t=0;t<s.length;++t)if(i=s[t],i.series==n)return t;return-1}function d(n,t){function f(n){n.angle<=0||isNaN(n.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(n.angle-Math.PI*2)>1e-9&&t.moveTo(0,0),t.arc(0,0,u,n.startAngle,n.startAngle+n.angle/2,!1),t.arc(0,0,u,n.startAngle+n.angle/2,n.startAngle+n.angle,!1),t.closePath(),t.fill())}var i=n.getOptions(),u=i.series.pie.radius>1?i.series.pie.radius:o*i.series.pie.radius,r;for(t.save(),t.translate(e,c),t.scale(1,i.series.pie.tilt),r=0;r<s.length;++r)f(s[r].series);a(t),t.restore()}var p=null,h=null,r=null,o=null,e=null,c=null,l=!1,f=null,s=[];i.hooks.processOptions.push(function(n,t){t.series.pie.show&&(t.grid.show=!1,t.series.pie.label.show=="auto"&&(t.series.pie.label.show=t.legend.show?!1:!0),t.series.pie.radius=="auto"&&(t.series.pie.radius=t.series.pie.label.show?3/4:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))}),i.hooks.bindEvents.push(function(n,t){var i=n.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(it),i.grid.clickable&&t.unbind("click").click(w))}),i.hooks.processDatapoints.push(function(n,t,i,r){var u=n.getOptions();u.series.pie.show&&tt(n,t,i,r)}),i.hooks.drawOverlay.push(function(n,t){var i=n.getOptions();i.series.pie.show&&d(n,t)}),i.hooks.draw.push(function(n,t){var i=n.getOptions();i.series.pie.show&&g(n,t)})}var t=10,u=.95,i={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(n,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+n+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};n.plot.plugins.push({init:r,options:i,name:"pie",version:"1.1"})}(jQuery),function(n){function i(n,t){return t*Math.floor(n/t)}function u(n,t,i,r){var o,s,u;if(typeof n.strftime=="function")return n.strftime(t);var f=function(n,t){return n=""+n,t=""+(t==null?"0":t),n.length==1?t+n:n},c=[],h=!1,e=n.getHours(),l=e<12;for(i==null&&(i=[localize("MonthJan"),localize("MonthFeb"),localize("MonthMart"),localize("MonthApr"),localize("MonthMay"),localize("MonthJun"),localize("MonthJul"),localize("MonthAug"),localize("MonthSep"),localize("MonthOct"),localize("MonthNov"),localize("MonthDec")]),r==null&&(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),o=e>12?e-12:e==0?12:e,s=0;s<t.length;++s)if(u=t.charAt(s),h){switch(u){case"a":u=""+r[n.getDay()];break;case"b":u=""+i[n.getMonth()];break;case"d":u=f(n.getDate());break;case"e":u=f(n.getDate()," ");break;case"h":case"H":u=f(e);break;case"I":u=f(o);break;case"l":u=f(o," ");break;case"m":u=f(n.getMonth()+1);break;case"M":u=f(n.getMinutes());break;case"q":u=""+(Math.floor(n.getMonth()/3)+1);break;case"S":u=f(n.getSeconds());break;case"y":u=f(n.getFullYear()%100);break;case"Y":u=""+n.getFullYear();break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"w":u=""+n.getDay()}c.push(u),h=!1}else u=="%"?h=!0:c.push(u);return c.join("")}function e(n){function u(n,t,i,r){n[t]=function(){return i[r].apply(i,arguments)}}var i={date:n},r,t;for(n.strftime!=undefined&&u(i,"strftime",n,"strftime"),u(i,"getTime",n,"getTime"),u(i,"setTime",n,"setTime"),r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],t=0;t<r.length;t++)u(i,"get"+r[t],n,"getUTC"+r[t]),u(i,"set"+r[t],n,"setUTC"+r[t]);return i}function r(n,t){if(t.timezone=="browser")return new Date(n);if(t.timezone&&t.timezone!="utc"){if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(n),i}return e(new Date(n))}return e(new Date(n))}function s(f){f.hooks.processOptions.push(function(f){n.each(f.getAxes(),function(n,f){var e=f.options;e.mode=="time"&&(f.tickGenerator=function(n){var nt=[],u=r(n.min,e),b=0,v=e.tickSize&&e.tickSize[1]==="quarter"||e.minTickSize&&e.minTickSize[1]==="quarter"?o:c,h,l,f,k,p,s,a,w,y,tt,d,g;for(e.minTickSize!=null&&(b=typeof e.tickSize=="number"?e.tickSize:e.minTickSize[0]*t[e.minTickSize[1]]),h=0;h<v.length-1;++h)if(n.delta<(v[h][0]*t[v[h][1]]+v[h+1][0]*t[v[h+1][1]])/2&&v[h][0]*t[v[h][1]]>=b)break;l=v[h][0],f=v[h][1],f=="year"&&(e.minTickSize!=null&&e.minTickSize[1]=="year"?l=Math.floor(e.minTickSize[0]):(k=Math.pow(10,Math.floor(Math.log(n.delta/t.year)/Math.LN10)),p=n.delta/t.year/k,l=p<1.5?1:p<3?2:p<7.5?5:10,l*=k),l<1&&(l=1)),n.tickSize=e.tickSize||[l,f],s=n.tickSize[0],f=n.tickSize[1],a=s*t[f],f=="second"?u.setSeconds(i(u.getSeconds(),s)):f=="minute"?u.setMinutes(i(u.getMinutes(),s)):f=="hour"?u.setHours(i(u.getHours(),s)):f=="month"?u.setMonth(i(u.getMonth(),s)):f=="quarter"?u.setMonth(3*i(u.getMonth()/3,s)):f=="year"&&u.setFullYear(i(u.getFullYear(),s)),u.setMilliseconds(0),a>=t.minute&&u.setSeconds(0),a>=t.hour&&u.setMinutes(0),a>=t.day&&u.setHours(0),a>=t.day*4&&u.setDate(1),a>=t.month*2&&u.setMonth(i(u.getMonth(),3)),a>=t.quarter*2&&u.setMonth(i(u.getMonth(),6)),a>=t.year&&u.setMonth(0),w=0,y=Number.NaN;do tt=y,y=u.getTime(),nt.push(y),f=="month"||f=="quarter"?s<1?(u.setDate(1),d=u.getTime(),u.setMonth(u.getMonth()+(f=="quarter"?3:1)),g=u.getTime(),u.setTime(y+w*t.hour+(g-d)*s),w=u.getHours(),u.setHours(0)):u.setMonth(u.getMonth()+s*(f=="quarter"?3:1)):f=="year"?u.setFullYear(u.getFullYear()+s):u.setTime(y+a);while(y<n.max&&y!=tt);return nt},f.tickFormatter=function(n,i){var v=r(n,i.options),a;if(e.timeformat!=null)return u(v,e.timeformat,e.monthNames,e.dayNames);var c=i.options.tickSize&&i.options.tickSize[1]=="quarter"||i.options.minTickSize&&i.options.minTickSize[1]=="quarter",o=i.tickSize[0]*t[i.tickSize[1]],l=i.max-i.min,s=e.twelveHourClock?" %p":"",h=e.twelveHourClock?"%I":"%H",f;return f=o<t.minute?h+":%M:%S"+s:o<t.day?l<2*t.day?h+":%M"+s:"%b %d "+h+":%M"+s:o<t.month?"%b %d":c&&o<t.quarter||!c&&o<t.year?l<t.year?"%b":"%b %Y":c&&o<t.year?l<t.year?"Q%q":"Q%q %Y":"%Y",a=u(v,f,e.monthNames,e.dayNames)})})})}var h={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},t={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:365.2425*864e5},f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=f.concat([[3,"month"],[6,"month"],[1,"year"]]),o=f.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);n.plot.plugins.push({init:s,options:h,name:"time",version:"1.0"}),n.plot.formatDate=u,n.plot.dateGenerator=r}(jQuery),function(n,t){var u=Advantshop,r=u.Utilities,f=u.ScriptsManager,i=function(t,i,r){return this.$obj=u.GetJQueryObject(t),this.options=n.extend({},this.defaultOptions,r),this.data=i,this};f.Chart=i,i.prototype.InitTotal=function(){for(var o=n('[data-plugin="chart"]:visible'),u,f,s,t=0,e=o.length;t<e;t+=1)(u=o.eq(t),f=r.Eval(u.attr("data-chart")),s=r.Eval(u.attr("data-chart-options"))||{},f!=null)&&i.prototype.Init(u,f,s)},n(i.prototype.InitTotal),i.prototype.Init=function(t,r,u){if(n.plot!=null){var f=new i(t,r,u);f.$obj.hide(),n.plot(f.$obj,f.data,f.options),f.$obj.show(),f.BindEvent()}},i.prototype.BindEvent=function(){var f=this,u=null;if(r.Events.isExistEvent(t,"resize.chartResize")!==!0)t.on("resize.chartResize",function(){this.resizeTO!=null&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){i.prototype.InitTotal()},100)});if(r.Events.isExistEvent(f.$obj,"plothover")!==!0)f.$obj.on("plothover",function(t,i,r){if(r!=null){if(u!=r.dataIndex){u=r.dataIndex;var e="";e=n.isArray(r.datapoint[1])?"<div>"+r.series.label+"</div> <b>"+r.datapoint[1][0][1]+"</b>":"<div>"+n.plot.formatDate(new Date(r.datapoint[0]),"%d %b")+"</div> <b>"+r.datapoint[1]+"</b>",f.showTooltip(r,i.pageX,i.pageY,e)}}else n("#chartTooltip").hide(),u=null})},i.prototype.showTooltip=function(t,i,r,u){var f=n("#chartTooltip");f.length===0?(f=n("<div />",{id:"chartTooltip","class":"chart-tooltip",css:{zIndex:"9999"}}),f.appendTo("body")):f.hide(),f.html(u),f.css({top:r+0,left:i+15,backgroundColor:t.series.color,color:"#fff",padding:"0 10px"}),f.stop(!0,!0).fadeIn(200)},i.prototype.defaultOptions={canvas:!0,series:{lines:{show:!0},points:{show:!0}},grid:{hoverable:!0}}}(jQuery,$(window)),function(n){n(function(){var t=n('[data-plugin="radiolist"]'),r=t.find("label"),i=t.find('input[type="radio"]');t.addClass("radiolist"),i.filter(":checked").closest("label").addClass("radiolist-checked");t.on("click",function(t){var i=n(t.target).closest("label");i.is("label")===!0&&i.hasClass("radiolist-checked")===!1&&(r.removeClass("radiolist-checked"),i.addClass("radiolist-checked"))})})}(jQuery),function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function a(n){return function(){return this[n].apply(this,arguments)}}function y(t,i){function s(n,t){return t.toLowerCase()}var e=n(t).data(),u={},f,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in e)i.test(r)&&(f=r.replace(o,s),u[f]=e[r]);return u}function p(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(c,function(n,t){t in i&&(u[t]=i[t])}),u}var h=n(window),v=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var r=n&&n.valueOf(),t=0,i=this.length;t<i;t++)if(this[t].valueOf()===r)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var n=new v;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){this.dates=new v,this.viewDate=e(),this.focusDate=null,this._process_options(r),this.element=n(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=n(i.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(n,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()},s,l,o,c,r,i;f.prototype={constructor:f,_process_options:function(t){var u,s,h,f,e;this._o=n.extend({},this._o,t),u=this.o=n.extend({},this._o),s=u.language,r[s]||(s=s.split("-")[0],r[s]||(s=o.language)),u.language=s;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}if(u.startView=Math.max(u.startView,u.minViewMode),u.multidate!==!0&&(u.multidate=Number(u.multidate)||!1,u.multidate=u.multidate!==!1?Math.max(0,u.multidate):1),u.multidateSeparator=String(u.multidateSeparator),u.weekStart%=7,u.weekEnd=(u.weekStart+6)%7,h=i.parseFormat(u.format),u.startDate!==-Infinity&&(u.startDate=u.startDate?u.startDate instanceof Date?this._local_to_utc(this._zero_time(u.startDate)):i.parseDate(u.startDate,h,u.language):-Infinity),u.endDate!==Infinity&&(u.endDate=u.endDate?u.endDate instanceof Date?this._local_to_utc(this._zero_time(u.endDate)):i.parseDate(u.endDate,h,u.language):Infinity),u.daysOfWeekDisabled=u.daysOfWeekDisabled||[],n.isArray(u.daysOfWeekDisabled)||(u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/)),u.daysOfWeekDisabled=n.map(u.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f=String(u.orientation).toLowerCase().split(/\s+/g),e=u.orientation.toLowerCase(),f=n.grep(f,function(n){return/^auto|left|right|top|bottom$/.test(n)}),u.orientation={x:"auto",y:"auto"},e&&e!=="auto")if(f.length===1)switch(f[0]){case"top":case"bottom":u.orientation.y=f[0];break;case"left":case"right":u.orientation.x=f[0]}else e=n.grep(f,function(n){return/^left|right$/.test(n)}),u.orientation.x=e[0]||"auto",e=n.grep(f,function(n){return/^top|bottom$/.test(n)}),u.orientation.y=e[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0],n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]),this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var f=r||this.dates.get(-1),u=this._utc_to_local(f);this.element.trigger({type:t,date:u,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1),t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var n=this.getFormattedDate();this.isInput?this.element.val(n).change():this.component&&this.element.find("input").val(n).change()},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},setStartDate:function(n){this._process_options({startDate:n}),this.update(),this.updateNavArrows()},setEndDate:function(n){this._process_options({endDate:n}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(n){this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows()},place:function(){var i,s,f;if(!this.isInline){var u=this.picker.outerWidth(),o=this.picker.outerHeight(),l=10,c=h.width(),w=h.height(),a=h.scrollTop(),y=parseInt(this.element.parents().filter(function(){return n(this).css("z-index")!=="auto"}).first().css("z-index"))+10,t=this.component?this.component.parent().offset():this.element.offset(),v=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),r=t.left,e=t.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(r-=u-p)):(this.picker.addClass("datepicker-orient-left"),t.left<0?r-=t.left-l:t.left+u>c&&(r=c-u-l)),i=this.o.orientation.y,i==="auto"&&(s=-a+t.top-o,f=a+w-(t.top+v+o),i=Math.max(s,f)===f?"top":"bottom"),this.picker.addClass("datepicker-orient-"+i),i==="top"?e+=v:e-=o+parseInt(this.picker.css("padding-top")),this.picker.css({top:e,left:r,zIndex:y})}},_allow_update:!0,update:function(){if(this._allow_update){var u=this.dates.copy(),t=[],r=!1;arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i)),t.push(i)},this)),r=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language)},this)),t=n.grep(t,n.proxy(function(n){return n<this.o.startDate||n>this.o.endDate||!n},this),!0),this.dates.replace(t),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():t.length&&String(u)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&u.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var i=this.o.weekStart,n="<tr>",t;for(this.o.calendarWeeks&&(t='<th class="cw">&nbsp;</th>',n+=t,this.picker.find(".datepicker-days thead tr:first-child").prepend(t));i<this.o.weekStart+7;)n+='<th class="dow">'+r[this.o.language].daysMin[i++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var t="",n=0;n<12;)t+='<span class="month">'+r[this.o.language].monthsShort[n++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var tt=new Date(this.viewDate),f=tt.getUTCFullYear(),nt=tt.getUTCMonth(),w=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,ot=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,p=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,et=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",b,e,k,c,s,h,o,a,g,d,l,v;for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(r[this.o.language].months[nt]+" "+f),this.picker.find("tfoot th.today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(ft).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),e=u(f,nt-1,28),k=i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),e.setUTCDate(k),e.setUTCDate(k-(e.getUTCDay()-this.o.weekStart+7)%7),c=new Date(e),c.setUTCDate(c.getUTCDate()+42),c=c.valueOf(),s=[];e.valueOf()<c;){if(e.getUTCDay()===this.o.weekStart&&(s.push("<tr>"),this.o.calendarWeeks)){var rt=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864e5),it=new Date(Number(rt)+(11-rt.getUTCDay())%7*864e5),y=new Date(Number(y=u(it.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),st=(it-y)/6048e5+1;s.push('<td class="cw">'+st+"</td>")}h=this.getClassNames(e),h.push("day"),this.o.beforeShowDay!==n.noop&&(o=this.o.beforeShowDay(this._utc_to_local(e)),o===t?o={}:typeof o=="boolean"?o={enabled:o}:typeof o=="string"&&(o={classes:o}),o.enabled===!1&&h.push("disabled"),o.classes&&(h=h.concat(o.classes.split(/\s+/))),o.tooltip&&(b=o.tooltip)),h=n.unique(h),s.push('<td class="'+h.join(" ")+'"'+(b?' title="'+b+'"':"")+">"+e.getUTCDate()+"</td>"),e.getUTCDay()===this.o.weekEnd&&s.push("</tr>"),e.setUTCDate(e.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(s.join("")),a=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active"),n.each(this.dates,function(n,t){t.getUTCFullYear()===f&&a.eq(t.getUTCMonth()).addClass("active")}),(f<w||f>p)&&a.addClass("disabled"),f===w&&a.slice(0,ot).addClass("disabled"),f===p&&a.slice(et+1).addClass("disabled"),s="",f=parseInt(f/10,10)*10,g=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td"),f-=1,d=n.map(this.dates,function(n){return n.getUTCFullYear()}),v=-1;v<11;v++)l=["year"],v===-1?l.push("old"):v===10&&l.push("new"),n.inArray(f,d)!==-1&&l.push("active"),(f<w||f>p)&&l.push("disabled"),s+='<span class="'+l.join(" ")+'">'+f+"</span>",f+=1;g.html(s)},updateNavArrows:function(){if(this._allow_update){var i=new Date(this.viewDate),n=i.getUTCFullYear(),t=i.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&t<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&t>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,e,f,s,c,o,l,h;if(t.preventDefault(),r=n(t.target).closest("span, td, th"),r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":c=i.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,c),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":o=new Date,o=u(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2),l=this.o.todayBtn==="linked"?null:"view",this._setDate(o,l);break;case"clear":this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(s=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(u(e,f,s))):(s=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,s))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(s=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.is(".old")?f===0?(f=11,e-=1):f-=1:r.is(".new")&&(f===11?(f=0,e+=1):f+=1),this._setDate(u(e,f,s)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n?t!==-1?this.dates.remove(t):this.dates.push(n):this.dates.clear(),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n)),t&&t!=="view"||(this.viewDate=n&&new Date(n)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(n,i){var e;if(!n)return t;if(!i)return n;var r=new Date(n.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),h=Math.abs(i),u,f;if(i=i>0?1:-1,h===1)f=i===-1?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==u},u=o+i,r.setUTCMonth(u),(u<0||u>11)&&(u=(u+12)%12);else{for(e=0;e<h;e++)r=this.moveMonth(r,i);u=r.getUTCMonth(),r.setUTCDate(s),f=function(){return u!==r.getUTCMonth()}}while(f())r.setUTCDate(--s),r.setUTCMonth(u);return r},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var o,t,i,u,r,f;if(this.picker.is(":not(:visible)")){n.keyCode===27&&this.show();return}o=!1,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode===37?-1:1,n.ctrlKey?(i=this.moveYear(this.dates.get(-1)||e(),t),u=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.dates.get(-1)||e(),t),u=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||e()),i.setUTCDate(i.getUTCDate()+t),u=new Date(r),u.setUTCDate(r.getUTCDate()+t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=u,this.setValue(),this.fill(),n.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode===38?-1:1,n.ctrlKey?(i=this.moveYear(this.dates.get(-1)||e(),t),u=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.dates.get(-1)||e(),t),u=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||e()),i.setUTCDate(i.getUTCDate()+t*7),u=new Date(r),u.setUTCDate(r.getUTCDate()+t*7)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=u,this.setValue(),this.fill(),n.preventDefault());break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),o=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(n.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n))),this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},s=function(t,i){this.element=n(t),this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n}),delete i.inputs,n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this)),this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")}),this.updateDates()},s.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var f=n(t.target).data("datepicker"),r=f.getUTCDate(),i=n.inArray(t.target,this.inputs),u=this.inputs.length;if(i!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(r)}),r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<u&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates(),delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()}),delete this.element.data().datepicker}},l=n.fn.datepicker,n.fn.datepicker=function(i){var u=Array.apply(null,arguments),r;return u.shift(),this.each(function(){var h=n(this),e=h.data("datepicker"),v=typeof i=="object"&&i,l;if(!e){var a=y(this,"date"),w=n.extend({},o,a,v),b=p(w.language),c=n.extend({},o,b,a,v);h.is(".input-daterange")||c.inputs?(l={inputs:c.inputs||h.find("input").toArray()},h.data("datepicker",e=new s(this,n.extend(c,l)))):h.data("datepicker",e=new f(this,c))}if(typeof i=="string"&&typeof e[i]=="function"&&(r=e[i].apply(e,u),r!==t))return!1}),r!==t?r:this},o=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=n.fn.datepicker.locale_opts=["format","rtl","weekStart"],n.fn.datepicker.Constructor=f,r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var i=n.replace(this.validParts,"\x00").split("\x00"),t=n.match(this.validParts);if(!i||!i.length||!t||t.length===0)throw new Error("Invalid date format.");return{separators:i,parts:t}},parseDate:function(e,o,s){function tt(){var n=this.slice(0,c[h].length),t=c[h].slice(0,n.length);return n===t}var nt,c,v,w,h,l,it,b,p;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),nt=/([\-+]\d+)([dmwy])/,c=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,h=0;h<c.length;h++){v=nt.exec(c[h]),w=parseInt(v[1]);switch(v[2]){case"d":e.setUTCDate(e.getUTCDate()+w);break;case"m":e=f.prototype.moveMonth.call(f.prototype,e,w);break;case"w":e.setUTCDate(e.getUTCDate()+w*7);break;case"y":e=f.prototype.moveYear.call(f.prototype,e,w)}}return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}c=e&&e.match(this.nonpunctuation)||[],e=new Date;var d={},g=["yyyy","yy","M","MM","m","mm","d","dd"],a={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},y,k;if(a.M=a.MM=a.mm=a.m,a.dd=a.d,e=u(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),l=o.parts.slice(),c.length!==l.length&&(l=n(l).filter(function(t,i){return n.inArray(i,g)!==-1}).toArray()),c.length===l.length){for(h=0,it=l.length;h<it;h++){if(y=parseInt(c[h],10),v=l[h],isNaN(y))switch(v){case"MM":k=n(r[s].months).filter(tt),y=n.inArray(k[0],r[s].months)+1;break;case"M":k=n(r[s].monthsShort).filter(tt),y=n.inArray(k[0],r[s].monthsShort)+1}d[v]=y}for(h=0;h<g.length;h++)p=g[h],p in d&&!isNaN(d[p])&&(b=new Date(e),a[p](b,d[p]),isNaN(b)||(e=b))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";for(typeof u=="string"&&(u=i.parseFormat(u)),e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'},i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+i.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table></div></div>",n.fn.datepicker.DPGlobal=i,n.fn.datepicker.noConflict=function(){return n.fn.datepicker=l,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))});n(function(){n('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(n){n.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",weekStart:1},n.fn.datepicker.defaults.language="ru",n.fn.datepicker.defaults.format="dd.mm.yyyy"}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n,t){var u=0,i=Array.prototype.slice,r=n.cleanData;n.cleanData=function(t){for(var u=0,i;(i=t[u])!=null;u++)try{n(i).triggerHandler("remove")}catch(f){}r(t)},n.widget=function(t,i,r){var s,e,u,o,h={},f=t.split(".")[0];t=t.split(".")[1],s=f+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[f]=n[f]||{},e=n[f][t],u=n[f][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,e,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var u=function(){return i.prototype[t].apply(this,arguments)},n=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=u,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:e?o.widgetEventPrefix:t},h,{constructor:u,namespace:f,widgetName:t,widgetFullName:s}),e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete e._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var c=r.match(/^(\w+)\s*(.*)$/),h=c[1]+u.eventNamespace,s=c[2];s?f.delegate(s,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var f,u,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],u=i.originalEvent,u)for(f in u)f in i||(i[f]=u[f]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(window.jQuery)}(function(n){"use strict";var t=0;n.ajaxTransport("iframe",function(i){if(i.async){var e=i.initialIframeSrc||"javascript:false;",r,u,f;return{send:function(o,s){r=n('<form style="display:none;"></form>'),r.attr("accept-charset",i.formAcceptCharset),f=/\?/.test(i.url)?"&":"?",i.type==="DELETE"?(i.url=i.url+f+"_method=DELETE",i.type="POST"):i.type==="PUT"?(i.url=i.url+f+"_method=PUT",i.type="POST"):i.type==="PATCH"&&(i.url=i.url+f+"_method=PATCH",i.type="POST"),t+=1,u=n('<iframe src="'+e+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,f=n.isArray(i.paramName)?i.paramName:[i.paramName];u.unbind("load").bind("load",function(){var t;try{if(t=u.contents(),!t.length||!t[0].firstChild)throw new Error;}catch(i){t=undefined}s(200,"success",{iframe:t}),n('<iframe src="'+e+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",u.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&n.each(i.formData,function(t,i){n('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(r)}),i.fileInput&&i.fileInput.length&&i.type==="POST"&&(t=i.fileInput.clone(),i.fileInput.after(function(n){return t[n]}),i.paramName&&i.fileInput.each(function(t){n(this).prop("name",f[t]||i.paramName)}),r.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),r.submit(),t&&t.length&&i.fileInput.each(function(i,r){var u=n(t[i]);n(r).prop("name",u.prop("name")),u.replaceWith(r)})}),r.append(u).appendTo(document.body)},abort:function(){u&&u.unbind("load").prop("src",e),r&&r.remove()}}}}),n.ajaxSetup({converters:{"iframe text":function(t){return t&&n(t[0].body).text()},"iframe json":function(t){return t&&n.parseJSON(n(t[0].body).text())},"iframe html":function(t){return t&&n(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&n.isXMLDoc(i)?i:n.parseXML(i.XMLDocument&&i.XMLDocument.xml||n(i.body).html())},"iframe script":function(t){return t&&n.globalEval(n(t[0].body).text())}}})}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],n):n(window.jQuery)}(function(n){"use strict";n.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||n('<input type="file">').prop("disabled")),n.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader),n.support.xhrFormDataFileUpload=!!window.FormData,n.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),n.widget("blueimp.fileupload",{options:{dropZone:n(document),pasteZone:n(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&n.each(i,function(n,i){t=t.replace("{"+n+"}",i)}),t},formData:function(n){return n.serializeArray()},add:function(t,i){if(t.isDefaultPrevented())return!1;(i.autoUpload||i.autoUpload!==!1&&n(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:n.support.blobSlice&&function(){var n=this.slice||this.webkitSlice||this.mozSlice;return n.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(n,t,i){var r=n-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=n),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&n.support.xhrFileUpload||n.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return typeof t.formData=="function"?t.formData(t.form):n.isArray(t.formData)?t.formData:n.type(t.formData)==="object"?(i=[],n.each(t.formData,function(n,t){i.push({name:n,value:t})}),i):[]},_getTotal:function(t){var i=0;return n.each(t,function(n,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?n.extend(t._progress,i):t._progress=i},_initResponseObject:function(n){var t;if(n._response)for(t in n._response)n._response.hasOwnProperty(t)&&delete n._response[t];else n._response={}},_onProgress:function(t,i){if(t.lengthComputable){var u=Date.now?Date.now():+new Date,r;if(i._time&&i.progressInterval&&u-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=u,r=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=r-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(u,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=r,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(u,r,i.bitrateInterval),this._trigger("progress",n.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",n.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var r=this,i=t.xhr?t.xhr():n.ajaxSettings.xhr();i.upload&&(n(i.upload).bind("progress",function(n){var i=n.originalEvent;n.lengthComputable=i.lengthComputable,n.loaded=i.loaded,n.total=i.total,r._onProgress(n,t)}),t.xhr=function(){return i})},_isInstanceOf:function(n,t){return Object.prototype.toString.call(t)==="[object "+n+"]"},_initXHRData:function(t){var f=this,i,r=t.files[0],e=t.multipart||!n.support.xhrFileUpload,u=t.paramName[0];t.headers=n.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),e&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),e?n.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:u,value:t.blob}):n.each(t.files,function(n,r){i.push({name:t.paramName[n]||u,value:r})})):(f._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,n.each(this._getFormData(t),function(n,t){i.append(t.name,t.value)})),t.blob?i.append(u,t.blob,r.name):n.each(t.files,function(n,r){(f._isInstanceOf("File",r)||f._isInstanceOf("Blob",r))&&i.append(t.paramName[n]||u,r,r.uploadName||r.name)})),t.data=i):(t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var i=n("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(n){this._isXHRUpload(n)?(this._chunkedUpload(n,!0)||(n.data||this._initXHRData(n),this._initProgressListener(n)),n.postMessage&&(n.dataType="postmessage "+(n.dataType||""))):this._initIframeSettings(n)},_getParamName:function(t){var r=n(t.fileInput),i=t.paramName;return i?n.isArray(i)||(i=[i]):(i=[],r.each(function(){for(var r=n(this),u=r.prop("name")||"files[]",t=(r.prop("files")||[1]).length;t;)i.push(u),t-=1}),i.length||(i=[r.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=n(t.fileInput.prop("form")),t.form.length||(t.form=n(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||n.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=n.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(n){return n.state?n.state():n.isResolved()?"resolved":n.isRejected()?"rejected":"pending"},_enhancePromise:function(n){return n.success=n.done,n.error=n.fail,n.complete=n.always,n},_getXHRPromise:function(t,i,r){var u=n.Deferred(),f=u.promise();return i=i||this.options.context||f,t===!0?u.resolveWith(i,r):t===!1&&u.rejectWith(i,r),f.abort=u.promise,this._enhancePromise(f)},_addConvenienceMethods:function(t,i){var r=this,u=function(t){return n.Deferred().resolveWith(r,t).promise()};i.process=function(t,f){return(t||f)&&(i._processQueue=this._processQueue=(this._processQueue||u([this])).pipe(function(){return i.errorThrown?n.Deferred().rejectWith(r,[i]).promise():u(arguments)}).pipe(t,f)),this._processQueue||u([this])},i.submit=function(){return this.state()!=="pending"&&(i.jqXHR=this.jqXHR=r._trigger("submit",n.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._getXHRPromise())},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(n){var r=n.getResponseHeader("Range"),t=r&&r.split("-"),i=t&&t.length>1&&parseInt(t[1],10);return i&&i+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var u=this,f=t.files[0],e=f.size,r=t.uploadedBytes,a=t.maxChunkSize||e,c=this._blobSlice,o=n.Deferred(),s=o.promise(),l,h;return!(this._isXHRUpload(t)&&c&&(r||a<e))||t.data?!1:i?!0:r>=e?(f.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",f.error])):(h=function(){var i=n.extend({},t),s=i._progress.loaded;i.blob=c.call(f,r,r+a,f.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+r+"-"+(r+i.chunkSize-1)+"/"+e,u._initXHRData(i),u._initProgressListener(i),l=(u._trigger("chunksend",null,i)!==!1&&n.ajax(i)||u._getXHRPromise(!1,i.context)).done(function(f,c,l){r=u._getUploadedBytes(l)||r+i.chunkSize,s+i.chunkSize-i._progress.loaded&&u._onProgress(n.Event("progress",{lengthComputable:!0,loaded:r-i.uploadedBytes,total:r-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=r,i.result=f,i.textStatus=c,i.jqXHR=l,u._trigger("chunkdone",null,i),u._trigger("chunkalways",null,i),r<e?h():o.resolveWith(i.context,[f,c,l])}).fail(function(n,t,r){i.jqXHR=n,i.textStatus=t,i.errorThrown=r,u._trigger("chunkfail",null,i),u._trigger("chunkalways",null,i),o.rejectWith(i.context,[n,t,r])})},this._enhancePromise(s),s.abort=function(){return l.abort()},h(),s)},_beforeSend:function(n,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,r,u){var e=u._progress.total,f=u._response;u._progress.loaded<e&&this._onProgress(n.Event("progress",{lengthComputable:!0,loaded:e,total:e}),u),f.result=u.result=t,f.textStatus=u.textStatus=i,f.jqXHR=u.jqXHR=r,this._trigger("done",null,u)},_onFail:function(n,t,i,r){var u=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),u.jqXHR=r.jqXHR=n,u.textStatus=r.textStatus=t,u.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(n,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r=this,e,s,f,h,u=r._getAJAXSettings(i),o=function(){return r._sending+=1,u._bitrateTimer=new r._BitrateTimer,e=e||((s||r._trigger("send",n.Event("send",{delegatedEvent:t}),u)===!1)&&r._getXHRPromise(!1,u.context,s)||r._chunkedUpload(u)||n.ajax(u)).done(function(n,t,i){r._onDone(n,t,i,u)}).fail(function(n,t,i){r._onFail(n,t,i,u)}).always(function(n,t,i){if(r._onAlways(n,t,i,u),r._sending-=1,r._active-=1,u.limitConcurrentUploads&&u.limitConcurrentUploads>r._sending)for(var f=r._slots.shift();f;){if(r._getDeferredState(f)==="pending"){f.resolve();break}f=r._slots.shift()}r._active===0&&r._trigger("stop")})};return(this._beforeSend(t,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)?(this.options.limitConcurrentUploads>1?(f=n.Deferred(),this._slots.push(f),h=f.pipe(o)):(this._sequence=this._sequence.pipe(o,o),h=this._sequence),h.abort=function(){return(s=[undefined,"abort","abort"],!e)?(f&&f.rejectWith(u.context,s),o()):e.abort()},this._enhancePromise(h)):o()},_onAdd:function(t,i){var h=this,l=!0,o=n.extend({},this.options,i),e=o.limitMultiFileUploads,c=this._getParamName(o),f,s,u,r;if((o.singleFileUploads||e)&&this._isXHRUpload(o))if(!o.singleFileUploads&&e)for(u=[],f=[],r=0;r<i.files.length;r+=e)u.push(i.files.slice(r,r+e)),s=c.slice(r,r+e),s.length||(s=c),f.push(s);else f=c;else u=[i.files],f=[c];return i.originalFiles=i.files,n.each(u||i.files,function(r,e){var o=n.extend({},i);return o.files=u?e:[e],o.paramName=f[r],h._initResponseObject(o),h._initProgressObject(o),h._addConvenienceMethods(t,o),l=h._trigger("add",n.Event("add",{delegatedEvent:t}),o)}),l},_replaceFileInput:function(t){var i=t.clone(!0);n("<form></form>").append(i)[0].reset(),t.after(i).detach(),n.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(n,r){return r===t[0]?i[0]:r}),t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,i){var e=this,r=n.Deferred(),u=function(n){n&&!n.entry&&(n.entry=t),r.resolve([n])},f;return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(n){n.relativePath=i,r.resolve(n)},u):t.isDirectory?(f=t.createReader(),f.readEntries(function(n){e._handleFileTreeEntries(n,i+t.name+"/").done(function(n){r.resolve(n)}).fail(u)},u)):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var r=this;return n.when.apply(n,n.map(t,function(n){return r._handleFileTreeEntry(n,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(n.map(i,function(n){var t;return n.webkitGetAsEntry?(t=n.webkitGetAsEntry(),t&&(t._file=n.getAsFile()),t):n.getAsEntry()})):n.Deferred().resolve(n.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=n(t);var u=t.prop("webkitEntries")||t.prop("entries"),i,r;if(u&&u.length)return this._handleFileTreeEntries(u);if(i=n.makeArray(t.prop("files")),i.length)i[0].name===undefined&&i[0].fileName&&n.each(i,function(n,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return n.Deferred().resolve([]).promise();i=[{name:r.replace(/^.*\\/,"")}]}return n.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return!(t instanceof n)||t.length===1?this._getSingleFileInputFiles(t):n.when.apply(n,n.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(t){var r=this,i={fileInput:n(t.target),form:n(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(u){i.files=u,r.options.replaceFileInput&&r._replaceFileInput(i.fileInput),r._trigger("change",n.Event("change",{delegatedEvent:t}),i)!==!1&&r._onAdd(t,i)})},_onPaste:function(t){var r=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};r&&r.length&&(n.each(r,function(n,t){var r=t.getAsFile&&t.getAsFile();r&&i.files.push(r)}),this._trigger("paste",n.Event("paste",{delegatedEvent:t}),i)!==!1&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var u=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,u._trigger("drop",n.Event("drop",{delegatedEvent:t}),r)!==!1&&u._onAdd(t,r)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=t.dataTransfer;i&&n.inArray("Files",i.types)!==-1&&this._trigger("dragover",n.Event("dragover",{delegatedEvent:t}))!==!1&&(t.preventDefault(),i.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),n.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=n.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,i),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof n||(t.fileInput=n(t.fileInput)),t.dropZone instanceof n||(t.dropZone=n(t.dropZone)),t.pasteZone instanceof n||(t.pasteZone=n(t.pasteZone))},_getRegExp:function(n){var t=n.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return t!=="url"&&n.type(i)==="string"&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options;n.each(n(this.element[0].cloneNode(!1)).data(),function(n,r){t._isRegExpOption(n,r)&&(r=t._getRegExp(r)),i[n]=r})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(n){t.files=n,i._onAdd(null,t)}):(t.files=n.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var e=this,i=n.Deferred(),u=i.promise(),r,f;return u.abort=function(){return(f=!0,r)?r.abort():(i.reject(null,"abort","abort"),u)},this._getFileInputFiles(t.fileInput).always(function(n){if(!f){if(!n.length){i.reject();return}t.files=n,r=e._onSend(null,t).then(function(n,t,r){i.resolve(n,t,r)},function(n,t,r){i.reject(n,t,r)})}}),this._enhancePromise(u)}if(t.files=n.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(n){var u=Advantshop,e=u.ScriptsManager,o=u.Utilities,r,i={},f=3e4,t=function(t,i){if(i.type==null)throw Error("Type of statistics not found");return this.$obj=u.GetJQueryObject(t),this.options=n.extend({},this.defaultOptions,i),this};e.NoticeStatistic=t,t.prototype.Init=function(n,i){var r=new t(n,i);r.GenerateHtml(),r.BindEvent()},t.prototype.GenerateHtml=function(){var u=this,t=u.options,r=n("<div />",{"class":t.cssClass!=null&&t.cssClass.length>0?t.cssClass:null});u.$obj.append(r),u.statisticBlock=r,i[t.type]==null&&(i[t.type]=[]),i[t.type].push(r)},t.prototype.BindEvent=function(){var n=this;t.prototype.Update()},t.prototype.Update=function(){var u=this;u.requestActive!==!0&&(u.requestActive=!0,r!=null&&clearTimeout(r),n.ajax({url:"httphandlers/statistic/getnoticestatistic.ashx",dataType:"json",cache:!1,success:function(n){var e=i[t.prototype.Type.Orders],u,o;if(e!=null)for(u=0,o=e.length;u<o;u+=1)n.LastOrdersCount!=0?e[u].html("+"+n.LastOrdersCount).show():e[u].html("").hide();r=setTimeout(function(){t.prototype.Update()},f)},error:function(){console!=null&&console.log("Error get data statistics")},complete:function(){u.requestActive=!1}}))},t.prototype.Type={Orders:"orders"},t.prototype.defaultOptions={type:null,cssClass:""}}(jQuery),function(n){n(function(){for(var y=document.getElementsByTagName("base")[0].href,r=n("#searchHeader"),e=n("#liSearchItems a"),l=n("#searchSubmenuContainer"),o=n("#searchSubmenu"),i=n("#txtAdminSearch"),t=JSON.parse(localStorage.getItem("adminSearchOptions"))||{},a=!1,f=0,c=e.length;f<c;f+=1)if(e.eq(f).text()===t.area){a=!0;break}if(a===!0)r.text(t.area),r.attr("data-href",t.url),i.attr("placeholder",t.placeholder);else{var u=e.eq(0),p=u.attr("data-placeholder"),s=u.text(),h=u.attr("href"),v=u.attr("data-type");t.type=v,t.placeholder=p,r.text(s),t.area=s,r.attr("data-href",h),t.url=h,localStorage.setItem("adminSearchOptions",JSON.stringify(t))}l.on("click",function(){o.show()});l.on("mouseleave",function(){o.hide()});e.on("click",function(u){u.preventDefault(),u.stopPropagation();var f=n(this),h=f.attr("data-placeholder"),c=f.attr("data-type"),e=f.attr("href"),s=f.text();r.html(s),t.area=s,r.attr("data-href",e),t.url=e,t.type=c,t.placeholder=h,i.attr("placeholder",h),o.hide(),i[0].autocompleter.setExtraParams({type:t.type}),localStorage.setItem("adminSearchOptions",JSON.stringify(t))});i.autocomplete("httpHandlers/adminsearch.ashx",{delay:10,minChars:1,matchSubset:1,autoFill:!1,matchContains:1,cacheLength:null,selectFirst:!1,maxItemsToShow:10,resultsClass:"search-results ac_results",width:313,onItemSelect:function(t,i){setTimeout(function(){window.location.assign(n("base").attr("href")+i.attr("href"))},1)}}),i[0].autocompleter.setExtraParams({type:t.type});n("#btnAdminSearch").on("click",function(n){if(i.val().length!==0){n.preventDefault();var t=new Advantshop.Utilities.Uri(y+r.attr("data-href"));t.replaceQueryParam("search",i.val()),window.location=t.toString()}})})}(jQuery),function(n){n(function(){var t=n("#battery"),i;t.length!==0&&(i=t.find("#batteryContent"),Advantshop.ScriptsManager.Tooltip.prototype.Init(t,i.show(),{isTooltipHover:!0}))})}(jQuery),function(n){n(function(){for(var r=n('[data-value="orders"]',"#MenuAdmin"),t=0,i=r.length;t<i;t+=1)Advantshop.ScriptsManager.NoticeStatistic.prototype.Init(r.eq(t),{type:"orders",cssClass:"orders-count"})})}(jQuery),$(function(){$("#share a").on("click",function(){$.ajax({cache:!1,url:"httphandlers/trial/trackevent.ashx",data:{trialevent:$(this).parent("div").attr("data-event"),trialparams:$(this).attr("data-network")}})})}),function(n){"use strict";n(function(){var i=n(".js-achievements-help");if(i.length!==0){var f=i.find(".js-achievements-help-title"),v=i.find(".js-achievements-help-title-text"),o=i.find(".js-achievements-help-container"),l=i.find(".js-achievements-help-content-wrap"),c=i.find(".js-achievements-help-content"),w=f.find(".js-achievements-help-close"),e=f.find(".js-achievements-help-collapse"),a=f.find(".js-achievements-help-getout"),y=i.find(".js-achievements-help-next"),p=i.find(".js-achievements-help-ready"),b=n(".js-achievements-help-call"),t=JSON.parse(localStorage.getItem("achievementsHelp"))||{Expanded:!0,scrollTop:0},s=!1,r,u,h;w.add(p).on("click.achievementsHelp",function(){i.is(":visible")===!0&&(i.hide(),i.css({top:"auto",left:"auto"}),i.addClass("achievements-help-default-position"),t.visible=!1,t.currentAchievementId=0,t.currentLevelId=0,localStorage.setItem("achievementsHelp",JSON.stringify(t)))});y.on("click.achievementsHelp",function(){t.ignore=t.ignore||[],t.ignore.push(t.currentAchievementId),t.currentAchievementId=0,t.currentLevelId=0,localStorage.setItem("achievementsHelp",JSON.stringify(t))});e.on("click.achievementsHelp",function(){o.is(":visible")===!0?(e.removeClass("achievements-help-collapse").addClass("achievements-help-expand"),o.hide(),i.addClass("achievements-help-block-collapse"),i.css({top:"auto",left:"auto"}),i.addClass("achievements-help-default-position"),t.Expanded=!1):(e.removeClass("achievements-help-expand").addClass("achievements-help-collapse"),i.removeClass("achievements-help-block-collapse"),o.show(),t.Expanded=!0),localStorage.setItem("achievementsHelp",JSON.stringify(t))});l.on("scroll.achievementsHelp",function(){var i=n(this);h!=null&&clearTimeout(h),h=setTimeout(function(){t.scrollTop=i.scrollTop(),localStorage.setItem("achievementsHelp",JSON.stringify(t))},500)});f.on("mousedown.achievementsHelp",function(t){s=!0,r={x:t.pageX,y:t.pageY};var f=i.offset();u={top:f.top-n(window).scrollTop(),left:f.left},t.preventDefault()});n(document).on("mousemove.achievementsHelp",function(n){if(u!=null&&r!=null){var f=u.left+(n.pageX-r.x),t=u.top+(n.pageY-r.y);i.css({left:f,top:t}),i.removeClass("achievements-help-default-position")}});f.on("mouseup.achievementsHelp",function(){u=null,r=null,s=!1});f.on("mouseout.achievementsHelp",function(){s==!1&&(u=null,r=null)});t.visible!==!1&&n.getJSON(c.attr("data-achievement-url-get"),{achievementId:t.currentAchievementId}).done(function(n){if(n.Ok===!0&&n.Result!=null){var r=a.attr("href")+"#tabid=tabAchievements_"+t.currentLevelId;a.attr("href",r),t.Expanded===!1&&(o.hide(),e.removeClass("achievements-help-collapse").addClass("achievements-help-expand"),i.addClass("achievements-help-block-collapse")),c.html(n.Result.Instructions),v.html(n.Result.Title),i.fadeIn(600,function(){(t.Expanded===!0||t.Expanded==null)&&l.scrollTop(t.scrollTop)})}})}})}(jQuery),function(n){"use strict";n(function(){var t=n(".js-achievements-popup");t.length>0&&n.advModal({htmlContent:t,buttons:[{textBtn:"Начать",classBtn:"btn-submit",func:function(){window.location.assign("Achievements.aspx")}},{textBtn:"Отмена",classBtn:"btn-action",isBtnClose:!0}]}).modalShow()})}(jQuery),function(n){"use strict";var t=localStorage.getItem("isShowBubbleOnLoad")!=null,i=function(n,r){n!=null&&t!==!0&&setTimeout(function(){jQuery.advModal.isQueueEmpty()===!0&&jQuery.advModal.countModalActive()===0?(n.Show(n.callers.eq(0)),t=!0,localStorage.setItem("isShowBubbleOnLoad","true")):i(n,r)},r)};n(window).load(function(){var r=n("#showcase");if(i(r.data("bubble"),300),t===!0)Bubble.prototype.Init(r,{eventTypeShow:"mouseenter",eventTypeHide:"mouseleave",isBackgroundEnabled:!1});else r.one("hide.bubble",function(){Bubble.prototype.Init(r,{eventTypeShow:"mouseenter",eventTypeHide:"mouseleave",isBackgroundEnabled:!1})})})}(jQuery)